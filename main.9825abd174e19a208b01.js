(self.webpackChunktienda=self.webpackChunktienda||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>fn,tb:()=>al,AFp:()=>nl,ip1:()=>tl,CZH:()=>el,hGG:()=>th,z2F:()=>Zl,sBO:()=>Zu,Sil:()=>yl,_Vd:()=>pu,EJc:()=>ll,SBq:()=>yu,qLn:()=>Cr,vpe:()=>Nc,gxx:()=>xo,tBr:()=>Rn,XFs:()=>O,OlP:()=>hn,zs3:()=>Zo,IIB:()=>Qc,ZZ4:()=>Uu,aQg:()=>Vu,soG:()=>cl,YKP:()=>ec,v3s:()=>zl,h0i:()=>tc,PXZ:()=>Vl,R0b:()=>_l,FiY:()=>Dn,r_U:()=>Xc,Lbi:()=>sl,g9A:()=>ol,Qsj:()=>_u,FYo:()=>wu,JOm:()=>Dr,Tiy:()=>Iu,q3G:()=>Tr,tp0:()=>Pn,EAV:()=>Jl,Rgc:()=>Wu,dDg:()=>xl,DyG:()=>dn,q4F:()=>Eu,GfV:()=>Su,s_b:()=>rc,ifc:()=>F,eFA:()=>jl,G48:()=>Ul,Gpc:()=>d,X6Q:()=>Fl,_c5:()=>Ql,VLi:()=>Nl,c2e:()=>ul,zSh:()=>Oo,wAp:()=>la,EiD:()=>wr,mCW:()=>nr,qzn:()=>Zn,JVY:()=>zn,pB0:()=>Wn,eBb:()=>$n,L6k:()=>Kn,LAX:()=>Jn,cg1:()=>aa,Tjo:()=>Yl,kL8:()=>ua,yhl:()=>Hn,dqk:()=>q,sIi:()=>ts,CqO:()=>_s,QGY:()=>bs,F4k:()=>ws,RDi:()=>At,AaK:()=>l,z3N:()=>Bn,qOj:()=>zo,TTD:()=>wt,_Bn:()=>hu,xp6:()=>ki,uIk:()=>os,Tol:()=>Vs,DjV:()=>na,ekj:()=>Ms,Suo:()=>Hc,Xpm:()=>X,lG2:()=>st,Yz7:()=>_,cJS:()=>T,oAB:()=>rt,Yjl:()=>at,Y36:()=>ls,_UZ:()=>gs,BQk:()=>vs,ynx:()=>ms,qZA:()=>ps,TgZ:()=>ds,EpF:()=>ys,n5z:()=>nn,Ikx:()=>ra,SDv:()=>eu,QtT:()=>ru,pQV:()=>nu,LFG:()=>kn,$8M:()=>on,FaB:()=>Yc,NdJ:()=>Ts,CRH:()=>zc,oxw:()=>Es,ALo:()=>Ec,lcZ:()=>Ac,xi3:()=>Cc,Hsn:()=>xs,F$t:()=>Cs,Q6J:()=>hs,s9C:()=>ks,MGl:()=>Os,DdM:()=>yc,VKq:()=>bc,WLB:()=>wc,kEZ:()=>_c,iGM:()=>Bc,MAs:()=>cs,CHM:()=>zt,LSH:()=>Ir,kYT:()=>it,Udp:()=>Us,YNc:()=>us,W1O:()=>Wc,_uU:()=>Ys,Oqu:()=>Qs,hij:()=>Xs,AsE:()=>ta,HOy:()=>ea,Gf:()=>Zc});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(8819);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${y(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{providers:t.providers||[],imports:t.imports||[]}}function I(t){return S(t,A)||S(t,x)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(k))?t[C]:null}const A=u({"\u0275prov":u}),C=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let N;function R(t){const e=N;return N=t,e}function D(t,e,n){const r=I(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function P(t){return{toString:t}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const U="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=U||j||M||V,G={},B=[],Z=[],H=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),K=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),J=u({"\u0275loc":u}),W=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let Q=0;function X(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||Z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Q++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[z]||null}(t)}function et(t){return function(t){return t[K]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||Z,declarations:t.declarations||Z,imports:t.imports||Z,exports:t.exports||Z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{nt[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=ct(t,!0);n.declarations=e.declarations||Z,n.imports=e.imports||Z,n.exports=e.exports||Z})}function ot(t,e){if(null==t)return G;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[H]||null}function ct(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(W)?t[W]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===G)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:G,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===G),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Et;function At(t){Et=t}function Ct(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}wt.ngInherit=!0;const kt={createRenderer:(t,e)=>Ct()};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Nt(t,e){return Ot(e[t])}function Rt(t,e){return Ot(e[t.index])}function Dt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ft(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return Gt.bindingsEnabled}function Zt(){return Gt.lFrame.lView}function Ht(){return Gt.lFrame.tView}function zt(t){Gt.lFrame.contextLView=t}function Kt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Gt.lFrame.currentTNode}function Jt(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Gt.lFrame.isParent}function Qt(){Gt.lFrame.isParent=!1}function Xt(){return Gt.isInCheckNoChangesMode}function te(t){Gt.isInCheckNoChangesMode=t}function ee(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Gt.lFrame.bindingIndex}function re(){return Gt.lFrame.bindingIndex++}function ie(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){Gt.lFrame.inI18n=t}function se(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Gt.lFrame.currentDirectiveIndex=t}function ue(){return Gt.lFrame.currentQueryIndex}function ce(t){Gt.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=de();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=de(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function de(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=ge;function ve(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return Gt.lFrame.selectedIndex}function be(t){Gt.lFrame.selectedIndex=t}function we(){const t=Gt.lFrame;return Dt(t.tView,t.selectedIndex)}function _e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Te(t,e,n){Ee(t,e,3,n)}function Ie(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Se(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ce=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ne(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Re(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==Ce}function Le(t){return 32767&t}function Fe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Me(t){const e=Ue;return Ue=t,e}let Ve=0;function je(t,e){const n=Ge(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=Be(t,e),o=t.injectorIndex;if(Pe(i)){const t=Le(i),n=Fe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ge(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Ze(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Ve++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function He(t,e,n){if(n&O.Optional)return t;b(e,"NodeInjector")}function ze(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&O.Optional):D(e,r,n&O.Optional)}finally{R(o)}}return He(r,e,n)}function Ke(t,e,n,r=O.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof o){if(!he(e,t,r))return r&O.Host?He(i,n,r):ze(e,n,r,i);try{const t=o();if(null!=t||r&O.Optional)return t;b(n)}finally{me()}}else if("number"==typeof o){let i=null,s=Ge(t,e),a=Ce,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?Be(t,e):e[s+8],a!==Ce&&tn(r,!1)?(i=e[1],s=Le(a),e=Fe(a,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=We(s,e,n,i,r,u);if(t!==$e)return t}a=e[s+8],a!==Ce&&tn(r,e[1].data[s+8]===u)&&Xe(o,s,e)?(i=t,s=Le(a),e=Fe(a,e)):s=-1}}}return ze(e,n,r,i)}const $e={};function Je(){return new en(Kt(),Zt())}function We(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ye(a,s,n,null==r?gt(a)&&Ue:r!=s&&0!=(3&a.type),i&O.Host&&o===a);return null!==u?Qe(e,s,u,a):$e}function Ye(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Qe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof xe){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(y(o[n]));const a=Me(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;he(t,r,O.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),Me(a),s.resolving=!1,me()}}return i}function Xe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&O.Self||t&O.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function nn(t){return P(()=>{const e=t.prototype.constructor,n=e[W]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return g(t)?()=>{const e=rn(p(t));return e&&e()}:yt(t)}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const sn="__parameters__",an="__prop__metadata__";function un(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function cn(t,e,n){return P(()=>{const r=un(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ln(t,e,n,r){return P(()=>{const i=un(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(an)?o[an]:Object.defineProperty(o,an,{value:{}})[an];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fn=new hn("AnalyzeForEntryComponents"),dn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function gn(t,e){t.forEach(t=>Array.isArray(t)?gn(t,e):e(t))}function mn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function bn(t,e,n){let r=_n(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wn(t,e){const n=_n(t,e);if(n>=0)return t[1|n]}function _n(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Tn={},In=/\n/gm,Sn="__source",En=u({provide:String,useValue:u});let An;function Cn(t){const e=An;return An=t,e}function xn(t,e=O.Default){if(void 0===An)throw new Error("inject() must be called from an injection context");return null===An?D(t,void 0,e):An.get(t,e&O.Optional?null:void 0,e)}function kn(t,e=O.Default){return(N||xn)(p(t),e)}function On(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(kn(t,n))}else e.push(kn(r))}return e}function Nn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Rn=Nn(cn("Inject",t=>({token:t})),-1),Dn=Nn(cn("Optional"),8),Pn=Nn(cn("SkipSelf"),4);let Ln;function Fn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,q.trustedTypes))try{Ln=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}class Un{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mn extends Un{getTypeName(){return"HTML"}}class Vn extends Un{getTypeName(){return"Style"}}class jn extends Un{getTypeName(){return"Script"}}class qn extends Un{getTypeName(){return"URL"}}class Gn extends Un{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof Un?t.changingThisBreaksApplicationSecurity:t}function Zn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Un&&t.getTypeName()||null}function zn(t){return new Mn(t)}function Kn(t){return new Vn(t)}function $n(t){return new jn(t)}function Jn(t){return new qn(t)}function Wn(t){return new Gn(t)}function Yn(t){const e=new Xn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Xn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nr(t){return(t=String(t)).match(tr)||t.match(er)?t:"unsafe:"+t}function rr(t){return(t=String(t)).split(",").map(t=>nr(t.trim())).join(", ")}function ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=ir("area,br,col,hr,img,wbr"),ar=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=ir("rp,rt"),cr=or(ur,ar),lr=or(sr,or(ar,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(ur,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr),hr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=ir("srcset"),dr=or(hr,fr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pr=ir("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!dr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;hr[i]&&(o=nr(o)),fr[i]&&(o=rr(o)),this.buf.push(" ",e,'="',yr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();lr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function wr(t,e){let n=null;try{br=br||Yn(t);let r=e?String(e):"";n=br.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==o);return Fn((new gr).sanitizeChildren(_r(n)||n))}finally{if(n){const t=_r(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=(()=>((Tr=Tr||{})[Tr.NONE=0]="NONE",Tr[Tr.HTML=1]="HTML",Tr[Tr.STYLE=2]="STYLE",Tr[Tr.SCRIPT=3]="SCRIPT",Tr[Tr.URL=4]="URL",Tr[Tr.RESOURCE_URL=5]="RESOURCE_URL",Tr))();function Ir(t){const e=function(){const t=Zt();return t&&t[12]}();return e?e.sanitize(Tr.URL,t)||"":Zn(t,"URL")?Bn(t):nr(v(t))}function Sr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Ar(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sr(t)?Sr(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}const xr=/^>|^->|<!--|-->|--!>|<!-$/g,kr=/(<|>)/;function Or(t,e){t.__ngContext__=e}const Nr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Rr(t){return t instanceof Function?t():t}var Dr=(()=>((Dr=Dr||{})[Dr.Important=1]="Important",Dr[Dr.DashCase=2]="DashCase",Dr))();let Pr;function Lr(t,e){return Pr(t,e)}function Fr(t){const e=t[3];return dt(e)?e[3]:e}function Ur(t){return Vr(t[13])}function Mr(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=Ot(r);0===t&&null!==n?null==i?Qr(e,n,a):Yr(e,n,a,i||null,!0):1===t&&null!==n?Yr(e,n,a,i||null,!0):2===t?li(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ot(n)&&jr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function qr(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}function Gr(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}function Br(t,e){return t.createComment(function(t){return t.replace(xr,t=>t.replace(kr,"\u200b$1\u200b"))}(e))}function Zr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function zr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=vn(t,ht+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Kr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return $r(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&$r(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&$r(e[1],e),n=e&&e[4]}e=n}}(e)}}function $r(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ot(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Jr(t,e,n){return Wr(t,e.parent,n)}function Wr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Rt(r,n)}function Yr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Xr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):Qr(t,e,n)}function ti(t,e){return xt(t)?t.parentNode(e):e.parentNode}function ei(t,e,n){return ii(t,e,n)}function ni(t,e,n){return 40&t.type?Rt(t,n):null}let ri,ii=ni;function oi(t,e){ii=t,ri=e}function si(t,e,n,r){const i=Jr(t,r,e),o=e[11],s=ei(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Xr(o,i,n[a],s,!1);else Xr(o,i,n,s,!1);void 0!==ri&&ri(o,r,e,n,i)}function ai(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return ci(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ai(t,n);{const n=t[e.index];return dt(n)?ci(-1,n):Ot(n)}}if(32&n)return Lr(e,t)()||Ot(t[e.index]);{const n=ui(t,e);return null!==n?Array.isArray(n)?n[0]:ai(Fr(t[16]),n):ai(t,e.next)}}return null}function ui(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ci(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ai(t,r)}return e[7]}function li(t,e,n){const r=ti(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function hi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Or(Ot(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)hi(t,e,n.child,r,i,o,!1),jr(e,t,i,a,o);else if(32&u){const s=Lr(n,r);let u;for(;u=s();)jr(e,t,i,u,o);jr(e,t,i,a,o)}else 16&u?di(t,e,r,n,i,o):jr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fi(t,e,n,r,i,o){hi(n,r,t.firstChild,e,i,o,!1)}function di(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)jr(e,t,i,a[u],o);else hi(t,e,a,s[3],i,o,!0)}function pi(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const vi="ng-template";function yi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bi(t){return 4===t.type&&t.value!==vi}function wi(t,e,n){return e===(4!==t.type||n?t.value:vi)}function _i(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wi(t,u,n)||""===u&&1===e.length){if(Ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yi(t.attrs,c,n)){if(Ti(r))return!1;s=!0}continue}const l=Ii(8&r?"class":u,i,bi(t),n);if(-1===l){if(Ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mi(e,c,0)||2&r&&c!==t){if(Ti(r))return!1;s=!0}}}}else{if(!s&&!Ti(r)&&!Ti(u))return!1;if(s&&Ti(u))continue;s=!1,r=u|1&r}}return Ti(r)||s}function Ti(t){return 0==(1&t)}function Ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Si(t,e,n=!1){for(let r=0;r<e.length;r++)if(_i(t,e[r],n))return!0;return!1}function Ei(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ai(t,e){return t?":not("+e.trim()+")":e}function Ci(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ti(s)||(e+=Ai(o,i),i=""),r=s,o=o||!Ti(r);n++}return""!==i&&(e+=Ai(o,i)),e}const xi={};function ki(t){Oi(Ht(),Zt(),ye()+t,Xt())}function Oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Te(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ie(e,r,0,n)}be(n)}function Ni(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Di(t){return 2|t}function Pi(t){return(131068&t)>>2}function Li(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ce(i),n.contentQueries(2,e[o],o)}}}function Mi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vi(t,e,n,r,i){let o=t.data[e];if(null===o)o=ji(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Jt();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function ji(t,e,n,r,i){const o=$t(),s=Yt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gi(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&wo(1,r,n);const i=t.template;null!==i&&Hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ui(t,e),t.staticViewQueries&&wo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ve()}}function Bi(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const o=Xt();try{jt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Hi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Te(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ie(e,n,0,null),Se(e,0)}if(function(t){for(let e=Ur(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ur(t);null!==e;e=Mr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Te(e,n)}else{const n=t.contentHooks;null!==n&&Ie(e,n,1),Se(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)be(~r);else{const i=r,o=n[++t],s=n[++t];se(o,i),s(2,e[i])}}}finally{be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&wo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Te(e,n)}else{const n=t.viewHooks;null!==n&&Ie(e,n,2),Se(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ve()}}function Zi(t,e,n,r){const i=e[10],o=!Xt(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&Gi(t,e,r),Bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Hi(t,e,n,r,i){const o=ye(),s=2&r;try{be(-1),s&&e.length>lt&&Oi(t,e,lt,Xt()),n(r,i)}finally{be(o)}}function zi(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ki(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||je(n,e),Or(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&ao(e,n,r);const u=Qe(e,t,a,n);Or(u,e),null!==s&&co(0,a-i,u,r,0,s),o&&(Lt(n.index,e)[8]=u)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{be(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||no(r,i)}}finally{be(-1),ae(s)}}(t,e,n))}function $i(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Yi(t,e,n,r){const i=To(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Io(t).push(r,i.length-1))}function Qi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xi(t,e,n,r,i,o,s,a){const u=Rt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Eo(t,n,c,r,i),gt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function to(t,e,n,r){let i=!1;if(Bt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Si(n,s.selectors,!1)&&(i||(i=[]),Ze(je(n,e),t,s.type),vt(s)?(ro(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,oo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=qi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Re(n.mergedAttrs,c.hostAttrs),so(t,n,e,u,c),io(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||bi(e)?null:lo(n,i);o.push(c),s=Qi(n,u,s),a=Qi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Re(n.mergedAttrs,n.attrs),i}function eo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function no(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ro(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function io(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function oo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function so(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new xe(o,vt(i),null);t.blueprint[r]=s,n[r]=s,eo(t,e,0,r,qi(t,n,i.hostVars,xi),i)}function ao(t,e,n){const r=Rt(e,t),i=Ji(n),o=t[10],s=mo(t,Mi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function uo(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function co(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function lo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ho(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fo(t,e){const n=Lt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Bi(t,n,t.template,n[8]):n[5]>0&&po(n)}}function po(t){for(let n=Ur(t);null!==n;n=Mr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Bi(t,e,t.template,e[8])}else e[5]>0&&po(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Mt(r)&&r[5]>0&&po(r)}}function go(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gi(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vo(t){for(;t;){t[2]|=64;const e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function yo(t,e,n){const r=e[10];r.begin&&r.begin();try{Bi(t,e,t.template,n)}catch(i){throw So(e,i),i}finally{r.end&&r.end()}}function bo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Zi(i,r,i.template,n)}}(t[8])}function wo(t,e,n){ce(0),e(t,n)}const _o=(()=>Promise.resolve(null))();function To(t){return t[7]||(t[7]=[])}function Io(t){return t.cleanup||(t.cleanup=[])}function So(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function Eo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ao(t,e,n){const r=Nt(e,t);Gr(t[11],r,n)}function Co(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const xo=new hn("INJECTOR",-1);class ko{get(t,e=Tn){if(e===Tn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Oo=new hn("Set Injector scope."),No={},Ro={},Do=[];let Po;function Lo(){return void 0===Po&&(Po=new ko),Po}function Fo(t,e=null,n=null,r){return new Uo(t,n,e||Lo(),r)}class Uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&gn(e,n=>this.processProvider(n,t,e)),gn([t],t=>this.processInjectorType(t,[],i)),this.records.set(xo,jo(void 0,this));const o=this.records.get(Oo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Tn,n=O.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&I(t);e=n&&this.injectableDefInScope(n)?jo(Mo(t),No):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Lo():this.parent).get(t,e=n&O.Optional&&e===Tn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Sn]&&i.unshift(e[Sn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(In,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{gn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];gn(r,t=>this.processProvider(t,n,r||Do))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,jo(a,No));const u=r.providers;if(null!=u&&!s){const e=t;gn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Go(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return qo(t)?jo(void 0,t.useValue):jo(Vo(t),No)}(t);if(Go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=jo(void 0,No,!0),e.factory=()=>On(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===No&&(e.value=Ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Mo(t){const e=I(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof hn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=yn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Vo(t,e,n){let r;if(Go(t)){const e=p(t);return yt(e)||Mo(e)}if(qo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Mo(e);r=()=>new e(...On(t.deps))}var i;return r}function jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qo(t){return null!==t&&"object"==typeof t&&En in t}function Go(t){return"function"==typeof t}const Bo=function(t,e,n){return function(t,e=null,n=null,r){const i=Fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class Zo{static create(t,e){return Array.isArray(t)?Bo(t,e,""):Bo(t.providers,t.parent,t.name||"")}}function Ho(t,e){_e(Ft(t)[1],Kt())}function zo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ko(t.inputs),e.declaredInputs=Ko(t.declaredInputs),e.outputs=Ko(t.outputs);const n=i.hostBindings;n&&Wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&$o(t,o),s&&Jo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Re(i.hostAttrs,n=Re(n,i.hostAttrs))}}(r)}function Ko(t){return t===G?{}:t===Z?[]:t}function $o(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Jo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}Zo.THROW_IF_NOT_FOUND=Tn,Zo.NULL=new ko,Zo.\u0275prov=_({token:Zo,providedIn:"any",factory:()=>kn(xo)}),Zo.__NG_ELEMENT_ID__=-1;let Yo=null;function Qo(){if(!Yo){const t=q.Symbol;if(t&&t.iterator)Yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Yo=n)}}}return Yo}class Xo{constructor(t){this.wrapped=t}static wrap(t){return new Xo(t)}static unwrap(t){return Xo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xo}}function ts(t){return!!es(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qo()in t)}function es(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ns(t,e,n){return t[e]=n}function rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function is(t,e,n,r){const i=rs(t,e,n);return rs(t,e+1,r)||i}function os(t,e,n,r){const i=Zt();return rs(i,re(),e)&&(Ht(),function(t,e,n,r,i,o){const s=Rt(t,e);uo(e[11],s,o,t.value,n,r,i)}(we(),i,t,e,n,r)),os}function ss(t,e,n,r){return rs(t,re(),n)?e+v(n)+r:xi}function as(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=is(t,e,n,r);return is(t,e+2,i,o)||s}(t,ne(),n,i,s,u);return ie(4),l?e+v(n)+r+v(i)+o+v(s)+a+v(u)+c:xi}function us(t,e,n,r,i,o,s,a){const u=Zt(),c=Ht(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Vi(e,t,4,s||null,Vt(c,a));to(e,n,l,Vt(c,u)),_e(e,l);const h=l.tViews=Wi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=u[11].createComment("");si(c,u,f,h),Or(f,u),mo(u,u[l]=ho(f,u,f,h)),mt(h)&&Ki(c,u,h),null!=s&&$i(u,h,a)}function cs(t){return Pt(Gt.lFrame.contextLView,lt+t)}function ls(t,e=O.Default){const n=Zt();return null===n?kn(t,e):Ke(Kt(),n,p(t),e)}function hs(t,e,n){const r=Zt();return rs(r,re(),e)&&Xi(Ht(),we(),r,t,e,r[11],n,!1),hs}function fs(t,e,n,r,i){const o=i?"class":"style";Eo(t,n,e.inputs[o],o,r)}function ds(t,e,n,r){const i=Zt(),o=Ht(),s=lt+t,a=i[11],u=i[s]=Zr(a,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Vi(e,t,2,i,Vt(a,o));return to(e,n,u,Vt(a,s)),null!==u.attrs&&Co(u,u.attrs,!1),null!==u.mergedAttrs&&Co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&gi(a,u,h);const f=c.styles;null!==f&&pi(a,u,f),64!=(64&c.flags)&&si(o,i,u,c),0===Gt.lFrame.elementDepthCount&&Or(u,i),Gt.lFrame.elementDepthCount++,mt(c)&&(Ki(o,i,c),zi(o,c,i)),null!==r&&$i(i,c)}function ps(){let t=Kt();Yt()?Qt():(t=t.parent,Wt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(_e(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&fs(n,e,Zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&fs(n,e,Zt(),e.stylesWithoutHost,!1)}function gs(t,e,n,r){ds(t,e,n,r),ps()}function ms(t,e,n){const r=Zt(),i=Ht(),o=t+lt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Vt(o,r),a=Vi(e,t,8,"ng-container",s);return null!==s&&Co(a,s,!0),to(e,n,a,Vt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Wt(s,!0);const a=r[o]=r[11].createComment("");si(i,r,a,s),Or(a,r),mt(s)&&(Ki(i,r,s),zi(i,s,r)),null!=n&&$i(r,s)}function vs(){let t=Kt();const e=Ht();Yt()?Qt():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(_e(e,t),pt(t)&&e.queries.elementEnd(t))}function ys(){return Zt()}function bs(t){return!!t&&"function"==typeof t.then}function ws(t){return!!t&&"function"==typeof t.subscribe}const _s=ws;function Ts(t,e,n=!1,r){const i=Zt(),o=Ht(),s=Kt();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&Io(t),l=To(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=a?a(f):G,p=d.target||f,g=l.length,m=a?t=>a(Ot(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ss(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Ss(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Ss(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ts}function Is(t,e,n,r){try{return!1!==n(r)}catch(i){return So(t,i),!1}}function Ss(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&vo(s);let a=Is(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Is(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Es(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}function As(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Si(t,o,!0):Ei(r,o))return i}else n=i}return n}function Cs(t){const e=Zt()[16][6];if(!e.projection){const n=e.projection=yn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?As(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function xs(t,e=0,n){const r=Zt(),i=Ht(),o=Vi(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Qt(),64!=(64&o.flags)&&function(t,e,n){di(e[11],0,e,n,Jr(t,n,e),ei(n.parent||e[6],n,e))}(i,r,o)}function ks(t,e,n){return Os(t,"",e,"",n),ks}function Os(t,e,n,r,i){const o=Zt(),s=ss(o,e,n,r);return s!==xi&&Xi(Ht(),we(),o,t,s,o[11],i,!1),Os}function Ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ri(o):Pi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Rs(t[a],e)&&(u=!0,t[a+1]=r?Fi(n):Di(n)),a=r?Ri(n):Pi(n)}u&&(t[n+1]=r?Di(o):Fi(o))}function Rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_n(t,e)>=0}const Ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ps(t){return t.substring(Ds.key,Ds.keyEnd)}function Ls(t,e){const n=Ds.textEnd;return n===e?-1:(e=Ds.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ds.key=e,n),Fs(t,e,n))}function Fs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Us(t,e,n){return qs(t,e,n,!1),Us}function Ms(t,e){return qs(t,e,null,!0),Ms}function Vs(t){Gs(bn,js,t,!0)}function js(t,e){for(let n=function(t){return function(t){Ds.key=0,Ds.keyEnd=0,Ds.value=0,Ds.valueEnd=0,Ds.textEnd=t.length}(t),Ls(t,Fs(t,0,Ds.textEnd))}(e);n>=0;n=Ls(e,n))bn(t,Ps(e),!0)}function qs(t,e,n,r){const i=Zt(),o=Ht(),s=ie(2);o.firstUpdatePass&&Zs(o,t,s,r),e!==xi&&rs(i,s,e)&&Ks(o,o.data[ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Bn(t)))),t}(e,n),r,s)}function Gs(t,e,n,r){const i=Ht(),o=ie(2);i.firstUpdatePass&&Zs(i,null,o,r);const s=Zt();if(n!==xi&&rs(s,o,n)){const a=i.data[ye()];if(Ws(a,r)&&!Bs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),fs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===xi&&(i=B);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Ks(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=Bn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Bs(t,e){return e>=t.expandoStartIndex}function Zs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ye()],s=Bs(t,n);Ws(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zs(n=Hs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Hs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Pi(r))return t[Ri(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Hs(null,t,e,n[1],r),n=zs(n,e.attrs,r),function(t,e,n,r){t[Ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zs(r,t[o].hostAttrs,n);return zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=Pi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_n(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ri(t[a+1]);t[r+1]=Ni(e,a),0!==e&&(t[e+1]=Li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ni(a,0),0!==a&&(t[a+1]=Li(t[a+1],r)),a=r;else t[r+1]=Ni(u,0),0===a?a=r:t[u+1]=Li(t[u+1],r),u=r;l&&(t[r+1]=Di(t[r+1])),Ns(t,c,r,!0),Ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_n(o,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,o),s=Ni(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Hs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Ks(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Js(1==(1&c)?$s(u,e,n,i,Pi(c),s):void 0)||(Js(o)||2==(2&c)&&(o=$s(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Dr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Nt(ye(),n),i,o))}function $s(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===xi&&(l=c?B:void 0);let h=c?wn(l,r):u===r?l:void 0;if(o&&!Js(h)&&(h=wn(e,r)),Js(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ri(f):Pi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=wn(t,r))}return a}function Js(t){return void 0!==t}function Ws(t,e){return 0!=(t.flags&(e?16:32))}function Ys(t,e=""){const n=Zt(),r=Ht(),i=t+lt,o=r.firstCreatePass?Vi(r,i,1,e,null):r.data[i],s=n[i]=qr(n[11],e);si(r,n,s,o),Wt(o,!1)}function Qs(t){return Xs("",t,""),Qs}function Xs(t,e,n){const r=Zt(),i=ss(r,t,e,n);return i!==xi&&Ao(r,ye(),i),Xs}function ta(t,e,n,r,i){const o=Zt(),s=function(t,e,n,r,i,o){const s=is(t,ne(),n,i);return ie(2),s?e+v(n)+r+v(i)+o:xi}(o,t,e,n,r,i);return s!==xi&&Ao(o,ye(),s),ta}function ea(t,e,n,r,i,o,s,a,u){const c=Zt(),l=as(c,t,e,n,r,i,o,s,a,u);return l!==xi&&Ao(c,ye(),l),ea}function na(t,e,n,r,i,o,s,a,u){Gs(bn,js,as(Zt(),t,e,n,r,i,o,s,a,u),!0)}function ra(t,e,n){const r=Zt();return rs(r,re(),e)&&Xi(Ht(),we(),r,t,e,r[11],n,!0),ra}const ia=void 0;var oa=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ca(e);if(n)return n;const r=e.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return aa(t)[la.PluralCase]}function ca(t){return t in sa||(sa[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),sa[t]}var la=(()=>((la=la||{})[la.LocaleId=0]="LocaleId",la[la.DayPeriodsFormat=1]="DayPeriodsFormat",la[la.DayPeriodsStandalone=2]="DayPeriodsStandalone",la[la.DaysFormat=3]="DaysFormat",la[la.DaysStandalone=4]="DaysStandalone",la[la.MonthsFormat=5]="MonthsFormat",la[la.MonthsStandalone=6]="MonthsStandalone",la[la.Eras=7]="Eras",la[la.FirstDayOfWeek=8]="FirstDayOfWeek",la[la.WeekendRange=9]="WeekendRange",la[la.DateFormat=10]="DateFormat",la[la.TimeFormat=11]="TimeFormat",la[la.DateTimeFormat=12]="DateTimeFormat",la[la.NumberSymbols=13]="NumberSymbols",la[la.NumberFormats=14]="NumberFormats",la[la.CurrencyCode=15]="CurrencyCode",la[la.CurrencySymbol=16]="CurrencySymbol",la[la.CurrencyName=17]="CurrencyName",la[la.Currencies=18]="Currencies",la[la.Directionality=19]="Directionality",la[la.PluralCase=20]="PluralCase",la[la.ExtraData=21]="ExtraData",la))();const ha=["zero","one","two","few","many"],fa="en-US",da={marker:"element"},pa={marker:"ICU"};var ga=(()=>((ga=ga||{})[ga.SHIFT=2]="SHIFT",ga[ga.APPEND_EAGERLY=1]="APPEND_EAGERLY",ga[ga.COMMENT=2]="COMMENT",ga))();let ma=fa;function va(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ma=t.toLowerCase().replace(/_/g,"-"))}function ya(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ni(t,0,n):Ot(n[i])}function ba(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Yr(t,s,n[o[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];_a(r)||Ta(r,e)&&null===Ia(r)&&Sa(r,e.index)}}function _a(t){return!(64&t.type)}function Ta(t,e){return _a(e)||t.index>e.index}function Ia(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Sa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(ya,ba),t.insertBeforeIndex=e)}function Ea(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Aa(t,e,n){const r=ji(t,n,64,null,null);return wa(e,r),r}function Ca(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let xa=0,ka=0;function Oa(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=qr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=ti(i,r)),c===s?(l=r,h=o):(l=null,h=Ot(n[c])),null!==h){const e=(131070&u)>>>1;Yr(i,h,n[e],l,!1);const r=Ea(t,e);if(null!==r&&"object"==typeof r){const e=Ca(r,n);null!==e&&Oa(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];uo(i,Nt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case pa:const t=e[++a],r=e[++a];null===n[r]&&Or(n[r]=Br(i,t),n);break;case da:const o=e[++a],s=e[++a];null===n[s]&&Or(n[s]=Zr(i,o,null),n)}}}function Na(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=v(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?uo(e[11],e[a],null,c,o,i,u):Xi(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Gr(e[11],l,i);break;case 2:Da(t,Ea(t,a),e,i);break;case 3:Ra(t,Ea(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Ea(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ra(t,n,r,e)}}o+=a}}function Ra(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=xa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Na(t,r,e.update[i],n,o)}}function Da(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ua(e)(parseInt(t,10)),r=ha[n];return void 0!==r?r:"other"}(e,ma);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ca(e,n)!==i&&(Pa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Oa(t,e.create[i],n,r)}}function Pa(t,e,n){let r=Ca(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Nt(r,n);null!==t&&li(n[11],t)}else Pa(t,Ea(t,~r),n)}}}const La=/\ufffd(\d+):?\d*\ufffd/gi,Fa=/\ufffd(\d+)\ufffd/,Ua=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ma=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Va=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ja=/\uE500/g;function qa(t,e,n,r,i,o,s){const a=qi(t,r,1,null);let u=a<<ga.SHIFT,c=Jt();e===c&&(c=null),null===c&&(u|=ga.APPEND_EAGERLY),s&&(u|=ga.COMMENT,void 0===Pr&&(Pr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ca(t,e);n=null!==i?t.remove[i]:Z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=ji(t,a,s?32:1,null===o?"":o,null);wa(n,l);const h=l.index;return Wt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(ya,ba),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ga(t,e,n,r,i,o,s){const a=s.match(La),u=qa(t,e,n,o,r,a?null:s,!1);a&&Ba(i,s,u.index)}function Ba(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,u=e.split(La);let c=0;for(let l=0;l<u.length;l++){const e=u[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=Za(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-a,c}function Za(t){return 1<<Math.min(t,31)}function Ha(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ma.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function za(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:qi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Za(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Ja(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ka(t){const e=[],n=[];let r=1,i=0;const o=$a(t=t.replace(Ua,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=$a(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function $a(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ua.test(n)?r.push(Ka(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ja(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Yn(Ct()).getInertBodyElement(s),f=_r(h)||h;return f?Wa(t,e,n,r,u,c,l,f,i,a,0):0}function Wa(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=qi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(lr.hasOwnProperty(p)){Xa(i,da,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(La)?dr.hasOwnProperty(n)&&(hr[n]?Ba(s,e.value,a,e.name,nr):fr[n]?Ba(s,e.value,a,e.name,rr):Ba(s,e.value,a,e.name)):tu(i,a,e)}h=Wa(t,e,n,r,i,o,s,f,a,c,l+1)|h,Ya(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(La);Xa(i,null,m?"":g,u,a),Ya(o,a,l),m&&(h=Ba(s,g,a)|h);break;case Node.COMMENT_NODE:const v=Fa.exec(f.textContent||"");if(v){const e=c[parseInt(v[1],10)];Xa(i,pa,"",u,a),za(t,n,r,u,e,a),Qa(o,a,l)}}f=f.nextSibling}return h}function Ya(t,e,n){0===n&&t.push(e)}function Qa(t,e,n){0===n&&(t.push(~e),t.push(e))}function Xa(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function tu(t,e,n){t.push(e<<1|1,n.name,n.value)}function eu(t,e,n){(function(t,e,n=-1){const r=Ht(),i=Zt(),o=lt+t,s=Vt(r.consts,e),a=Jt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Jt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ha(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ha(t.substring(n,r))}}(i,o),h.replace(ja," ")).split(Va);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=$a(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ga(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);za(t,n,u,e,r,qa(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Wt(Jt(),!1);else{const e=Aa(t,c[0],n);c.unshift([]),Wt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Wr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&ga.COMMENT)===ga.COMMENT,c=(s&ga.APPEND_EAGERLY)===ga.APPEND_EAGERLY,l=s>>>ga.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):qr(i,a)),c&&null!==n&&Yr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function nu(t){return rs(Zt(),re(),t)&&(xa|=1<<Math.min(ka,31)),ka++,nu}function ru(t){!function(t,e,n){if(ka>0){const r=t.data[n];Na(t,e,Array.isArray(r)?r:r.update,ne()-ka-1,xa)}xa=0,ka=0}(Ht(),Zt(),t+lt)}function iu(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{const o=Ht(),s=Zt();let a=Go(t)?t:p(t.provide),u=Vo(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Go(t)||!t.multi){const r=new xe(u,i,ls),d=au(a,e,i?l:l+f,h);-1===d?(Ze(je(c,s),o,a),ou(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=au(a,e,l+f,h),p=au(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ze(je(c,s),o,a);const l=function(t,e,n,r,i){const o=new xe(t,n,ls);return o.multi=[],o.index=e,o.componentProviders=0,su(o,i,r&&!n),o}(i?cu:uu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ou(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ou(o,t,d>-1?d:p,su(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=Go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function su(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function au(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function uu(t,e,n,r){return lu(this.multi,[])}function cu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),lu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],lu(i,o);return o}function lu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function hu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=vt(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class fu{}class du{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class pu{}function gu(...t){}function mu(t,e){return new yu(Rt(t,e))}pu.NULL=new du;const vu=function(){return mu(Kt(),Zt())};let yu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=vu,t})();function bu(t){return t instanceof yu?t.nativeElement:t}class wu{}let _u=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Tu(),t})();const Tu=function(){const t=Zt(),e=Lt(Kt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Iu=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Su{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Eu=new Su("11.2.11");class Au{constructor(){}supports(t){return ts(t)}create(t){return new xu(t)}}const Cu=(t,e)=>e;class xu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ru(n,r,i)?e:n,s=Ru(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ts(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Qo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ku(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Nu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ku{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ou{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Nu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ou,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ru(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Du{constructor(){}supports(t){return t instanceof Map||es(t)}create(){return new Pu}}class Pu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||es(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fu(){return new Uu([new Au])}let Uu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fu()),deps:[[t,new Pn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Fu}),t})();function Mu(){return new Vu([new Du])}let Vu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Mu()),deps:[[t,new Pn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Mu}),t})();function ju(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ot(o)),dt(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ju(e[1],e,n,r)}const s=n.type;if(8&s)ju(t,e,n.child,r);else if(32&s){const t=Lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ui(e,n);if(Array.isArray(t))r.push(...t);else{const n=Fr(e[16]);ju(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class qu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ju(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(zr(t,n),vn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}onDestroy(t){Yi(this._lView[1],this._lView,null,t)}markForCheck(){vo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{yo(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gu extends qu{constructor(t){super(t),this._view=t}detectChanges(){bo(this._view)}checkNoChanges(){!function(t){te(!0);try{bo(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Bu=Hu;let Zu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bu,t.__ChangeDetectorRef__=!0,t})();function Hu(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Lt(t.index,e);return new qu(n,n)}return 47&t.type?new qu(e[16],e):null}(Kt(),Zt(),t)}const zu=[new Du],Ku=new Uu([new Au]),$u=new Vu(zu),Ju=function(){return Xu(Kt(),Zt())};let Wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ju,t})();const Yu=Wu,Qu=class extends Yu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Mi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gi(e,n,t),new qu(n)}};function Xu(t,e){return 4&t.type?new Qu(e,t,mu(t,e)):null}class tc{}class ec{}const nc=function(){return uc(Kt(),Zt())};let rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=nc,t})();const ic=rc,oc=class extends ic{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=Be(this._hostTNode,this._hostLView);if(Pe(t)){const e=Fe(t,this._hostLView),n=Le(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(tc,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],mn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ci(i,o),a=n[11],u=ti(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,fi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),mn(ac(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(vn(ac(this._lContainer),e),Kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=vn(ac(this._lContainer),e)?new qu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function sc(t){return t[8]}function ac(t){return t[8]||(t[8]=[])}function uc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=Ot(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Yr(n,ti(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ho(r,e,i,t),mo(e,n)}return new oc(n,t,e)}const cc={};class lc extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new dc(e,this.ngModule)}}function hc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fc=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nr});class dc extends fu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return hc(this.componentDef.inputs)}get outputs(){return hc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,cc,i);return o!==cc||r===cc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(wu,kt),s=i.get(Iu,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Zr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Nr,clean:_o,playerHandler:null,flags:0},f=Wi(0,null,null,1,0,null,null,null,null,null),d=Mi(null,f,h,l,null,null,o,a,s,i);let p,g;fe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Vi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Co(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&pi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Mi(n,Ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ze(je(a,n),s,e.type),ro(s,a),oo(a,n.length,1)),mo(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)ke(a,c,["ng-version",Eu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&gi(a,c,e.join(" "))}if(g=Dt(f,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),so(t,r,e,qi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);Or(i,e);const o=Rt(r,e);return o&&Or(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const a=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(be(a.index),eo(n[1],a,0,a.directiveStart,a.directiveEnd,e),no(e,s)),s}(t,this.componentDef,d,h,[Ho]),Gi(f,d,null)}finally{ve()}return new pc(this.componentType,p,mu(g,d),d,g)}}class pc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Gu(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const gc=new Map;class mc extends tc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lc(this);const n=ct(t),r=t[J]||null;r&&va(r),this._bootstrapComponents=Rr(n.bootstrap),this._r3Injector=Fo(t,e,[{provide:tc,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Zo.THROW_IF_NOT_FOUND,n=O.Default){return t===Zo||t===tc||t===xo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vc extends ec{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,gc.get(i),n),gc.set(i,n));const o=Rr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new mc(this.moduleType,t)}}function yc(t,e,n){const r=ee()+t,i=Zt();return i[r]===xi?ns(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function bc(t,e,n,r){return Ic(Zt(),ee(),t,e,n,r)}function wc(t,e,n,r,i){return Sc(Zt(),ee(),t,e,n,r,i)}function _c(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=is(t,e,n,r);return rs(t,e+2,i)||o}(t,u,i,o,s)?ns(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Tc(t,u+3)}(Zt(),ee(),t,e,n,r,i,o)}function Tc(t,e){const n=t[e];return n===xi?void 0:n}function Ic(t,e,n,r,i,o){const s=e+n;return rs(t,s,i)?ns(t,s+1,o?r.call(o,i):r(i)):Tc(t,s+1)}function Sc(t,e,n,r,i,o,s){const a=e+n;return is(t,a,i,o)?ns(t,a+2,s?r.call(s,i,o):r(i,o)):Tc(t,a+2)}function Ec(t,e){const n=Ht();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=R(ls);try{const t=Me(!1),e=o();return Me(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Zt(),i,e),e}finally{R(s)}}function Ac(t,e,n){const r=t+lt,i=Zt(),o=Pt(i,r);return kc(i,xc(i,r)?Ic(i,ee(),e,o.transform,n,o):o.transform(n))}function Cc(t,e,n,r){const i=t+lt,o=Zt(),s=Pt(o,i);return kc(o,xc(o,i)?Sc(o,ee(),e,s.transform,n,r,s):s.transform(n,r))}function xc(t,e){return t[1].data[e].pure}function kc(t,e){return Xo.isWrapped(e)&&(e=Xo.unwrap(e),t[ne()]=xi),e}function Oc(t){return e=>{setTimeout(t,void 0,e)}}const Nc=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Oc(u),a&&(a=Oc(a)),c&&(c=Oc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Rc(){return this._results[Qo()]()}class Dc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Qo(),n=Dc.prototype;n[e]||(n[e]=Rc)}get changes(){return this._changes||(this._changes=new Nc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Lc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Jc(t,e).matches&&this.queries[e].setDirty()}}class Fc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Uc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Uc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Mc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Mc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Vc(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Wu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===yu||r===rc||r===Wu&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Vc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function jc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?mu(t,e):4&t.type?Xu(t,e):null}(e,t):-2===n?function(t,e,n){return n===yu?mu(e,t):n===Wu?Xu(e,t):n===rc?uc(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function qc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:jc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Gc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=qc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&Gc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Gc(n[1],n,i,r)}}}}}return r}function Bc(t){const e=Zt(),n=Ht(),r=ue();ce(r+1);const i=Jc(n,r);if(t.dirty&&Ut(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Gc(n,e,r,[]):qc(n,e,i,r);t.reset(o,bu),t.notifyOnChanges()}return!0}return!1}function Zc(t,e,n){const r=Ht();r.firstCreatePass&&($c(r,new Fc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Kc(r,Zt(),e)}function Hc(t,e,n,r){const i=Ht();if(i.firstCreatePass){const o=Kt();$c(i,new Fc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Kc(i,Zt(),n)}function zc(){return t=Zt(),e=ue(),t[19].queries[e].queryList;var t,e}function Kc(t,e,n){const r=new Dc(4==(4&n));Yi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Lc),e[19].queries.push(new Pc(r))}function $c(t,e,n){null===t.queries&&(t.queries=new Uc),t.queries.track(new Mc(e,n))}function Jc(t,e){return t.queries.getByIndex(e)}function Wc(t,e){return Xu(t,e)}function Yc(t=O.Default){const e=Hu(!0);if(null!=e||t&O.Optional)return e;b("ChangeDetectorRef")}const Qc=ln("Input",t=>({bindingPropertyName:t})),Xc=ln("Output",t=>({bindingPropertyName:t})),tl=new hn("Application Initializer");let el=(()=>{class t{constructor(t){this.appInits=t,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();bs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(tl,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const nl=new hn("AppId"),rl={provide:nl,useFactory:function(){return`${il()}${il()}${il()}`},deps:[]};function il(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ol=new hn("Platform Initializer"),sl=new hn("Platform ID"),al=new hn("appBootstrapListener");let ul=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const cl=new hn("LocaleId"),ll=new hn("DefaultCurrencyCode");class hl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const fl=function(t){return new vc(t)},dl=fl,pl=function(t){return Promise.resolve(fl(t))},gl=function(t){const e=fl(t),n=Rr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new dc(n)),t},[]);return new hl(e,n)},ml=gl,vl=function(t){return Promise.resolve(gl(t))};let yl=(()=>{class t{constructor(){this.compileModuleSync=dl,this.compileModuleAsync=pl,this.compileModuleAndAllComponentsSync=ml,this.compileModuleAndAllComponentsAsync=vl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const bl=(()=>Promise.resolve(0))();function wl(t){"undefined"==typeof Zone?bl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _l{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sl(t),Il(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return El(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Al(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return El(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Al(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Sl(t),Il(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Tl,gu,gu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Tl={};function Il(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function El(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Al(t){t._nesting--,Il(t)}class Cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let xl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(_l))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),kl=(()=>{class t{constructor(){this._applications=new Map,Dl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Dl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Ol{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Nl(t){Dl=t}let Rl,Dl=new Ol,Pl=!0,Ll=!1;function Fl(){return Ll=!0,Pl}function Ul(){if(Ll)throw new Error("Cannot enable prod mode after platform setup.");Pl=!1}const Ml=new hn("AllowMultipleToken");class Vl{constructor(t,e){this.name=t,this.token=e}}function jl(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let o=ql();if(!o||o.injector.get(Ml,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Oo,useValue:"platform"});!function(t){if(Rl&&!Rl.destroyed&&!Rl.injector.get(Ml,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rl=t.get(Gl);const e=t.get(ol,null);e&&e.forEach(t=>t())}(Zo.create({providers:t,name:r}))}return function(t){const e=ql();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ql(){return Rl&&!Rl.destroyed?Rl:null}let Gl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cl:("zone.js"===t?void 0:t)||new _l({enableLongStackTrace:Fl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:_l,useValue:n}];return n.run(()=>{const e=Zo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Hl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return bs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(el);return t.runInitializers(),t.donePromise.then(()=>(va(i.injector.get(cl,fa)||fa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Bl({},e);return function(t,e,n){const r=new vc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Zl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Zo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Bl(t,e){return Array.isArray(e)?e.reduce(Bl,t):Object.assign(Object.assign({},t),e)}let Zl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),wl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(tc),i=n.create(Zo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(xl,null),a=s&&i.injector.get(kl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Hl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Hl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(al,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(_l),kn(Zo),kn(Cr),kn(pu),kn(el))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Hl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zl{}class Kl{}const $l={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Jl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||$l}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Wl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Wl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(yl),kn(Kl,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Wl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Yl=function(t){return null},Ql=jl(null,"core",[{provide:sl,useValue:"unknown"},{provide:Gl,deps:[Zo]},{provide:kl,deps:[]},{provide:ul,deps:[]}]),Xl=[{provide:Zl,useClass:Zl,deps:[_l,Zo,Cr,pu,el]},{provide:fc,deps:[_l],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:el,useClass:el,deps:[[new Dn,tl]]},{provide:yl,useClass:yl,deps:[]},rl,{provide:Uu,useFactory:function(){return Ku},deps:[]},{provide:Vu,useFactory:function(){return $u},deps:[]},{provide:cl,useFactory:function(t){return va(t=t||"undefined"!=typeof $localize&&$localize.locale||fa),t},deps:[[new Rn(cl),new Dn,new Pn]]},{provide:ll,useValue:"USD"}];let th=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(kn(Zl))},t.\u0275mod=rt({type:t}),t.\u0275inj=T({providers:Xl}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>A,xv:()=>b,Dh:()=>y,HU:()=>d,GT:()=>v,sI:()=>S,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>T});var r=n(7771),i=n(3637),o=n(8307),s=n(2639),a=n(9746),u=n(7716),c=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const T=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[y,u.R0b,[new u.FiY,b]]};let A=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[E]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(w);const _=w},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=(0,r.CR)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>s,LL:()=>v,ZR:()=>m,r3:()=>w,ne:()=>_,p$:()=>i,ZB:()=>o,m9:()=>S,z$:()=>a,jU:()=>l,ru:()=>h,d:()=>d,w1:()=>p,uI:()=>u,UG:()=>c,b$:()=>f,Mn:()=>g});var r=n(4762);function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new T(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function S(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759);r.Z.registerVersion("firebase","8.4.2","app")},1336:(t,e,n)=>{"use strict";n.r(e);var r=n(9759);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function A(t,e,n){this.code=k+t,this.message=e||O[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new A(e.substring(k.length),t.message,t.serverResponse):null}S(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var x,k="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function F(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function U(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(L,P),L.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new U(function(){return new G},function(t){t.reset()});function q(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=B(t,e)}function J(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){X=ht;break t}}X=""}function ft(t){return ut(X,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===It&&e||"",this.b=Tt}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Tt?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Tt={},It={};function St(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}_t=t}else _t=t}return _t}function Et(t,e){this.a=e===Ot?t:""}function At(t){return t instanceof Et&&t.constructor===Et?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=wt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Et(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(xt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))}))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Nt(t,e){this.a=e===Mt?t:""}function Rt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Nt(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Dt.test(e[1])?new Nt(t,Mt):null}return t}function Ut(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Mt))}var Mt={},Vt=new Nt("about:invalid#zClosurez",Mt);function jt(t,e,n){this.a=n===qt?t:""}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Gt(t,e,n,r){return t=t instanceof Nt?t:Ut(t),e=e||a,n=n instanceof bt?wt(n):n||"",e.open(Rt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var zt,Kt,$t=ft("Opera"),Jt=ft("Trident")||ft("MSIE"),Wt=ft("Edge"),Yt=Wt||Jt,Qt=ft("Gecko")&&!(ut(X.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Xt=ut(X.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=X,Qt?/rv:([^\);]+)(\)|;)/.exec(Kt):Wt?/Edge\/([\d\.]+)/.exec(Kt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Xt?/WebKit\/(\S+)/.exec(Kt):$t?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Jt){var re=te();if(null!=re&&re>parseFloat(ee)){zt=String(re);break t}}zt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(zt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Jt&&(te()||parseInt(zt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Jt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}Z(s?Q(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new V;function be(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}M(j,t)}ve=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Pe(n,Te,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pe(n,Ie,t)})}catch(r){Pe(this,Ie,r)}}var _e=0,Te=2,Ie=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new U(function(){return new Se},function(t){t.reset()});function Ae(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof we)return t;var e=new we(h);return Pe(e,Te,t),e}function xe(t){return new we(function(e,n){n(t)})}function ke(t,e,n){Le(t,e,n,null)||me(T(e,t))}function Oe(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],T(i,o,!0),T(i,o,!1));else e(r)})}function Ne(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==_e&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Me(n,i,Ie,e)))}t.c=null}else Pe(t,Ie,e)}function Re(t,e){t.b||t.a!=Te&&t.a!=Ie||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Ae(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Re(t,i),i.a}function Pe(t,e,n){t.a==_e&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Ie||n instanceof qe||function(t,e){t.g=!0,me(function(){t.g&&je.call(null,e)})}(t,n)))}function Le(t,e,n,r){if(t instanceof we)return Re(t,Ae(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,me(t.gc,t))}function Ue(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){je.call(null,i)}M(Ee,e)}function Ve(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);me(function(){Ne(this,e)},this)}},t.$c=function(t){this.a=_e,Pe(this,Te,t)},t.ad=function(t){this.a=_e,Pe(this,Ie,t)},t.gc=function(){for(var t;t=Ue(this);)Me(this,t,this.a,this.i);this.h=!1};var je=ge;function qe(t){P.call(this,t)}function Ge(){0!=Be&&(Ze[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(qe,P),qe.prototype.name="cancel";var Be=0,Ze={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=m(t);if(0!=Be&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ze[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ke=!Jt||9<=Number(se),$e=Jt&&!oe("9"),Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ye,We);var Qe=ze({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&J(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Xe]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Je||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Xe]?In(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&dn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ye(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function _n(){Ge.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function An(t){var e=null;return new we(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Cn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(_n,Ge),_n.prototype[Xe]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;vt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Sn(s,r,!0,t)&&i}if(i=Sn(s=t.b=n,r,!0,t)&&i,i=Sn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=kn.prototype).W=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Pn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Fn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Pn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Ln(this,n[4]),this.f=qn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Jn(null,this.i))}function Pn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Jn?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Gn(e,Kn)),t.b=new Jn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function jn(t,e,n,r){var i=new Dn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Gn(e,Zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Gn(n,$n)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Pn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Zn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Kn=/[#\?@]/g,$n=/#/g;function Jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Jn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Qn(t,e){Wn(t),e=nr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function Xn(t,e){return Wn(t),e=nr(t,e),Nn(t.a.b,e)}function tr(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),Q(n)),t.b+=n.length)}function er(t){var e=new Jn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Jn.prototype).add=function(t,e){Wn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach(function(n,r){Z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Wn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Wn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Y(e,this.a.get(nr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Xn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=kr();return Jt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Rt(Ft(t)||Vt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Ar(kr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Ft(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Ut(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Gt("",r,n,s),t=Rt(e),s&&(Yt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zt(t)+'">',t=new jt(t=(r=St())?r.createHTML(t):t,null,qt),r=s.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Gt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new we(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function br(t){return t=t||kr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Tr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Ir(){var t=Tr();return"ReactNative"===t||"Node"===t}var Sr="Firefox",Er="Chrome";function Ar(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Sr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Ar(i=kr()):"Worker"===r&&(r=Ar(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Nr(){try{var t=a.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return _r()&&!!a.indexedDB}return!1}function Rr(){return(Dr()||"chrome-extension:"===Pr()||br())&&!Ir()&&Nr()&&!_r()}function Dr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return a.location&&a.location.protocol||null}function Lr(t){return!dr(t=t||kr())&&Ar(t)!=Sr}function Fr(t){return void 0===t?null:rr(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function jr(t){return"Safari"!=Ar(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=Tr(),this.b=dr(t)||"ReactNative"===e}function Br(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Or("fireauth.oauthhelper",a)&&!Or("fireauth.iframe",a))}Gr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Kr={};function $r(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Jr.abcd}catch(Kt){zr=!1}function Wr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return Yr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ii]),Wr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Wr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[yi]=n||null,e[gi]=r):(e[mi]=r||null,e[yi]=r||null,e[gi]=n||null),e[vi]=t||null,Wr(this,wi,i),Wr(this,bi,Xr(e))}S(si,ti),si.prototype.w=function(){var t=si.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",gi="email",mi="fromEmail",vi="multiFactorInfo",yi="previousEmail",bi="data",wi="operation";function _i(t){var e=Mn(t=Vn(t),Ti)||null,n=Mn(t,Ii)||null,r=Mn(t,Ai)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new A("argument-error",Ti+", "+Ii+"and "+Ai+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Si)||null,languageCode:Mn(t,Ei)||null,tenantId:Mn(t,Ci)||null})}var Ti="apiKey",Ii="oobCode",Si="continueUrl",Ei="languageCode",Ai="mode",Ci="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new _i(t)}catch(e){return null}}function Oi(t){var e=t[Li];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ni];if(n&&"object"==typeof n){e=n[Mi];var r=n[Fi];if(n=n[Ui],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new A("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Ni="android",Ri="dynamicLinkDomain",Di="handleCodeInApp",Pi="iOS",Li="url",Fi="installApp",Ui="minimumVersion",Mi="packageName",Vi="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Gi(t){var e=Zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new Gi(t)}catch(e){return null}}function Zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function $i(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function Ji(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Qi(t)}catch(r){}return null}var Wi="idToken",Yi="providerId";function Qi(t){var e=t[Yi];if(!e&&t[Wi]){var n=Bi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Xi(t){Qi.call(this,t),Wr(this,"profile",Xr((t=Mr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Mn(e,"link"),r=Mn(Vn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}S(Xi,Qi),S(to,Xi),S(eo,Xi),S(no,Xi),S(ro,Xi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ws]){var n=Bi(t[Ws]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new A("user-mismatch"):t})}function lo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=($i(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function bo(t){vo.call(this,t,zi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function _o(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function To(){bo.call(this,"github.com")}function Io(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function So(){bo.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function Ao(){vo.call(this,"twitter.com",Hi)}function Co(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Oo(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function No(t,e){if(!(e=Ro(e)))throw new A("argument-error","Invalid email link!");return new xo(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=ki(t=io(t)))&&t.operation===ci?t:null}function Do(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new A("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Do(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Fo(t){try{this.a=t||r.Z.auth()}catch(e){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Do({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return _o(n);case"github.com":return Io(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function jo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function qo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Go(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Ce(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ya(t,n)},lo.prototype.c=function(t,e){return co(ba(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,ya(t,n)},po.prototype.c=function(t,e){return co(ba(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=gt(t),this},S(yo,vo),S(bo,vo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return Q(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},S(wo,bo),Wr(wo,"PROVIDER_ID","facebook.com"),Wr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(To,bo),Wr(To,"PROVIDER_ID","github.com"),Wr(To,"GITHUB_SIGN_IN_METHOD","github.com"),S(So,bo),Wr(So,"PROVIDER_ID","google.com"),Wr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Ao,vo),Wr(Ao,"PROVIDER_ID","twitter.com"),Wr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ca,{email:this.a,oobCode:this.f}):tu(t,Ja,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,xa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,qa,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return co(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Oo,{PROVIDER_ID:"password"}),Yr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ka=function(t){return t.fb(Lo(this))},Do.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,tu(t,Ya,n)},Do.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=tu(t,Qa,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ba,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,Za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Va,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Fo,{PROVIDER_ID:"phone"}),Yr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function zo(t,e,n){A.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new zo(e,n,t.message)}return null}function $o(){}function Jo(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}S(Ho,A),S(zo,A),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},zo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,S(Jo,$o),Jo.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Jo,S(Yo,$o),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(F("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(fs,$o),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),S(ds,_n);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){_n.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=bs,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):vs(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Ua=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(ys,_n);var bs="";ys.prototype.b=ls("goog.net.XhrIo");var ws=/^https?$/i,_s=["POST","PUT"];function Ts(t){return"content-type"==t.toLowerCase()}function Is(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),As(t)}function Ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Es(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xs(t)&&2==ks(t))hs(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){hs(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ws.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+ks(t)+"]",Ss(t)}}finally{As(t)}}}function As(t,e){if(t.a){Cs(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.R+" "+t.l+" "+ks(t)+"]"}function Ns(t){var e=Gs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function Ds(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function Ls(t){return K(t.g,function(t){return p(t[1])})}function Fs(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=js[e];n&&(a.clearTimeout(n.a),delete js[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Ns?(Ps(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Vs(e),js[e.a]=e,t.h=e.a)}function Us(){P.call(this)}function Ms(){P.call(this)}function Vs(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=ys.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),ys.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Es(this):this.Jc())},t.Jc=function(){Es(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Ns.prototype.cancel=function(t){if(this.a)this.c instanceof Ns&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ms(this),Ds(this),Rs(this,!1,t))}},Ns.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ns.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Ps(this,r,function(t){t instanceof Ms?o.cancel():i(t)}),o.then(t,e,n)},Ns.prototype.$goog_Thenable=!0,S(Us,P),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",S(Ms,P),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete js[this.a],this.b};var js={};function qs(t){var e={},n=e.document||document,r=At(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Ns(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Bs(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ds(s),Rs(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,e.xd||!1,u),Ds(s),Rs(s,!0,null))},i.onerror=function(){Bs(i,!0,u);var t=new zs(Zs,"Error while loading script "+r);Ds(s),Rs(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=At(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Gs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Zs=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ks(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=gt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Xs,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=a.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!_r())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new fs(self):Ir()?new Ks(n):new Yo,this.b=null}S(zs,P),S(Ks,$o),Ks.prototype.a=function(){return new this.f},Ks.prototype.b=function(){return{}};var Js,Ws="idToken",Ys=new Gr(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Xs=new Gr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Pn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=kr();return!((t=Ar(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Jt&&se&&!(9<se))})()||_r()?t=_(t.u,t):(Js||(Js=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(qs(Ct(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ys(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}Tn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),In(s,"ready",function(){u&&clearTimeout(u),He(this)}),In(s,"timeout",function(){u&&clearTimeout(u),He(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Bo),t.a.onreadystatechange=_(t.Vb,t);try{hs(t.b,Os(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return hs(t.b,Os(t,"Error opening Xhr: "+s.message)),void Is(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)Z(t,e,void 0);else for(var n=xn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Cs(t),0<t.g&&(t.u=function(t){return Jt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=En(t.Ma,t.g,t)),hs(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,Os(t,"Send error: "+s.message)),Is(t,s)}}(s,t,n,r,i)};var sa=new bt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new A("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Ws]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,gt(t));throw new A("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Js.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.zb=function(){return tu(this,Ga,{})},$s.prototype.Bb=function(t,e){return tu(this,ja,{idToken:t,email:e})},$s.prototype.Cb=function(t,e){return tu(this,qa,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Ha,e)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Ka,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,za,e)}function wa(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=$s.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,ja,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,La,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Ra,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Da,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Pa,t)},t.fb=function(t){return tu(this,Wa,t)},t.nb=function(t,e){return tu(this,Ma,{oobCode:t,newPassword:e})},t.Ra=function(t){return tu(this,Ta,{oobCode:t})},t.jb=function(t){return tu(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:wa,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:wa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},Ia={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new A("weak-password")},G:la,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Ea={endpoint:"deleteAccount",N:["idToken"]},Aa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},Ca={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ua,G:la,V:!0,B:!0},xa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ua,G:la,V:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Oa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Na={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");ua(t)},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");ua(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Ma={endpoint:"resetPassword",A:wa,Z:"email",B:!0},Va={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ja={endpoint:"setAccountInfo",N:["idToken"],A:ca,V:!0},qa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ca(t),!t.password)throw new A("weak-password")},G:la,V:!0},Ga={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ba={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Za={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:pa,Ya:ga,G:ma,V:!0,B:!0},za={endpoint:"verifyAssertion",A:pa,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new A("internal-error")},Ya:ga,G:ma,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:la,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new A("wrong-password")},G:la,V:!0,B:!0},Wa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);la(t)}},Qa={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Xa={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ws]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return xe(new A("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Vn(e+n);Un(a,"key",t.c),s&&Un(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(a,c,i[c]);return new we(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new A("network-request-failed"))},r,u?void 0:rr(Ur(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Fr(t)),new A("internal-error",e)}function ru(t){this.b=t,this.a=null,this.rb=function(t){return(au||(au=new we(function(t,e){function n(){qr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:ou.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},Ce(qs(r=Ct(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new we(function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new bt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new Gr(3e4,6e4),su=new Gr(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?jn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):jn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,Fa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function du(t){return t.m||(t.m=yr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?xr(t.c,lu(t.b)):null,t.l=new $s(t.g,R(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function mu(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=_(this.c,this)}uu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):Qn(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):Qn(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):Qn(this.a.b,"fw"),this.a.toString()},cu.prototype.yb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=jn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=jn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Un(t,"customParameters",Fr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Un(t,"scopes",n.join(",")),this.l?Un(t,"redirectUrl",this.l):Qn(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):Qn(t.b,"eventId"),this.i?Un(t,"v",this.i):Qn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Un(t,a,this.b[a]);return this.h?Un(t,"tid",this.h):Qn(t.b,"tid"),this.f?Un(t,"eid",this.f):Qn(t.b,"eid"),(a=lu(this.c)).length&&Un(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Ob=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.rb.then(function(){return new we(function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new we(function(e){return function n(){An(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return An(n).then(function(){e(r)})})},t.Xb=function(){var t=kr();return!Lr(t)&&!jr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new A("popup-blocked"));if(s&&!Lr())return this.ma().o(function(e){pr(t),i(e)}),r(),Ce();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Vo(n),s||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Vo(e),hr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return du(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new A("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,function(e){return e==t})},(t=mu.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return Ce(this.a.setItem(t,Fr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,bu=[];function wu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Iu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Su(t,c),e}).o(function(e){throw Su(t,c),e})}function Su(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,function(t){return t==e})}}function Eu(){if(!ku())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(Z(bu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);bu.push(e)}return e}(),wu(this.v,"keyChanged",function(e,n){return Pu(t).then(function(e){return 0<e.length&&Z(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),wu(this.v,"ping",function(){return Ce(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new Tu(new _u(e)),Iu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Au(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Au(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Cu(t){return t.i||(t.i=Au(t)),t.i}function xu(t,e){var n=0;return new we(function r(i,o){Cu(t).then(e).then(i).o(function(e){if(!(3<++n))return Cu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function ku(){try{return!!a.indexedDB}catch(Kt){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function Nu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Du(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Iu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Pu(t){return Cu(t).then(function(t){var e=Ou(Nu(t,!1));return e.getAll?Ru(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(ku()){var t=Vr(),r="__sak"+t;return yu||(yu=new Eu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){Z(e.a,function(e){e(t)})}),t})}function Uu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==Tr();if(!(t=Vu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Vu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=a.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==Tr();if(!(t=Gu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Gu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var t=a.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){var t={};t.Browser=zu,t.Node=Ku,t.ReactNative=$u,t.Worker=Ju,this.a=t[Tr()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];Z(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),Oe(i).then(function(r){var i=[];Z(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),Z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(t,e){var n=this,r=!1;return xu(this,function(e){return Ru((e=Ou(Nu(e,!0))).get(t))}).then(function(i){return xu(n,function(o){if(o=Ou(Nu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))})}).then(function(){return n.c[t]=e,Du(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return xu(this,function(e){return Ru(Ou(Nu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return xu(this,function(r){return n=!0,e.b++,Ru(Ou(Nu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Du(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout(function(){t.l=Pu(t).then(function(e){0<e.length&&Z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){W(this.a,function(e){return e==t}),0==this.a.length&&Lu(this)},(t=Fu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,function(e){return e==t})},(t=Uu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=ju.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Zu,Hu,zu={F:Mu,bb:qu},Ku={F:Mu,bb:qu},$u={F:mu,bb:ju},Ju={F:Mu,bb:ju},Wu={rd:"local",NONE:"none",td:"session"};function Yu(){var t=!(jr(kr())||!wr()),e=Lr(),n=Nr();this.m=t,this.h=e,this.l=n,this.a={},Zu||(Zu=new Bu),t=Zu;try{this.g=!cr()&&Hr()||!a.indexedDB?new t.a.F:new Fu(_r()?new Uu:new t.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Uu}this.v=new Uu,this.f=_(this.Yb,this),this.b={}}function Qu(){return Hu||(Hu=new Yu),Hu}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Qu()}(t=Yu.prototype).get=function(t,e){return Xu(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Xu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Xu(this,"local").ca(this.f),this.h||(cr()||!Hr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(W(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Xu(this,"local").ia(this.f),nc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xu(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Jt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Z(t,_(this.mb,this))},t.mb=function(t){this.a[t]&&Z(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Qu()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(gc):gc),this.reset()}S(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=Y(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){ac.call(this,8,vc)}S(mc,ac);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new A("invalid-cordova-configuration",t)}function wc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Tc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Vn(i),"firebaseError")||null))?C(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}wc(t,i)})}var n=new jo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=An(500).then(function(){return Tc(t).then(function(){r||wc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Zo||(Zo=new Go),function(t){var e=Zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Tc(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Ic(t){this.a=t,this.b=Qu()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?yr().then(function(){return new we(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):xe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Or("universalLinks.subscribe",a))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",a))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",a))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",a))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})},t.Ob=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return xe(new A("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return xe(new A("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ce().then(function(){return Vo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new jo(e,r,null,o,new A("no-auth-event"),null,i),u=Or("BuildInfo.packageName",a);if("string"!=typeof u)throw new A("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",a),l={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!kr().toLowerCase().match(/android/))return xe(new A("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new mc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=Or("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",a)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",a)))throw new A("invalid-cordova-configuration");e=kr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=Or("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Br()&&c()},o.addEventListener("resume",c=function(){s||(s=An(2e3).then(function(){e(new A("redirect-cancelled-by-user"))}))},!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Tc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new A("no-auth-event")),t(e))})},t.Sa=function(t){W(this.b,function(e){return e==t})};var Sc={name:"pendingRedirect",F:"session"};function Ec(t){return ec(t.b,Sc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new qc,this.C=new zc,this.g=new Ic(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,x,this.J)}function Cc(t,e,n,i,o){var s=r.Z.SDK_VERSION||null;return br()?new yc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function kc(t){t.a.Xb()&&xc(t).o(function(e){var n=new jo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)}),t.a.Tb()||Gc(t.b)}function Oc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ec(t.g).then(function(){xc(t).o(function(e){var n=new jo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)})}):kc(t)}).o(function(){kc(t)})}function Nc(t,e){W(t.h,function(t){return t==e})}Ac.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Rc=new Gr(2e3,1e4),Dc=new Gr(3e4,6e4);function Pc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Lc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Lc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Ec(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new we(function(){}):Ec(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Uc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Rc.get())}Ac.prototype.qa=function(){return this.b.qa()};var Mc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function jc(t,e,n,r){var i=Vc(e,n,r);return Mc[i]||(Mc[i]=new Ac(t,e,n,r)),Mc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function Bc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Zc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Zc(t,n):Zc(t,{user:null}),t.f=[],t.c=[]}function zc(){}function Kc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function $c(t,e){this.a=e,Wr(this,"verificationId",t)}function Jc(t,e,n,r){return new Fo(t).fb(e,n).then(function(t){return new $c(t,r)})}function Wc(t){var e=Zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Zr(1e3*e.exp),authTime:Zr(1e3*e.auth_time),issuedAtTime:Zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[Xc];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;Z(e[Qc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Hc(t,a,e,null)}).o(function(e){Hc(t,a,null,e)})}(this,t,e):xe(new A("invalid-auth-event")):(Hc(this,!1,null,null),Ce())}else xe(new A("invalid-auth-event"))},qc.prototype.qa=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=An(Dc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},zc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):xe(new A("invalid-auth-event"))}else xe(new A("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var Qc="mfaInfo",Xc="mfaPendingCredential";function tl(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Wr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Wr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&Z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Br()||!t?Ce():new we(function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=Bi(e[Ws]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Zr(e||null),creationTime:Zr(t||null)})}function pl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null;this.a=new $s(this.l,R(x),i),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),Il(this,e[Ws]),fl(this.b,e),Wr(this,"refreshToken",this.b.a),Al(this,n||{}),_n.call(this),this.R=!1,this.s&&Rr()&&(this.i=jc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=_(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){na(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){yl(o,t.f)},this.ba=null,this.O=new sl(this,n),Wr(this,"multiFactor",this.O)}function ml(t,e){t.ja&&fn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function vl(t,e){t.X&&fn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function yl(t,e){t.$=e,ia(t.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,t.$):null)}function bl(t,e){t.ba&&fn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function wl(t){try{return r.Z.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(t){t.D||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function Tl(t){fn(t,"tokenChanged",t.aa),t.u.stop()}function Il(t,e){t.za=e,Wr(t,"_lat",e)}function Sl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then(function(){return t})}function El(t){t.i&&!t.R&&(t.R=!0,Oc(t.i,t))}function Al(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Cl(){}function xl(t){return Ce().then(function(){if(t.D)throw new A("app-deleted")})}function kl(t){return z(t.providerData,function(t){return t.providerId})}function Ol(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){W(t.providerData,function(t){return t.providerId==e})}function Rl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Dl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),Z(e.providerData,function(e){Ol(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),al(t.O,e.O.b))}function Pl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Na,{idToken:e}).then(_(t.Kc,t))}(t,e).then(function(){return n||Rl(t,"isAnonymous",!1),e})})}function Ll(t,e){e[Ws]&&t.za!=e[Ws]&&(fl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),Il(t,e[Ws]),Rl(t,"refreshToken",t.b.a))}function Fl(t,e){return Pl(t).then(function(){if($(kl(t),e))return Sl(t).then(function(){throw new A("provider-already-linked")})})}function Ul(t,e,n){return Qr({user:t,credential:Mo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Ml(t,e){return Ll(t,e),t.reload().then(function(){return t})}function Vl(t,e,n,i,o){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));if(t.h&&!o)return xe(t.h);var s=$i(n.providerId),a=Vr(t.uid+":::"),u=null;(!Lr()||wr())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,a,r.Z.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,s&&s.ua,s&&s.ta);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Pc(t.i,c,e,n,a,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Uc(t.i,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Qr(t):null}).o(function(t){throw c&&pr(c),t}),Gl(t,i,o)}function jl(t,e,n,r,i){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return xe(t.h);var o=null,s=Vr(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Sl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e}).then(function(){return Fc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return zl(t.ha);throw o}).then(function(){if(o)throw o}),Gl(t,r,i)}function ql(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Gl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),xe(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ol("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){J(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),_(t.jc,t))),n||e})}function Bl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ws]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&Z(t.providerData,function(t){t&&Ol(i,Qr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Zl(t){this.a=t,this.b=Qu()}Yc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Qc],delete n[Xc],vt(n,t),e.g(n)})},S(tl,A),nl.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Lo(t.a)}),tu(e,ka,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),tu(e,Oa,n)})}(this,t,e)},S(rl,nl),S(il,rl),S(ol,We),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return Z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Ll(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Xa,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return al(e,r),Ll(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new A("internal-error"))})}(t.f,e).then(function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(gl,_n),gl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},gl.prototype.la=function(){return this.ya},gl.prototype.Ga=function(){return Q(this.$)},gl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Gl(this,xl(this).then(function(){return Pl(t).then(function(){return Sl(t)}).then(Cl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Wc(t)})},t.I=function(t){var e=this;return Gl(this,xl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.za&&(Il(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Rl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Gl(this,t.c(this.a,this.uid).then(function(t){return Ll(e,t),n=Ul(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Gl(this,Fl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ul(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Gl(this,Fl(this,"phone").then(function(){return Jc(wl(n),t,e,_(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Gl(this,Ce().then(function(){return Jc(wl(n),t,e,_(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Gl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.ed=function(t){var e=this;return Gl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ll(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Gl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Gl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ll(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),Z(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),Sl(e)}).then(Cl))},t.cd=function(t){var e=this;return Gl(this,Pl(this).then(function(n){return $(kl(e),t)?function(t,e,n){return tu(t,Aa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return Z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Z(kl(e),function(t){n[t]||Nl(e,t)}),n[Fo.PROVIDER_ID]||Wr(e,"phoneNumber",null),Sl(e)}):Sl(e).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var t=this;return Gl(this,this.I().then(function(e){return tu(t.a,Ea,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");ml(t,null),vl(t,null),bl(t,null),t.J=[],t.D=!0,Tl(t),Wr(t,"refreshToken",null),t.i&&Nc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,function(){return Fl(e,t.providerId).then(function(){return Sl(e)})},!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,function(){return Ce()},!0)},t.Fc=function(t){var e=this;return jl(this,"linkViaRedirect",t,function(){return Fl(e,t.providerId)},!1)},t.Oc=function(t){return jl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then(function(n){return ya(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ul(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,Ce().then(function(){return co(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ul(i,t,"reauthenticate"),Ll(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Gl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:ji(new Oi(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Gl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:ji(new Oi(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Gl(this,t=co(Ce(t),n.uid).then(function(t){return e=Ul(n,t,"reauthenticate"),Ll(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),Z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function zl(t){return ec(t.b,Hl,t.a)}function Kl(t){this.a=t,this.b=Qu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=tc(e,n),i=Xu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Jl,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,$l(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,_(this.g,this))}function $l(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(ec(t.b,Wl(Wu[n]),t.a));return r.push(ec(t.b,Jl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],T(o,a),s);else e(i)})}(r)}Kl.prototype.g=function(){var t=this,e=Wl("local");th(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return $l(t,"local").then(function(){t.c=e})})})};var Jl={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function Yl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Ql(t){return th(t,function(){return ec(t.b,t.c,t.a)})}function Xl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Bl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Wr(this,"settings",new Kc),Wr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new A("invalid-api-key");t=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null,this.a=new $s(ch(this).options&&ch(this).options.apiKey,R(x),t),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(_(this.Ac,this)),ah(this,null),this.i=new Kl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Zl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Bl(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),zl(t.D)});return dh(t,e)}(t).then(function(){return Xl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Yl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Ql(t.i)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=jc(e,n,ch(t).name,t.P),Oc(t.b,t),lh(t)&&El(lh(t)),t.m){El(t.m);var r=t.m;r.wa(t.la()),ml(r,t),yl(r=t.m,t.J),bl(r,t),na((r=t.m).a,t.P),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function nh(t){We.call(this,"languageCodeChanged"),this.h=t}function rh(t){We.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){We.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||xe(new A("auth-domain-config-required"))}function sh(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Qr(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){W(t.S,function(t){return t==e})}(lh(t),t.Ba),fn(lh(t),"tokenChanged",t.ya),fn(lh(t),"userDeleted",t.za),fn(lh(t),"userInvalidated",t.Aa),Tl(lh(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&_l(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),ml(e,t),yl(e,t.J),bl(e,t),na(e.a,t.P),vl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Mo(e),r=Ji(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&yl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Dl(lh(t),e),t.da(e)):(ah(t,e),El(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,_(t.kc,t))),n||e}).then(function(){return Qr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](hh(t))}}function dh(t,e){return t.R.push(e),e.oa(function(){J(t.R,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Kl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ku()&&"none"!==t)throw n;break;default:if(!Nr()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,$l(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},S(eh,_n),S(nh,We),S(rh,We),S(ih,We),(t=eh.prototype).xb=function(t){return dh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new rh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,va(i.a,o))})},t.Xc=function(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Vr(),o=null;(!Lr()||wr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=gu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var s=gr(o,n&&n.ua,n&&n.ta);return dh(this,n=oh(this).then(function(n){return Pc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Uc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Qr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Rr())return xe(new A("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Jl,t.c.F,t.a)})}(e.i)}).then(function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&Bc(t.b.b),e}).o(function(e){throw t.b&&Bc(t.b.b),e})},t.dd=function(t){if(!t)return xe(new A("null-user"));if(this.S!=t.tenantId)return xe(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ws]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&yl(e,r),Dl(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Dl(lh(e),t),e.da(t)):(ah(e,r),El(r),e.da(r))}).then(function(){fh(e)}))},t.Ab=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Bc(t.b.b),lh(t)?(ah(t,null),Ql(t.i).then(function(){fh(t)})):Ce()}))},t.Zc=function(){var t=this;return Xl(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Dl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(El(e),e.ha=t.D),t.b&&Oc(t.b,t),fh(t))}})},t.da=function(t){return Yl(this.i,t)},t.mc=function(){fh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,Ce(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),dh(t,t.h.then(function(){!t.l&&$(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,tu(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return Rl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Ja,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Ia,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.zb()).then(function(e){var n=e.user;return Rl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&_l(lh(this))},t.Pc=function(t){var e=this;Z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Tl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||$(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){W(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.ja),this.b&&(Nc(this.b,this),Bc(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return tu(t,Sa,{identifier:e,continueUri:Dr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.wb=function(t,e){var n=this;return dh(this,Ce().then(function(){var t=new Oi(e);if(!t.c)throw new A("argument-error",Di+" must be true when sending sign in link to email");return ji(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return dh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return dh(this,this.a.Ra(t).then(function(t){return new ai(t)}))},t.jb=function(t){return dh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return dh(this,Ce().then(function(){return void 0===e||pt(e)?{}:ji(new Oi(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,Jc(this,t,e,_(this.$a,this)))},t.Vc=function(t,e){var n=this;return dh(this,Ce().then(function(){var r=e||lr(),i=No(t,r);if(!(r=Ro(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.$a(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function vh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function Th(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},gh.prototype.reset=function(t){var e=vh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return wh(this),this.b},bh.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},bh.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Wr(_h,"FACTOR_ID","phone"),Th.prototype.g=function(){return mh||(mh=new gh),Ce(mh)},Th.prototype.c=function(){};var Ih=null;function Sh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new bt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ah=new Gr(3e4,6e4);Sh.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new A("network-request-failed"))},Ah.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete a[e.a]},Ce(qs(Ct(Eh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Sh.prototype.c=function(){this.b--};var Ch=null;function xh(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Ih||(Ih=new Th),s=Ih):(Ch||(Ch=new Sh),s=Ch),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rh],!a.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(t){if(Dh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,a);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Dh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Or(l,a);"function"==typeof t&&t()}}}var kh="callback",Oh="expired-callback",Nh="sitekey",Rh="size";function Dh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ph(t,e){return t.h.push(e),e.oa(function(){J(t.h,e)}),e}function Lh(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(a){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,s):null,xh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,R(x),i)}function Uh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mh.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(t=xh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,Ce().then(function(){if(Dr()&&!_r())return yr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Ua,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return Ph(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Zt(s.name),'"'),s.type){o.push(' type="',Zt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return Ph(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Fh,xh);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function jh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Gh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Bh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Hh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return g(t)&&"string"==typeof t.uid}function Kh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function $h(t,e){for(var n in e){var r=e[n].name;t[r]=Yh(r,t[n],e[n].j)}}function Jh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T(function(t){return this[t]},n),set:T(function(t,e,n,r){Uh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=Yh(e,n,r)}function Yh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Uh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$h(eh.prototype,{jb:{name:"applyActionCode",j:[Vh("code")]},Ra:{name:"checkActionCode",j:[Vh("code")]},nb:{name:"confirmPasswordReset",j:[Vh("code"),Vh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vh("email"),Vh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh(qh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh(qh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Vh("email"),Kh(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Vh("email"),qh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Vh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Zh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Zh()]},Tc:{name:"signInWithCustomToken",j:[Vh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vh("email"),Vh("password")]},Vc:{name:"signInWithEmailLink",j:[Vh("email"),Vh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},Bh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vh("code")]}}),Jh(eh.prototype,{lc:{name:"languageCode",kb:Kh(Vh(),Bh(),"languageCode")},ti:{name:"tenantId",kb:Kh(Vh(),Bh(),"tenantId")}}),(eh.Persistence=Wu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",$h(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Zh()]},qb:{name:"linkWithCredential",j:[Zh()]},Dc:{name:"linkWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zh()]},tb:{name:"reauthenticateWithCredential",j:[Zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Kh(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},cd:{name:"unlink",j:[Vh("provider")]},Bb:{name:"updateEmail",j:[Vh("email")]},Cb:{name:"updatePassword",j:[Vh("password")]},ed:{name:"updatePhoneNumber",j:[Zh("phone")]},Db:{name:"updateProfile",j:[qh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Vh("email"),Kh(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Kc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:jh("appVerificationDisabledForTesting")}}),$h($c.prototype,{confirm:{name:"confirm",j:[Vh("verificationCode")]}}),Wh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,ko,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Kh(Vh(),qh(),"json")]),Wh(Oo,"credential",function(t,e){return new xo(t,e)},[Vh("email"),Vh("password")]),$h(xo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(wo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(wo,"credential",_o,[Kh(Vh(),qh(),"token")]),Wh(Oo,"credentialWithLink",No,[Vh("email"),Vh("emailLink")]),$h(To.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(To,"credential",Io,[Kh(Vh(),qh(),"token")]),$h(So.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(So,"credential",Eo,[Kh(Vh(),Kh(qh(),Bh()),"idToken"),Kh(Vh(),Bh(),"accessToken",!0)]),$h(Ao.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Wh(Ao,"credential",Co,[Kh(Vh(),qh(),"token"),Vh("secret",!0)]),$h(bo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},credential:{name:"credential",j:[Kh(Vh(),Kh(qh(),Bh()),"optionsOrIdToken"),Kh(Vh(),Bh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(lo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Wh(Fo,"credential",Uo,[Vh("verificationId"),Vh("verificationCode")]),$h(Fo.prototype,{fb:{name:"verifyPhoneNumber",j:[Kh(Vh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,ao)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$h(Do.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(A.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(zo.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(Ho.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(tl.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(Yc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),$h(sl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Vh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zh},Vh(),"multiFactorInfoIdentifier")]}}),$h(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(_i,"parseLink",ki,[Vh("link")]),Wh(_h,"assertion",function(t){return new il(t)},[Zh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:uo,Error:A};Wh(t,"EmailAuthProvider",Oo,[]),Wh(t,"FacebookAuthProvider",wo,[]),Wh(t,"GithubAuthProvider",To,[]),Wh(t,"GoogleAuthProvider",So,[]),Wh(t,"TwitterAuthProvider",Ao,[]),Wh(t,"OAuthProvider",bo,[Vh("providerId")]),Wh(t,"SAMLAuthProvider",yo,[Vh("providerId")]),Wh(t,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Wh(t,"RecaptchaVerifier",Fh,[Kh(Vh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),Wh(t,"ActionCodeURL",_i,[]),Wh(t,"PhoneMultiFactorGenerator",_h,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.5"),r.Z.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},1593:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(9193),i=n(5917),o=n(7574);class s{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new s("N",t):s.undefinedValueNotification}static createError(t){return new s("E",void 0,t)}static createComplete(){return s.completeNotification}}s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0)},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(7393),i=n(1593);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2441),i=n(1307),o=n(9765);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2639:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var f=n(6561);class d extends r.y{constructor(t,e=0,n=h){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,f.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new d(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}},8307:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(7393),i=n(8640),o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},8640:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},9575:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const y=new r.OlP("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function I(t){return t.replace(/\/index.html$/,"")}var S=(()=>((S=S||{})[S.Decimal=0]="Decimal",S[S.Percent=1]="Percent",S[S.Currency=2]="Currency",S[S.Scientific=3]="Scientific",S))(),E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))(),A=(()=>((A=A||{})[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A[1/0]=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A))();function C(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.wAp.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.wAp.NumberSymbols][A.Group]}return i}const x=r.kL8,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,O=".",N="0";function R(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class D{}let P=(()=>{class t extends D{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(gb){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new U(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new V,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class V{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}function q(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}class G{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Z=new B,H=new G;let z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return Z;if((0,r.F4k)(e))return H;throw q(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.FaB())},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(O))>-1&&(s=s.replace(O,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===N;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===N;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(k);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=R(e)),null!=n&&(h=R(n)),null!=r?f=R(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const v=[];for(d.length>=e.lgSize&&v.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)v.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),a=v.join(C(n,r)),m.length&&(a+=C(n,i)+m.join("")),g&&(a+=C(n,A.Exponential)+"+"+g)}else a=C(n,A.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(O)?i.split(O):[i.substring(0,i.lastIndexOf(N)+1),i.substring(i.lastIndexOf(N)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===N?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,r.cg1)(t)[r.wAp.NumberFormats][e]}(e,S.Decimal),C(e,A.MinusSign)),e,A.Group,A.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(o){throw q(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG))},t.\u0275pipe=r.Yjl({name:"number",type:t,pure:!0}),t})(),$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:D,useClass:P}]}),t})();function J(t){return"server"===t}let W=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new Y((0,r.LFG)(s),window)}),t})();class Y{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(gb){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(gb){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class X extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new X,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=et||(et=document.querySelector("base"),et)?et.getAttribute("href"):null;return null==e?null:(n=e,tt||(tt=document.createElement("a")),tt.setAttribute("href",n),"/"===tt.pathname.charAt(0)?tt.pathname:"/"+tt.pathname);var n}resetBaseElement(){et=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let tt,et=null;const nt=new r.OlP("TRANSITION_ID"),rt=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nt,s,r.zs3],multi:!0}];class it{static init(){(0,r.VLi)(new it)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ot=new r.OlP("EventManagerPlugins");let st=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ot),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ut=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t extends ut{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g;function ft(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ft(t,i,n):(i=i.replace(ht,t),n.push(i))}return n}function dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let pt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new gt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new mt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(st),r.LFG(ct),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class gt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(lt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=lt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=lt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dt(n)):this.eventManager.addEventListener(t,e,dt(n))}}class mt extends gt{constructor(t,e,n,r){super(t),this.component=n;const i=ft(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ht,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ht,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends gt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ft(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yt=(()=>{class t extends at{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const bt=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let It=(()=>{class t extends at{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(bt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return wt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),bt.forEach(r=>{r!=n&&(0,Tt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const St=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){X.makeCurrent(),it.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Et=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ot,useClass:yt,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:ot,useClass:It,multi:!0,deps:[s]},[],{provide:pt,useClass:pt,deps:[st,ct,r.AFp]},{provide:r.FYo,useExisting:pt},{provide:ut,useExisting:ct},{provide:ct,useClass:ct,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:st,useClass:st,deps:[ot,r.R0b]},[]];let At=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:nt,useExisting:r.AFp},rt]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Et,imports:[$,r.hGG]}),t})();"undefined"!=typeof window&&window;var Ct=n(4402),xt=n(5917),kt=n(9765),Ot=n(7971);class Nt extends kt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.N;return this._value}next(t){super.next(this._value=t)}}var Rt=n(4869),Dt=n(9796),Pt=n(7393);class Lt extends Pt.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ft extends Pt.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ut=n(7444),Mt=n(7574);function Vt(t,e,n,r,i=new Ft(t,n,r)){if(!i.closed)return e instanceof Mt.y?e.subscribe(i):(0,Ut.s)(e)(i)}var jt=n(6693);const qt={};class Gt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}class Bt extends Lt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(qt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Vt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===qt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Zt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ht=n(3282);function zt(...t){return(0,Ht.J)(1)((0,xt.of)(...t))}var Kt=n(9193);function $t(t){return new Mt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Ct.D)(n):(0,Kt.c)()).subscribe(e)})}var Jt=n(2441),Wt=n(8002),Yt=n(5345);function Qt(t,e){return"function"==typeof e?n=>n.pipe(Qt((n,r)=>(0,Ct.D)(t(n,r)).pipe((0,Wt.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Xt(t))}class Xt{constructor(t){this.project=t}call(t,e){return e.subscribe(new te(t,this.project))}}class te extends Yt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Yt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Yt.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ee=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ne(t){return e=>0===t?(0,Kt.c)():e.lift(new re(t))}class re{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends Pt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function oe(...t){const e=t[t.length-1];return(0,Rt.K)(e)?(t.pop(),n=>zt(t,n,e)):e=>zt(t,e)}function se(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ae(t,e,n))}}class ae{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ue(t,this.accumulator,this.seed,this.hasSeed))}}class ue extends Pt.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ce(t,e){return function(n){return n.lift(new le(t,e))}}class le{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new he(t,this.predicate,this.thisArg))}}class he extends Pt.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function fe(t){return function(e){const n=new de(t),r=e.lift(n);return n.caught=r}}class de{constructor(t){this.selector=t}call(t,e){return e.subscribe(new pe(t,this.selector,this.caught))}}class pe extends Yt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Yt.IY(this);this.add(r);const i=(0,Yt.ft)(n,r);i!==r&&this.add(i)}}}var ge=n(9773);function me(t,e){return(0,ge.zg)(t,e,1)}function ve(t){return function(e){return 0===t?(0,Kt.c)():e.lift(new ye(t))}}class ye{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new be(t,this.total))}}class be extends Pt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function we(t=Ie){return e=>e.lift(new _e(t))}class _e{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Te(t,this.errorFactory))}}class Te extends Pt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(xw){t=xw}this.destination.error(t)}}}function Ie(){return new Zt}function Se(t=null){return e=>e.lift(new Ee(t))}class Ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ae(t,this.defaultValue))}}class Ae extends Pt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ce=n(4487);function xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ce((e,n)=>t(e,n,r)):Ce.y,ne(1),n?Se(e):we(()=>new Zt))}var ke=n(8307),Oe=n(1307),Ne=n(5319);class Re{constructor(t){this.callback=t}call(t,e){return e.subscribe(new De(t,this.callback))}}class De extends Pt.L{constructor(t,e){super(t),this.add(new Ne.w(e))}}class Pe{constructor(t,e){this.id=t,this.url=e}}class Le extends Pe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fe extends Pe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ue extends Pe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Me extends Pe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Pe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ge extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class He{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ye="primary";class Qe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xe(t){return new Qe(t)}function tn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function en(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rn(t[i],e[i]))return!1;return!0}function rn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function on(t){return Array.prototype.concat.apply([],t)}function sn(t){return t.length>0?t[t.length-1]:null}function an(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function un(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Ct.D)(Promise.resolve(t)):(0,xt.of)(t)}function cn(t,e,n){return n?function(t,e){return nn(t,e)}(t.queryParams,e.queryParams)&&ln(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rn(t[n],e[n]))}(t.queryParams,e.queryParams)&&hn(t.root,e.root)}function ln(t,e){if(!mn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ln(t.children[n],e.children[n]))return!1}return!0}function hn(t,e){return fn(t,e,e.segments)}function fn(t,e,n){if(t.segments.length>n.length)return!!mn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!mn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!hn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!mn(t.segments,r)&&!!t.children.primary&&fn(t.children.primary,e,i)}}class dn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xe(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,an(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class gn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xe(this.parameters)),this._parameterMap}toString(){return Cn(this)}}function mn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class vn{}class yn{parse(t){const e=new Rn(t);return new dn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${_n(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${In(e)}=${In(t)}`).join("&"):`${In(e)}=${In(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const bn=new yn;function wn(t){return t.segments.map(t=>Cn(t)).join("/")}function _n(t,e){if(!t.hasChildren())return wn(t);if(e){const e=t.children.primary?_n(t.children.primary,!1):"",n=[];return an(t.children,(t,e)=>{e!==Ye&&n.push(`${e}:${_n(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return an(t.children,(t,r)=>{r===Ye&&(n=n.concat(e(t,r)))}),an(t.children,(t,r)=>{r!==Ye&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ye?[_n(t.children.primary,!1)]:[`${n}:${_n(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${wn(t)}/${e[0]}`:`${wn(t)}/(${e.join("//")})`}}function Tn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function In(t){return Tn(t).replace(/%3B/gi,";")}function Sn(t){return Tn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function En(t){return decodeURIComponent(t)}function An(t){return En(t.replace(/\+/g,"%20"))}function Cn(t){return`${Sn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Sn(t)}=${Sn(e[t])}`).join("")}`;var e}const xn=/^[^\/()?;=#]+/;function kn(t){const e=t.match(xn);return e?e[0]:""}const On=/^[^=?&#]+/,Nn=/^[^?&#]+/;class Rn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new pn(t,e)),n}parseSegment(){const t=kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gn(En(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=kn(this.remaining);t&&(n=t,this.capture(n))}t[En(e)]=En(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Nn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=An(e),i=An(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=kn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ye);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new pn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Dn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Pn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ln(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ln(t,this._root).map(t=>t.value)}}function Pn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Pn(t,n);if(e)return e}return null}function Ln(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ln(t,n);if(r.length)return r.unshift(e),r}return[]}class Fn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Un(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mn extends Dn{constructor(t,e){super(t),this.snapshot=e,Zn(this,t)}toString(){return this.snapshot.toString()}}function Vn(t,e){const n=function(t,e){const n=new Gn([],{},{},"",{},Ye,e,null,t.root,-1,{});return new Bn("",new Fn(n,[]))}(t,e),r=new Nt([new gn("",{})]),i=new Nt({}),o=new Nt({}),s=new Nt({}),a=new Nt(""),u=new jn(r,i,s,a,o,Ye,e,n.root);return u.snapshot=n.root,new Mn(new Fn(u,[]),n)}class jn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Wt.U)(t=>Xe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Wt.U)(t=>Xe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends Dn{constructor(t,e){super(e),this.url=t,Zn(this,e)}toString(){return Hn(this._root)}}function Zn(t,e){e.value._routerState=t,e.children.forEach(e=>Zn(t,e))}function Hn(t){const e=t.children.length>0?` { ${t.children.map(Hn).join(", ")} } `:"";return`${t.value}${e}`}function zn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),nn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),nn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Kn(t,e){return nn(t.params,e.params)&&function(t,e){return mn(t,e)&&t.every((t,n)=>nn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Kn(t.parent,e.parent))}function $n(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return $n(t,e,r);return $n(t,e)})}(t,e,n);return new Fn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Jn(e,t),t}}const n=new jn(new Nt((r=e.value).url),new Nt(r.params),new Nt(r.queryParams),new Nt(r.fragment),new Nt(r.data),r.outlet,r.component,r),i=e.children.map(e=>$n(t,e));return new Fn(n,i)}var r}function Jn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Jn(t.children[n],e.children[n])}function Wn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yn(t){return"object"==typeof t&&null!=t&&t.outlets}function Qn(t,e,n,r,i){let o={};return r&&an(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new dn(n.root===t?e:Xn(n.root,t,e),o,i)}function Xn(t,e,n){const r={};return an(t.children,(t,i)=>{r[i]=t===e?n:Xn(t,e,n)}),new pn(t.segments,r)}class tr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Yn);if(r&&r!==sn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class er{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function nr(t,e,n){if(t||(t=new pn([],{})),0===t.segments.length&&t.hasChildren())return rr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Yn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ar(a,u,e))return o;r+=2}else{if(!ar(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new pn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new pn(t.segments.slice(r.pathIndex),t.children),rr(e,0,i)}return r.match&&0===i.length?new pn(t.segments,{}):r.match&&!t.hasChildren()?ir(t,e,n):r.match?rr(t,0,i):ir(t,e,n)}function rr(t,e,n){if(0===n.length)return new pn(t.segments,{});{const r=function(t){return Yn(t[0])?t[0].outlets:{[Ye]:t}}(n),i={};return an(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=nr(t.children[r],e,n))}),an(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new pn(t.segments,i)}}function ir(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Yn(o)){const t=or(o.outlets);return new pn(r,t)}if(0===i&&Wn(n[0])){r.push(new gn(t.segments[e].path,sr(n[0]))),i++;continue}const s=Yn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wn(a)?(r.push(new gn(s,sr(a))),i+=2):(r.push(new gn(s,{})),i++)}return new pn(r,{})}function or(t){const e={};return an(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ir(new pn([],{}),0,t))}),e}function sr(t){const e={};return an(t,(t,n)=>e[n]=`${t}`),e}function ar(t,e,n){return t==n.path&&nn(e,n.parameters)}class ur{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),zn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Un(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),an(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Un(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Un(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Je(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(zn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),cr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function cr(t){zn(t.value),t.children.forEach(cr)}class lr{constructor(t,e){this.routes=t,this.module=e}}function hr(t){return"function"==typeof t}function fr(t){return t instanceof dn}const dr=Symbol("INITIAL_VALUE");function pr(){return Qt(t=>function(...t){let e,n;return(0,Rt.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Dt.k)(t[0])&&(t=t[0]),(0,jt.n)(t,n).lift(new Gt(e))}(t.map(t=>t.pipe(ne(1),oe(dr)))).pipe(se((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==dr)return t;if(r===dr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fr(r))return r}return t},t)},dr),ce(t=>t!==dr),(0,Wt.U)(t=>fr(t)?t:!0===t),ne(1)))}let gr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[ci]},encapsulation:2}),t})();function mr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];vr(r,yr(e,r))}}function vr(t,e){t.children&&mr(t.children,e)}function yr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function br(t){const e=t.children&&t.children.map(br),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ye&&(n.component=gr),n}function wr(t){return t.outlet||Ye}function _r(t,e){const n=t.filter(t=>wr(t)===e);return n.push(...t.filter(t=>wr(t)!==e)),n}const Tr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ir(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Tr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||en)(n,t,e);if(!i)return Object.assign({},Tr);const o={};an(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Sr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Er(t,e,n)&&wr(n)!==Ye)}(t,n,r)){const i=new pn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&wr(o)!==Ye){const n=new pn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[wr(o)]=n}return i}(t,e,r,new pn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Er(t,e,n))}(t,n,r)){const o=new pn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Er(t,n,a)&&!i[wr(a)]){const n=new pn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[wr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new pn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Er(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ar(t,e,n,r){return!!(wr(t)===r||r!==Ye&&Er(e,n,t))&&("**"===t.path||Ir(e,t,n).matched)}function Cr(t,e,n){return 0===e.length&&!t.children[n]}class xr{constructor(t){this.segmentGroup=t||null}}class kr{constructor(t){this.urlTree=t}}function Or(t){return new Mt.y(e=>e.error(new xr(t)))}function Nr(t){return new Mt.y(e=>e.error(new kr(t)))}function Rr(t){return new Mt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Dr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Sr(this.urlTree.root,[],[],this.config).segmentGroup,e=new pn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ye).pipe((0,Wt.U)(t=>this.createUrlTree(Pr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fe(t=>{if(t instanceof kr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ye).pipe((0,Wt.U)(e=>this.createUrlTree(Pr(e),t.queryParams,t.fragment))).pipe(fe(t=>{if(t instanceof xr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new pn([],{[Ye]:t}):t;return new dn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Wt.U)(t=>new pn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Ct.D)(r).pipe(me(r=>{const i=n.children[r],o=_r(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Wt.U)(t=>({segment:t,outlet:r})))}),se((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ce((e,n)=>t(e,n,r)):Ce.y,ve(1),n?Se(e):we(()=>new Zt))}())}expandSegment(t,e,n,r,i,o){return(0,Ct.D)(n).pipe(me(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(fe(t=>{if(t instanceof xr)return(0,xt.of)(null);throw t}))),xe(t=>!!t),fe((t,n)=>{if(t instanceof Zt||"EmptyError"===t.name){if(Cr(e,r,i))return(0,xt.of)(new pn([],{}));throw new xr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ar(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Or(e):Or(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nr(i):this.lineralizeSegments(n,i).pipe((0,ge.zg)(n=>{const i=new pn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ir(e,r,i);if(!s)return Or(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Nr(l):this.lineralizeSegments(r,l).pipe((0,ge.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,xt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Wt.U)(t=>(n._loadedConfig=t,new pn(r,{})))):(0,xt.of)(new pn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ir(e,n,r);if(!o)return Or(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,ge.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Sr(e,s,u,o),l=new pn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Wt.U)(t=>new pn(s,t)));if(0===o.length&&0===c.length)return(0,xt.of)(new pn(s,{}));const h=wr(n)===i;return this.expandSegment(r,l,o,c,h?Ye:i,!0).pipe((0,Wt.U)(t=>new pn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,xt.of)(new lr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,xt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,ge.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Wt.U)(t=>(e._loadedConfig=t,t))):function(t){return new Mt.y(e=>e.error(tn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,xt.of)(new lr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,xt.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&hr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!hr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return un(o)});return(0,xt.of)(i).pipe(pr(),(0,ke.b)(t=>{if(!fr(t))return;const e=tn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Wt.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,xt.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Rr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new dn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return an(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return an(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new pn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Pr(t){const e={};for(const n of Object.keys(t.children)){const r=Pr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new pn(t.segments.concat(e.segments),e.children)}return t}(new pn(t.segments,e))}class Lr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fr{constructor(t,e){this.component=t,this.route=e}}function Ur(t,e,n){const r=t._root;return Vr(r,e?e._root:null,n,[r.value])}function Mr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Un(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mn(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!Kn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Lr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Vr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fr(a.outlet.component,s))}else s&&jr(e,a,i),i.canActivateChecks.push(new Lr(r)),Vr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),an(o,(t,e)=>jr(t,n.getContext(e),i)),i}function jr(t,e,n){const r=Un(t),i=t.value;an(r,(t,r)=>{jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qr{}function Gr(t){return new Mt.y(e=>e.error(t))}class Br{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Sr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ye);if(null===e)return null;const n=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ye,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fn(n,e),i=new Bn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=qn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=_r(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Hr(n);return r.sort((t,e)=>t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Cr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ar(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?sn(n).parameters:{};i=new Gn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),wr(t),t.component,t,zr(e),Kr(e)+n.length,Jr(t))}else{const r=Ir(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Gn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),wr(t),t.component,t,zr(e),Kr(e)+o.length,Jr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Sr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Fn(i,t)]}if(0===a.length&&0===c.length)return[new Fn(i,[])];const l=wr(t)===r,h=this.processSegment(a,u,c,l?Ye:r);return null===h?null:[new Fn(i,h)]}}function Zr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hr(t){const e=[],n=new Set;for(const r of t){if(!Zr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Hr(r.children);e.push(new Fn(r.value,t))}return e.filter(t=>!n.has(t))}function zr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function $r(t){return t.data||{}}function Jr(t){return t.resolve||{}}function Wr(t){return Qt(e=>{const n=t(e);return n?(0,Ct.D)(n).pipe((0,Wt.U)(()=>e)):(0,xt.of)(e)})}class Yr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qr=new r.OlP("ROUTES");class Xr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Wt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new lr(on(i.injector.get(Qr,void 0,r.XFs.Self|r.XFs.Optional)).map(br),i)}),fe(t=>{throw e._loader$=void 0,t}));return e._loader$=new Jt.c(n,()=>new kt.xQ).pipe((0,Oe.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Ct.D)(this.loader.load(t)):un(t()).pipe((0,ge.zg)(t=>t instanceof r.YKP?(0,xt.of)(t):(0,Ct.D)(this.compiler.compileModuleAsync(t))))}}class ti{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ei,this.attachRef=null}}class ei{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ti,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ni{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ri(t){throw t}function ii(t,e,n){return e.parse("/")}function oi(t,e){return(0,xt.of)(null)}let si=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kt.xQ,this.errorHandler=ri,this.malformedUriErrorHandler=ii,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oi,afterPreactivation:oi},this.urlHandlingStrategy=new ni,this.routeReuseStrategy=new Yr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new dn(new pn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xr(s,a,t=>this.triggerEvent(new Ze(t)),t=>this.triggerEvent(new He(t))),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new Nt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ce(t=>0!==t.id),(0,Wt.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qt(t=>{let n=!1,r=!1;return(0,xt.of)(t).pipe((0,ke.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,xt.of)(t).pipe(Qt(t=>{const n=this.transitions.getValue();return e.next(new Le(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Kt.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Qt(t=>function(t,e,n,r,i){return new Dr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Wt.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,ke.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,ge.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Br(t,e,n,r,i,o).recognize();return null===s?Gr(new qr):(0,xt.of)(s)}catch(xw){return Gr(xw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Wt.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ke.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Le(n,this.serializeUrl(r),i,o);e.next(a);const u=Vn(r,this.rootComponentType).snapshot;return(0,xt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Kt.E}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,ke.b)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Wt.U)(t=>Object.assign(Object.assign({},t),{guards:Ur(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ge.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,xt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Ct.D)(t).pipe((0,ge.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,xt.of)(!0);const s=o.map(o=>{const s=Mr(o,e,i);let a;if(function(t){return t&&hr(t.canDeactivate)}(s))a=un(s.canDeactivate(t,e,n,r));else{if(!hr(s))throw new Error("Invalid CanDeactivate guard");a=un(s(t,e,n,r))}return a.pipe(xe())});return(0,xt.of)(s).pipe(pr())}(t.component,t.route,n,e,r)),xe(t=>!0!==t,!0))}(s,r,i,t).pipe((0,ge.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Ct.D)(e).pipe(me(e=>zt(function(t,e){return null!==t&&e&&e(new ze(t)),(0,xt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new $e(t)),(0,xt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const o=Mr(i,e.node,n);let s;if(function(t){return t&&hr(t.canActivateChild)}(o))s=un(o.canActivateChild(r,t));else{if(!hr(o))throw new Error("Invalid CanActivateChild guard");s=un(o(r,t))}return s.pipe(xe())});return(0,xt.of)(i).pipe(pr())}));return(0,xt.of)(i).pipe(pr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,xt.of)(!0);const i=r.map(r=>$t(()=>{const i=Mr(r,e,n);let o;if(function(t){return t&&hr(t.canActivate)}(i))o=un(i.canActivate(e,t));else{if(!hr(i))throw new Error("Invalid CanActivate guard");o=un(i(e,t))}return o.pipe(xe())}));return(0,xt.of)(i).pipe(pr())}(t,e.route,n))),xe(t=>!0!==t,!0))}(r,o,t,e):(0,xt.of)(n)),(0,Wt.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,ke.b)(t=>{if(fr(t.guardsResult)){const e=tn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ce(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wr(t=>{if(t.guards.canActivateChecks.length)return(0,xt.of)(t).pipe((0,ke.b)(t=>{const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qt(t=>{let n=!1;return(0,xt.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,ge.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,xt.of)(t);let o=0;return(0,Ct.D)(n).pipe(me(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,xt.of)({});const o={};return(0,Ct.D)(i).pipe((0,ge.zg)(i=>function(t,e,n,r){const i=Mr(t,e,r);return un(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,ke.b)(t=>{o[i]=t}))),ve(1),(0,ge.zg)(()=>Object.keys(o).length===i.length?(0,xt.of)(o):Kt.E))}(t._resolve,t,e,r).pipe((0,Wt.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qn(t,n).resolve),null)))}(t.route,e,r,i)),(0,ke.b)(()=>o++),ve(1),(0,ge.zg)(e=>o===n.length?(0,xt.of)(t):Kt.E))})),(0,ke.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,ke.b)(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Wt.U)(t=>{const e=function(t,e,n){const r=$n(t,e._root,n?n._root:void 0);return new Mn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,ke.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Wt.U)(t=>(new ur(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,ke.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Re(i))),fe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ue(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Me(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(nf){t.reject(nf)}}var i;return Kt.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){mr(t),this.config=t.map(br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Qn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return an(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new tr(n,e,r)}(n);if(o.toRoot())return Qn(e.root,new pn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new er(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new er(t,t===e.root,0)}const r=Wn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new er(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?rr(s.segmentGroup,s.index,o.commands):nr(s.segmentGroup,s.index,o.commands);return Qn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=fr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(xw){e=this.malformedUriErrorHandler(xw,this.urlSerializer,t)}return e}isActive(t,e){if(fr(t))return cn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return cn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(vn),r.LFG(ei),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new kt.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Fe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(si),r.Y36(jn),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function ui(t){return""===t||!!t}let ci=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Ye,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new li(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ei),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class li{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jn?this.route:t===ei?this.childContexts:this.parent.get(t,e)}}class hi{}class fi{preload(t,e){return(0,xt.of)(null)}}let di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Xr(e,n,e=>t.triggerEvent(new Ze(e)),e=>t.triggerEvent(new He(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ce(t=>t instanceof Fe),me(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Ct.D)(n).pipe((0,Ht.J)(),(0,Wt.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,xt.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,ge.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(si),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(hi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),pi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof We&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new We(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(si),r.LFG(W),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gi=new r.OlP("ROUTER_CONFIGURATION"),mi=new r.OlP("ROUTER_FORROOT_GUARD"),vi=[_,{provide:vn,useClass:yn},{provide:si,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new si(null,t,e,n,r,i,s,on(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[vn,ei,_,r.zs3,r.v3s,r.Sil,Qr,gi,[class{},new r.FiY],[class{},new r.FiY]]},ei,{provide:jn,useFactory:function(t){return t.routerState.root},deps:[si]},{provide:r.v3s,useClass:r.EAV},di,fi,class{preload(t,e){return e().pipe(fe(()=>(0,xt.of)(null)))}},{provide:gi,useValue:{enableTracing:!1}}];function yi(){return new r.PXZ("Router",si)}let bi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[vi,Ii(e),{provide:mi,useFactory:Ti,deps:[[si,new r.FiY,new r.tp0]]},{provide:gi,useValue:n||{}},{provide:m,useFactory:_i,deps:[a,[new r.tBr(y),new r.FiY],gi]},{provide:pi,useFactory:wi,deps:[si,W,gi]},{provide:hi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fi},{provide:r.PXZ,multi:!0,useFactory:yi},[Si,{provide:r.ip1,multi:!0,useFactory:Ei,deps:[Si]},{provide:Ci,useFactory:Ai,deps:[Si]},{provide:r.tb,multi:!0,useExisting:Ci}]]}}static forChild(e){return{ngModule:t,providers:[Ii(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(mi,8),r.LFG(si,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function wi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new pi(t,e,n)}function _i(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function Ti(t){return"guarded"}function Ii(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Qr,multi:!0,useValue:t}]}let Si=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(si),r=this.injector.get(gi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,xt.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(gi),n=this.injector.get(di),i=this.injector.get(pi),o=this.injector.get(si),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function Ai(t){return t.bootstrapListener.bind(t)}const Ci=new r.OlP("Router Initializer");var xi=n(4762),ki=n(1555);function Oi(t,e){return new Mt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,Ct.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Ni{}const Ri=new r.OlP("NgValueAccessor"),Di={provide:Ri,useExisting:(0,r.Gpc)(()=>Li),multi:!0},Pi=new r.OlP("CompositionEventMode");let Li=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Pi,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([Di])]}),t})();function Fi(t){return null==t||0===t.length}function Ui(t){return null!=t&&"number"==typeof t.length}const Mi=new r.OlP("NgValidators"),Vi=new r.OlP("NgAsyncValidators"),ji=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qi{static min(t){return function(t){return e=>{if(Fi(e.value)||Fi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Fi(e.value)||Fi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Fi(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Fi(t.value)||ji.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Fi(e.value)||!Ui(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ui(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Gi;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Fi(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return $i(t)}static composeAsync(t){return Wi(t)}}function Gi(t){return null}function Bi(t){return null!=t}function Zi(t){const e=(0,r.QGY)(t)?(0,Ct.D)(t):t;return(0,r.CqO)(e),e}function Hi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function zi(t,e){return e.map(e=>e(t))}function Ki(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function $i(t){if(!t)return null;const e=t.filter(Bi);return 0==e.length?null:function(t){return Hi(zi(t,e))}}function Ji(t){return null!=t?$i(Ki(t)):null}function Wi(t){if(!t)return null;const e=t.filter(Bi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,Dt.k)(e))return Oi(e,null);if((0,ki.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Oi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Oi(t=1===t.length&&(0,Dt.k)(t[0])?t[0]:t,null).pipe((0,Wt.U)(t=>e(...t)))}return Oi(t,null)}(zi(t,e).map(Zi)).pipe((0,Wt.U)(Hi))}}function Yi(t){return null!=t?Wi(Ki(t)):null}function Qi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Xi(t){return t._rawValidators}function to(t){return t._rawAsyncValidators}let eo=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ji(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),no=(()=>{class t extends eo{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ro(e||t)},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const ro=r.n5z(no);class io extends eo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oo{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let so=(()=>{class t extends oo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(io,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),ao=(()=>{class t extends oo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(no,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function uo(t,e){ho(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&po(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&po(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function co(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fo(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lo(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ho(t,e,n){const r=Xi(t);null!==e.validator?t.setValidators(Qi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=to(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();lo(e._rawValidators,n),lo(e._rawAsyncValidators,n)}}function fo(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Xi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=to(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};lo(e._rawValidators,t),lo(e._rawAsyncValidators,t)}return r}function po(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function go(t,e){ho(t,e,!1)}function mo(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function vo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yo="VALID",bo="INVALID",wo="PENDING",_o="DISABLED";function To(t){return(Ao(t)?t.validators:t)||null}function Io(t){return Array.isArray(t)?Ji(t):t||null}function So(t,e){return(Ao(e)?e.asyncValidators:t)||null}function Eo(t){return Array.isArray(t)?Yi(t):t||null}function Ao(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Co{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Io(this._rawValidators),this._composedAsyncValidatorFn=Eo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yo}get invalid(){return this.status===bo}get pending(){return this.status==wo}get disabled(){return this.status===_o}get enabled(){return this.status!==_o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Io(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Eo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_o,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yo,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==yo&&this.status!==wo||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_o:yo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wo,this._hasOwnPendingAsyncValidator=!0;const e=Zi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ko?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Oo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?_o:this.errors?bo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wo)?wo:this._anyControlsHaveStatus(bo)?bo:yo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ao(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xo extends Co{constructor(t=null,e,n){super(To(e),So(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vo(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vo(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ko extends Co{constructor(t,e,n){super(To(e),So(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof xo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Oo extends Co{constructor(t,e,n){super(To(e),So(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof xo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const No={provide:no,useExisting:(0,r.Gpc)(()=>Do)},Ro=(()=>Promise.resolve(null))();let Do=(()=>{class t extends no{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new ko({},Ji(t),Yi(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ro.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),uo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ro.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),vo(this._directives,t)})}addFormGroup(t){Ro.then(()=>{const e=this._findContainer(t.path),n=new ko({});go(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ro.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ro.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,mo(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Mi,10),r.Y36(Vi,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([No]),r.qOj]}),t})(),Po=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Lo={provide:Ri,useExisting:(0,r.Gpc)(()=>Fo),multi:!0};let Fo=(()=>{class t extends Ni{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r._Bn([Lo]),r.qOj]}),t})(),Uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Mo=new r.OlP("NgModelWithFormControlWarning"),Vo={provide:no,useExisting:(0,r.Gpc)(()=>jo)};let jo=(()=>{class t extends no{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fo(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return uo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){co(t.control||null,t,!1),vo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,mo(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(co(e||null,t),n instanceof xo&&(uo(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);go(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return fo(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ho(this.form,this,!1),this._oldForm&&fo(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Mi,10),r.Y36(Vi,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Vo]),r.qOj,r.TTD]}),t})();const qo={provide:io,useExisting:(0,r.Gpc)(()=>Go)};let Go=(()=>{class t extends io{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Li?n=t:Object.getPrototypeOf(t.constructor)===Ni?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(no,13),r.Y36(Mi,10),r.Y36(Vi,10),r.Y36(Ri,10),r.Y36(Mo,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([qo]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})(),Bo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Uo]]}),t})(),Zo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Bo]}),t})(),Ho=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Mo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Bo]}),t})(),zo=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new ko(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new xo(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Oo(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof xo||t instanceof ko||t instanceof Oo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:Ho}),t})();var Ko=n(2329),$o=(n(1336),n(6682)),Jo=n(9746),Wo=n(7771),Yo=n(8858);class Qo extends kt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Xo(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ot.N;if(this.isStopped||this.hasError?o=Ne.w.EMPTY:(this.observers.push(t),o=new Yo.W(this,t)),r&&t.add(t=new Jo.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Wo.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Xo{constructor(t,e){this.time=t,this.value=e}}function ts(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Qo(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function es(t,e){return e?Qt(()=>t,e):Qt(()=>t)}var ns=n(2639),rs=n(57);const is=new r.OlP("angularfire2.auth.use-emulator"),os=new r.OlP("angularfire2.auth.settings"),ss=new r.OlP("angularfire2.auth.tenant-id"),as=new r.OlP("angularfire2.auth.langugage-code"),us=new r.OlP("angularfire2.auth.use-device-language"),cs=new r.OlP("angularfire.auth.persistence");let ls=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new rs.HU(i),f=(0,rs.ss)(h),d=new kt.xQ,p=(0,xt.of)(void 0).pipe((0,Jo.QV)(h.outsideAngular),Qt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,1336)))),(0,Wt.U)(()=>(0,rs.on)(t,i,e)),(0,Wt.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,rs.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ts({bufferSize:1,refCount:!1}));if(J(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xt.of)(null);else{p.pipe(xe()).subscribe();const t=p.pipe(Qt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ts({bufferSize:1,refCount:!1})),e=t=>new Mt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(es(n),(0,ns.R)(h.outsideAngular),(0,Jo.QV)(h.insideAngular)),this.user=t.pipe(es(r),(0,ns.R)(h.outsideAngular),(0,Jo.QV)(h.insideAngular)),this.idToken=this.user.pipe(Qt(t=>t?(0,Ct.D)(t.getIdToken()):(0,xt.of)(null))),this.idTokenResult=this.user.pipe(Qt(t=>t?(0,Ct.D)(t.getIdTokenResult()):(0,xt.of)(null))),this.credential=(0,$o.T)(t,d,this.authState.pipe(ce(t=>!t))).pipe((0,Wt.U)(t=>(null==t?void 0:t.user)?t:null),(0,ns.R)(h.outsideAngular),(0,Jo.QV)(h.insideAngular))}return(0,rs.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rs.Dh),r.LFG(rs.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(is,8),r.LFG(os,8),r.LFG(ss,8),r.LFG(as,8),r.LFG(us,8),r.LFG(cs,8))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(rs.Dh),(0,r.LFG)(rs.xv,8),(0,r.LFG)(r.Lbi),(0,r.LFG)(r.R0b),(0,r.LFG)(is,8),(0,r.LFG)(os,8),(0,r.LFG)(ss,8),(0,r.LFG)(as,8),(0,r.LFG)(us,8),(0,r.LFG)(cs,8))},token:t,providedIn:"any"}),t})(),hs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ls]}),t})(),fs=(()=>{class t{constructor(t,e){this.afServ=t,this.router=e}loginGoogle(){return(0,xi.mG)(this,void 0,void 0,function*(){try{this.afServ.signInWithPopup(new Ko.Z.auth.GoogleAuthProvider)}catch(t){console.log(t)}})}getUserCurrent(){return this.afServ.authState}register(t,e){return(0,xi.mG)(this,void 0,void 0,function*(){const n=yield this.afServ.createUserWithEmailAndPassword(t,e);return this.router.navigate(["Inicio"]),n})}login(t,e){return(0,xi.mG)(this,void 0,void 0,function*(){const n=yield this.afServ.signInWithEmailAndPassword(t,e);return this.router.navigate(["Inicio"]),n})}logout(){return(0,xi.mG)(this,void 0,void 0,function*(){const t=yield this.afServ.signOut();return this.router.navigate(["home"]),t})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ls),r.LFG(si))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ds=n(3637);function ps(){return t=>t.lift(new gs)}class gs{call(t,e){return e.subscribe(new ms(t))}}class ms extends Pt.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class vs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ys(t,this.compare,this.keySelector))}}class ys extends Pt.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var bs=n(9759),ws=n(4685),_s=n(300),Ts=function(t,e){return(Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Is(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ss,Es="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},As=As||{},Cs=Es||self;function xs(){}function ks(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Os(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ns="closure_uid_"+(1e9*Math.random()>>>0),Rs=0;function Ds(t,e,n){return t.call.apply(t.bind,arguments)}function Ps(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ls(t,e,n){return(Ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ds:Ps).apply(null,arguments)}function Fs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Us(){return Date.now()}function Ms(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Vs(){this.j=this.j,this.i=this.i}Vs.prototype.j=!1,Vs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ns)&&t[Ns]||(t[Ns]=++Rs)}(this)},Vs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var js=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Gs(t){return Array.prototype.concat.apply([],arguments)}function Bs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zs(t){return/^[\s\xa0]*$/.test(t)}var Hs,zs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ks(t,e){return-1!=t.indexOf(e)}function $s(t,e){return t<e?-1:t>e?1:0}t:{var Js=Cs.navigator;if(Js){var Ws=Js.userAgent;if(Ws){Hs=Ws;break t}}Hs=""}function Ys(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Qs(t){var e={};for(var n in t)e[n]=t[n];return e}var Xs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ta(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xs.length;o++)n=Xs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ea(t){return ea[" "](t),t}ea[" "]=xs;var na,ra,ia=Ks(Hs,"Opera"),oa=Ks(Hs,"Trident")||Ks(Hs,"MSIE"),sa=Ks(Hs,"Edge"),aa=sa||oa,ua=Ks(Hs,"Gecko")&&!(Ks(Hs.toLowerCase(),"webkit")&&!Ks(Hs,"Edge"))&&!(Ks(Hs,"Trident")||Ks(Hs,"MSIE"))&&!Ks(Hs,"Edge"),ca=Ks(Hs.toLowerCase(),"webkit")&&!Ks(Hs,"Edge");function la(){var t=Cs.document;return t?t.documentMode:void 0}t:{var ha="",fa=(ra=Hs,ua?/rv:([^\);]+)(\)|;)/.exec(ra):sa?/Edge\/([\d\.]+)/.exec(ra):oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ra):ca?/WebKit\/(\S+)/.exec(ra):ia?/(?:Version)[ \/]?(\S+)/.exec(ra):void 0);if(fa&&(ha=fa?fa[1]:""),oa){var da=la();if(null!=da&&da>parseFloat(ha)){na=String(da);break t}}na=ha}var pa={};function ga(t){return function(t,e){var n=pa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=zs(String(na)).split("."),r=zs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=$s(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||$s(0==s[2].length,0==a[2].length)||$s(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ma=Cs.document&&oa&&(la()||parseInt(na,10))||void 0,va=!oa||9<=Number(ma),ya=oa&&!ga("9"),ba=function(){if(!Cs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Cs.addEventListener("test",xs,e),Cs.removeEventListener("test",xs,e)}catch(n){}return t}();function wa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _a(t,e){if(wa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ua){t:{try{ea(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ta[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}wa.prototype.b=function(){this.defaultPrevented=!0},Ms(_a,wa);var Ta={2:"touch",3:"pen",4:"mouse"};_a.prototype.b=function(){_a.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ya)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ia="closure_listenable_"+(1e6*Math.random()|0),Sa=0;function Ea(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Sa,this.Y=this.Z=!1}function Aa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ca(t){this.src=t,this.a={},this.b=0}function xa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=js(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Aa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ka(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ca.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ka(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ea(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Oa="closure_lm_"+(1e6*Math.random()|0),Na={};function Ra(t,e,n,r,i){if(r&&r.once)return Pa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ra(t,e[o],n,r,i);return null}return n=Ga(n),t&&t[Ia]?t.va(e,n,Os(r)?!!r.capture:!!r,i):Da(t,e,n,!1,r,i)}function Da(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Os(i)?!!i.capture:!!i;if(s&&!va)return null;var a=ja(t);if(a||(t[Oa]=a=new Ca(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Va,e=va?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ba||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ua(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pa(t,e[o],n,r,i);return null}return n=Ga(n),t&&t[Ia]?t.wa(e,n,Os(r)?!!r.capture:!!r,i):Da(t,e,n,!0,r,i)}function La(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)La(t,e[o],n,r,i);else r=Os(r)?!!r.capture:!!r,n=Ga(n),t&&t[Ia]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ka(o=t.a[e],n,r,i))&&(Aa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ja(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ka(e,n,r,i)),(n=-1<t?e[t]:null)&&Fa(n))}function Fa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ia])xa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ua(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ja(e))?(xa(n,t),0==n.b&&(n.src=null,e[Oa]=null)):Aa(t)}}}function Ua(t){return t in Na?Na[t]:Na[t]="on"+t}function Ma(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Fa(t),n.call(r,e)}function Va(t,e){if(t.Y)return!0;if(!va){if(!e)t:{e=["window","event"];for(var n=Cs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ma(t,e=new _a(e,this))}return Ma(t,new _a(e,this))}function ja(t){return(t=t[Oa])instanceof Ca?t:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(t){return"function"==typeof t?t:(t[qa]||(t[qa]=function(e){return t.handleEvent(e)}),t[qa])}function Ba(){Vs.call(this),this.c=new Ca(this),this.J=this,this.C=null}function Za(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new wa(e,t);else if(e instanceof wa)e.target=e.target||t;else{var i=e;ta(e=new wa(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ha(s,r,!0,e)&&i}if(i=Ha(s=e.a=t,r,!0,e)&&i,i=Ha(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ha(s=e.a=n[o],r,!1,e)&&i}function Ha(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&xa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ms(Ba,Vs),Ba.prototype[Ia]=!0,(Ss=Ba.prototype).addEventListener=function(t,e,n,r){Ra(this,t,e,n,r)},Ss.removeEventListener=function(t,e,n,r){La(this,t,e,n,r)},Ss.G=function(){if(Ba.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Aa(n[r]);delete e.a[t],e.b--}}this.C=null},Ss.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ss.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var za=Cs.JSON.stringify;function Ka(){this.b=this.a=null}var $a,Ja=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ya},function(t){t.reset()});function Wa(){var t=eu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ya(){this.next=this.b=this.a=null}function Qa(t){Cs.setTimeout(function(){throw t},0)}function Xa(t,e){$a||function(){var t=Cs.Promise.resolve(void 0);$a=function(){t.then(nu)}}(),tu||($a(),tu=!0),eu.add(t,e)}Ka.prototype.add=function(t,e){var n=Ja.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ya.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ya.prototype.reset=function(){this.next=this.b=this.a=null};var tu=!1,eu=new Ka;function nu(){for(var t;t=Wa();){try{t.a.call(t.b)}catch(n){Qa(n)}var e=Ja;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}tu=!1}function ru(t,e){Ba.call(this),this.b=t||1,this.a=e||Cs,this.f=Ls(this.Za,this),this.g=Us()}function iu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ou(t,e,n){if("function"==typeof t)n&&(t=Ls(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ls(t.handleEvent,t)}return 2147483647<Number(e)?-1:Cs.setTimeout(t,e||0)}function su(t){t.a=ou(function(){t.a=null,t.c&&(t.c=!1,su(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ms(ru,Ba),(Ss=ru.prototype).aa=!1,Ss.M=null,Ss.Za=function(){if(this.aa){var t=Us()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Za(this,"tick"),this.aa&&(iu(this),this.start()))}},Ss.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Us())},Ss.G=function(){ru.X.G.call(this),iu(this),delete this.a};var au=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ts(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:su(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Cs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Vs);function uu(t){Vs.call(this),this.b=t,this.a={}}Ms(uu,Vs);var cu=[];function lu(t,e,n,r){Array.isArray(n)||(n&&(cu[0]=n.toString()),n=cu);for(var i=0;i<n.length;i++){var o=Ra(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function hu(t){Ys(t.a,function(t,e){this.a.hasOwnProperty(e)&&Fa(t)},t),t.a={}}function fu(){this.a=!0}function du(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return za(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}uu.prototype.G=function(){uu.X.G.call(this),hu(this)},uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fu.prototype.info=function(){};var pu={},gu=null;function mu(){return gu=gu||new Ba}function vu(t){wa.call(this,pu.Fa,t)}function yu(t){var e=mu();Za(e,new vu(e,t))}function bu(t,e){wa.call(this,pu.STAT_EVENT,t),this.stat=e}function wu(t){var e=mu();Za(e,new bu(e,t))}function _u(t){wa.call(this,pu.Ga,t)}function Tu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Cs.setTimeout(function(){t()},e)}pu.Fa="serverreachability",Ms(vu,wa),pu.STAT_EVENT="statevent",Ms(bu,wa),pu.Ga="timingevent",Ms(_u,wa);var Iu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Su={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Eu(){}function Au(){}Eu.prototype.a=null;var Cu,xu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ku(){wa.call(this,"d")}function Ou(){wa.call(this,"c")}function Nu(){}function Ru(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new uu(this),this.P=Du,this.R=new ru(t=aa?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ms(ku,wa),Ms(Ou,wa),Ms(Nu,Eu),Cu=new Nu;var Du=45e3,Pu={},Lu={};function Fu(t,e,n){t.H=1,t.i=ic(Qu(e)),t.j=n,t.I=!0,Uu(t,null)}function Uu(t,e){t.u=Us(),ju(t),t.l=Qu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vc(n.b,"t",r),t.D=0,t.a=hl(t.g,t.g.C?e:null),0<t.O&&(t.F=new au(Ls(t.Ca,t,t.a),t.O)),lu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Qs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),yu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Mu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Vu(t,n);if(i==Lu){4==e&&(t.h=4,wu(14),r=!1),du(t.c,t.f,null,"[Incomplete Response]");break}if(i==Pu){t.h=4,wu(15),du(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}du(t.c,t.f,i,null),Hu(t,i)}4==e&&0==n.length&&(t.h=1,wu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rl(e),e.F=!0,wu(11))):(du(t.c,t.f,n,"[Invalid Chunked Response]"),Zu(t),Bu(t))}function Vu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Lu:(n=Number(e.substring(n,r)),isNaN(n)?Pu:(r+=1)+n>e.length?Lu:(e=e.substr(r,n),t.D=r+n,e))}function ju(t){t.T=Us()+t.P,qu(t,t.P)}function qu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Tu(Ls(t.Va,t),e)}function Gu(t){t.o&&(Cs.clearTimeout(t.o),t.o=null)}function Bu(t){0==t.g.v||t.A||sl(t.g,t)}function Zu(t){Gu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,iu(t.R),hu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Hu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Sc(n.b,t)))if(n.I=t.N,!t.C&&Sc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Kb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ol(n),$c(n)}nl(n),wu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Tu(Ls(n.Sa,n),6e3));if(1>=Ic(n.b)&&n.ea){try{n.ea()}catch(Kb){}n.ea=void 0}}else ul(n,11)}else if((t.C||n.a==t)&&ol(n),!Zs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ks(l,"spdy")||Ks(l,"quic")||Ks(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ec(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,rc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Us()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ll(u,u.C?u.ga:null,u.fa),d.C){Ac(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Gu(p),ju(p)),u.a=d}else el(u);0<n.g.length&&Yc(n)}else"stop"!=i[0]&&"close"!=i[0]||ul(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ul(n,7):Kc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);yu(4)}catch(Kb){}}function zu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ks(t)||"string"==typeof t)qs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ks(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ks(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ku(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ku)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $u(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ju(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ju(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ju(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ss=Ru.prototype).setTimeout=function(t){this.P=t},Ss.Xa=function(t){t=t.target;var e=this.F;e&&3==Bc(t)?e.f():this.Ca(t)},Ss.Ca=function(t){try{if(t==this.a)t:{var e=Bc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!aa&&!this.a.$())){this.A||4!=e||7==n||yu(8==n||0>=r?3:2),Gu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,wu(12),Zu(this),Bu(this);break t}du(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Hu(this,u)}this.I?(Mu(this,e,o),aa&&this.b&&3==e&&(lu(this.J,this.R,"tick",this.Wa),this.R.start())):(du(this.c,this.f,o,null),Hu(this,o)),4==e&&Zu(this),this.b&&!this.A&&(4==e?sl(this.g,this):(this.b=!1,ju(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,wu(12)):(this.h=0,wu(13)),Zu(this),Bu(this)}}}catch(c){}},Ss.Wa=function(){if(this.a){var t=Bc(this.a),e=this.a.$();this.D<e.length&&(Gu(this),Mu(this,t,e),this.b&&4!=t&&ju(this))}},Ss.cancel=function(){this.A=!0,Zu(this)},Ss.Va=function(){this.o=null;var t=Us();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(yu(3),wu(17)),Zu(this),this.h=2,Bu(this)):qu(this,this.T-t)},(Ss=Ku.prototype).K=function(){$u(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ss.L=function(){return $u(this),this.a.concat()},Ss.get=function(t,e){return Ju(this.b,t)?this.b[t]:e},Ss.set=function(t,e){Ju(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ss.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Wu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Yu){this.a=void 0!==e?e:t.a,Xu(this,t.f),this.j=t.j,tc(this,t.c),ec(this,t.h),this.g=t.g,e=t.b;var n=new dc;n.c=e.c,e.a&&(n.a=new Ku(e.a),n.b=e.b),nc(this,n),this.i=t.i}else t&&(n=String(t).match(Wu))?(this.a=!!e,Xu(this,n[1]||"",!0),this.j=oc(n[2]||""),tc(this,n[3]||"",!0),ec(this,n[4]),this.g=oc(n[5]||"",!0),nc(this,n[6]||"",!0),this.i=oc(n[7]||"")):(this.a=!!e,this.b=new dc(null,this.a))}function Qu(t){return new Yu(t)}function Xu(t,e,n){t.f=n?oc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tc(t,e,n){t.c=n?oc(e,!0):e}function ec(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nc(t,e,n){e instanceof dc?(t.b=e,function(t,e){e&&!t.f&&(pc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gc(this,e),vc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=sc(e,hc)),t.b=new dc(e,t.a))}function rc(t,e,n){t.b.set(e,n)}function ic(t){return rc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Us()).toString(36)),t}function oc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ac),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ac(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(sc(e,uc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(sc(e,uc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(sc(n,"/"==n.charAt(0)?lc:cc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",sc(n,fc)),t.join("")};var uc=/[#\/\?@]/g,cc=/[#\?:]/g,lc=/[#\?]/g,hc=/[#\?@]/g,fc=/#/g;function dc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pc(t){t.a||(t.a=new Ku,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gc(t,e){pc(t),e=yc(t,e),Ju(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ju((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$u(t)))}function mc(t,e){return pc(t),e=yc(t,e),Ju(t.a.b,e)}function vc(t,e,n){gc(t,e),0<n.length&&(t.c=null,t.a.set(yc(t,e),Bs(n)),t.b+=n.length)}function yc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ss=dc.prototype).add=function(t,e){pc(this),this.c=null,t=yc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ss.forEach=function(t,e){pc(this),this.a.forEach(function(n,r){qs(n,function(n){t.call(e,n,r,this)},this)},this)},Ss.L=function(){pc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ss.K=function(t){pc(this);var e=[];if("string"==typeof t)mc(this,t)&&(e=Gs(e,this.a.get(yc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Gs(e,t[n])}return e},Ss.set=function(t,e){return pc(this),this.c=null,mc(this,t=yc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ss.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ss.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bc=function(t,e){this.b=t,this.a=e};function wc(t){this.g=t||_c,t=Cs.PerformanceNavigationTiming?0<(t=Cs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Cs.ia&&Cs.ia.ya&&Cs.ia.ya()&&Cs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _c=10;function Tc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ic(t){return t.b?1:t.a?t.a.size:0}function Sc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ec(t,e){t.a?t.a.add(e):t.b=e}function Ac(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Cc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Is(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Bs(t.c)}function xc(){}function kc(){this.a=new xc}function Oc(t,e,n){var r=n||"";try{zu(t,function(t,n){var i=t;Os(t)&&(i=za(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(xw){throw e.push(r+"type="+encodeURIComponent("_badmap")),xw}}function Nc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}wc.prototype.cancel=function(){var t,e;if(this.c=Cc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Is(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},xc.prototype.stringify=function(t){return Cs.JSON.stringify(t,void 0)},xc.prototype.parse=function(t){return Cs.JSON.parse(t,void 0)};var Rc=Cs.JSON.parse;function Dc(t){Ba.call(this),this.headers=new Ku,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pc,this.D=this.F=!1}Ms(Dc,Ba);var Pc="",Lc=/^https?$/i,Fc=["POST","PUT"];function Uc(t){return"content-type"==t.toLowerCase()}function Mc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Vc(t),qc(t)}function Vc(t){t.u||(t.u=!0,Za(t,"complete"),Za(t,"error"))}function jc(t){if(t.b&&void 0!==As&&(!t.s[1]||4!=Bc(t)||2!=t.W()))if(t.l&&4==Bc(t))ou(t.za,0,t);else if(Za(t,"readystatechange"),4==Bc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Wu)[1]||null;if(!o&&Cs.self&&Cs.self.location){var s=Cs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Lc.test(o?o.toLowerCase():"")}e=i}if(e)Za(t,"complete"),Za(t,"success");else{t.h=6;try{var a=2<Bc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Vc(t)}}finally{qc(t)}}}function qc(t,e){if(t.a){Gc(t);var n=t.a,r=t.s[0]?xs:null;t.a=null,t.s=null,e||Za(t,"ready");try{n.onreadystatechange=r}catch(xw){}}}function Gc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Cs.clearTimeout(t.m),t.m=null)}function Bc(t){return t.a?t.a.readyState:0}function Zc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ys(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rc(t,e,n))}function Hc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zc(t){this.pa=0,this.g=[],this.c=new fu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hc("baseRetryDelayMs",5e3,t),this.Ra=Hc("retryDelaySeedMs",1e4,t),this.Ma=Hc("forwardChannelMaxRetries",2,t),this.ma=Hc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new wc(t&&t.concurrentRequestLimit),this.ka=new kc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kc(t){if(Jc(t),3==t.v){var e=t.R++,n=Qu(t.B);rc(n,"SID",t.J),rc(n,"RID",e),rc(n,"TYPE","terminate"),Xc(t,n),(e=new Ru(t,t.c,e,void 0)).H=2,e.i=ic(Qu(n)),n=!1,Cs.navigator&&Cs.navigator.sendBeacon&&(n=Cs.navigator.sendBeacon(e.i.toString(),"")),!n&&Cs.Image&&((new Image).src=e.i,n=!0),n||(e.a=hl(e.g,null),e.a.ba(e.i)),e.u=Us(),ju(e)}cl(t)}function $c(t){t.a&&(rl(t),t.a.cancel(),t.a=null)}function Jc(t){$c(t),t.j&&(Cs.clearTimeout(t.j),t.j=null),ol(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Cs.clearTimeout(t.h),t.h=null)}function Wc(t,e){t.g.push(new bc(t.Oa++,e)),3==t.v&&Yc(t)}function Yc(t){Tc(t.b)||t.h||(t.h=!0,Xa(t.Ba,t),t.u=0)}function Qc(t,e){var n;n=e?e.f:t.R++;var r=Qu(t.B);rc(r,"SID",t.J),rc(r,"RID",n),rc(r,"AID",t.P),Xc(t,r),t.i&&t.l&&Zc(r,t.i,t.l),n=new Ru(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=tl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ec(t.b,n),Fu(n,r,e)}function Xc(t,e){t.f&&zu({},function(t,n){rc(e,n,t)})}function tl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ls(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Oc(l,s,"req"+c+"_")}catch(Gl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function el(t){t.a||t.j||(t.T=1,Xa(t.Aa,t),t.o=0)}function nl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Tu(Ls(t.Aa,t),al(t,t.o)),t.o++,0))}function rl(t){null!=t.s&&(Cs.clearTimeout(t.s),t.s=null)}function il(t){t.a=new Ru(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qu(t.la);rc(e,"RID","rpc"),rc(e,"SID",t.J),rc(e,"CI",t.H?"0":"1"),rc(e,"AID",t.P),Xc(t,e),rc(e,"TYPE","xmlhttp"),t.i&&t.l&&Zc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ic(Qu(e)),n.j=null,n.I=!0,Uu(n,t)}function ol(t){null!=t.m&&(Cs.clearTimeout(t.m),t.m=null)}function sl(t,e){var n=null;if(t.a==e){ol(t),rl(t),t.a=null;var r=2}else{if(!Sc(t.b,e))return;n=e.s,Ac(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Us()-e.u;var i=t.u;Za(r=mu(),new _u(r,n,e,i)),Yc(t)}else el(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ic(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Tu(Ls(t.Ba,t,e),al(t,t.u)),t.u++,0)))}(t,e)||2==r&&nl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ul(t,5);break;case 4:ul(t,10);break;case 3:ul(t,6);break;default:ul(t,2)}}function al(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ul(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ls(t.Ya,t);n||(n=new Yu("//www.google.com/images/cleardot.gif"),Cs.location&&"http"==Cs.location.protocol||Xu(n,"https"),ic(n)),function(t,e){var n=new fu;if(Cs.Image){var r=new Image;r.onload=Fs(Nc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fs(Nc,n,r,"TestLoadImage: error",!1,e),r.onabort=Fs(Nc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fs(Nc,n,r,"TestLoadImage: timeout",!1,e),Cs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wu(2);t.v=0,t.f&&t.f.ra(e),cl(t),Jc(t)}function cl(t){t.v=0,t.I=-1,t.f&&(0==Cc(t.b).length&&0==t.g.length||(t.b.c.length=0,Bs(t.g),t.g.length=0),t.f.qa())}function ll(t,e,n){var r=function(t){return t instanceof Yu?Qu(t):new Yu(t,void 0)}(n);if(""!=r.c)e&&tc(r,e+"."+r.c),ec(r,r.h);else{var i=Cs.location;r=function(t,e,n,r){var i=new Yu(null,void 0);return t&&Xu(i,t),e&&tc(i,e),n&&ec(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ys(t.V,function(t,e){rc(r,e,t)}),n=t.na,(e=t.A)&&n&&rc(r,e,n),rc(r,"VER",t.ha),Xc(t,r),r}function hl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dc(t.Na)).F=t.C,e}function fl(){}function dl(){if(oa&&!(10<=Number(ma)))throw Error("Environmental error: no available transport.")}function pl(t,e){Ba.call(this),this.a=new zc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Zs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new vl(this)}function gl(t){ku.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ml(){Ou.call(this),this.status=1}function vl(t){this.a=t}(Ss=Dc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Cu),this.a.onreadystatechange=Ls(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Mc(this,o)}t=n||"";var i=new Ku(this.headers);r&&zu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Uc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Cs.FormData&&t instanceof Cs.FormData,!(0<=js(Fc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gc(this),0<this.o&&((this.D=function(t){return oa&&ga(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ls(this.xa,this)):this.m=ou(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Mc(this,o)}},Ss.xa=function(){void 0!==As&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Za(this,"timeout"),this.abort(8))},Ss.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Za(this,"complete"),Za(this,"abort"),qc(this))},Ss.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qc(this,!0)),Dc.X.G.call(this)},Ss.za=function(){this.j||(this.A||this.l||this.g?jc(this):this.Ua())},Ss.Ua=function(){jc(this)},Ss.W=function(){try{return 2<Bc(this)?this.a.status:-1}catch(ra){return-1}},Ss.$=function(){try{return this.a?this.a.responseText:""}catch(ra){return""}},Ss.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rc(e)}},Ss.ua=function(){return this.h},Ss.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ss=zc.prototype).ha=8,Ss.v=1,Ss.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ru(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ta(r=Qs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=tl(this,n,e),rc(i=Qu(this.B),"RID",t),rc(i,"CVER",22),this.A&&rc(i,"X-HTTP-Session-Id",this.A),Xc(this,i),this.i&&r&&Zc(i,this.i,r),Ec(this.b,n),this.Ia&&rc(i,"TYPE","init"),this.da?(rc(i,"$req",e),rc(i,"SID","null"),n.U=!0,Fu(n,i,null)):Fu(n,i,e),this.v=2}}else 3==this.v&&(t?Qc(this,t):0==this.g.length||Tc(this.b)||Qc(this))},Ss.Aa=function(){if(this.j=null,il(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Tu(Ls(this.Ta,this),t)}},Ss.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,wu(10),$c(this),il(this))},Ss.Sa=function(){null!=this.m&&(this.m=null,$c(this),nl(this),wu(19))},Ss.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),wu(2)):(this.c.info("Failed to ping google.com"),wu(1))},(Ss=fl.prototype).ta=function(){},Ss.sa=function(){},Ss.ra=function(){},Ss.qa=function(){},Ss.Ja=function(){},dl.prototype.a=function(t,e){return new pl(t,e)},Ms(pl,Ba),pl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;wu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ll(t,null,t.fa),Yc(t)},pl.prototype.close=function(){Kc(this.a)},pl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Wc(this.a,e)}else this.l?((e={}).__data__=za(t),Wc(this.a,e)):Wc(this.a,t)},pl.prototype.G=function(){this.a.f=null,delete this.f,Kc(this.a),delete this.a,pl.X.G.call(this)},Ms(gl,ku),Ms(ml,Ou),Ms(vl,fl),vl.prototype.ta=function(){Za(this.a,"a")},vl.prototype.sa=function(t){Za(this.a,new gl(t))},vl.prototype.ra=function(t){Za(this.a,new ml(t))},vl.prototype.qa=function(){Za(this.a,"b")},dl.prototype.createWebChannel=dl.prototype.a,pl.prototype.send=pl.prototype.h,pl.prototype.open=pl.prototype.g,pl.prototype.close=pl.prototype.close,Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Su.COMPLETE="complete",Au.EventType=xu,xu.OPEN="a",xu.CLOSE="b",xu.ERROR="c",xu.MESSAGE="d",Ba.prototype.listen=Ba.prototype.va,Dc.prototype.listenOnce=Dc.prototype.wa,Dc.prototype.getLastError=Dc.prototype.Qa,Dc.prototype.getLastErrorCode=Dc.prototype.ua,Dc.prototype.getStatus=Dc.prototype.W,Dc.prototype.getResponseJson=Dc.prototype.Pa,Dc.prototype.getResponseText=Dc.prototype.$,Dc.prototype.send=Dc.prototype.ba;var yl=Iu,bl=Su,wl=pu,_l=Au,Tl=Dc,Il=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Il.o=-1;var Sl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},El=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,xi.ZT)(e,t),e}(Error),Al=new _s.Yd("@firebase/firestore");function Cl(){return Al.logLevel}function xl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Al.logLevel<=_s.in.DEBUG){var r=e.map(Nl);Al.debug.apply(Al,(0,xi.ev)(["Firestore (8.4.2): "+t],r))}}function kl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Al.logLevel<=_s.in.ERROR){var r=e.map(Nl);Al.error.apply(Al,(0,xi.ev)(["Firestore (8.4.2): "+t],r))}}function Ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Al.logLevel<=_s.in.WARN){var r=e.map(Nl);Al.warn.apply(Al,(0,xi.ev)(["Firestore (8.4.2): "+t],r))}}function Nl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(xw){return t}}function Rl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function Dl(t,e){t||Rl()}function Pl(t,e){return t}function Ll(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ll(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ul(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Vl(t){return t+"\0"}var jl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new El(Sl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new El(Sl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new El(Sl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new El(Sl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ul(this.nanoseconds,t.nanoseconds):Ul(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ql=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new jl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Gl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Hl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Rl(),void 0===n?n=t.length-e:n>t.length-e&&Rl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new El(Sl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Hl),Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Kl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new El(Sl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new El(Sl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new El(Sl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new El(Sl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Hl),Jl=function(){function t(t){this.fields=t,t.sort($l.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ml(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Wl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ul(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Wl.EMPTY_BYTE_STRING=new Wl("");var Yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(t){if(Dl(!!t),"string"==typeof t){var e=0,n=Yl.exec(t);if(Dl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xl(t.seconds),nanos:Xl(t.nanos)}}function Xl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function th(t){return"string"==typeof t?Wl.fromBase64String(t):Wl.fromUint8Array(t)}function eh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nh(t){var e=t.mapValue.fields.__previous_value__;return eh(e)?nh(e):e}function rh(t){var e=Ql(t.mapValue.fields.__local_write_time__.timestampValue);return new jl(e.seconds,e.nanos)}function ih(t){return null==t}function oh(t){return 0===t&&1/t==-1/0}function sh(t){return"number"==typeof t&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ah=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(zl.fromString(e))},t.fromName=function(e){return new t(zl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return zl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new zl(e.slice()))},t}();function uh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eh(t)?4:10:Rl()}function ch(t,e){var n=uh(t);if(n!==uh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rh(t).isEqual(rh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ql(t.timestampValue),r=Ql(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return th(t.bytesValue).isEqual(th(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xl(t.geoPointValue.latitude)===Xl(e.geoPointValue.latitude)&&Xl(t.geoPointValue.longitude)===Xl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xl(t.integerValue)===Xl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Xl(t.doubleValue),r=Xl(e.doubleValue);return n===r?oh(n)===oh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],ch);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gl(n)!==Gl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ch(n[i],r[i])))return!1;return!0}(t,e);default:return Rl()}}function lh(t,e){return void 0!==(t.values||[]).find(function(t){return ch(t,e)})}function hh(t,e){var n=uh(t),r=uh(e);if(n!==r)return Ul(n,r);switch(n){case 0:return 0;case 1:return Ul(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Xl(t.integerValue||t.doubleValue),r=Xl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fh(t.timestampValue,e.timestampValue);case 4:return fh(rh(t),rh(e));case 5:return Ul(t.stringValue,e.stringValue);case 6:return function(t,e){var n=th(t),r=th(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ul(n[i],r[i]);if(0!==o)return o}return Ul(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ul(Xl(t.latitude),Xl(e.latitude));return 0!==n?n:Ul(Xl(t.longitude),Xl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hh(n[i],r[i]);if(o)return o}return Ul(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ul(r[s],o[s]);if(0!==a)return a;var u=hh(n[r[s]],i[o[s]]);if(0!==u)return u}return Ul(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Rl()}}function fh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ul(t,e);var n=Ql(t),r=Ql(e),i=Ul(n.seconds,r.seconds);return 0!==i?i:Ul(n.nanos,r.nanos)}function dh(t){return ph(t)}function ph(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ql(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?th(t.bytesValue).toBase64():"referenceValue"in t?ah.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ph(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ph(t.fields[o])}return e+"}"}(t.mapValue):Rl();var e}function gh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mh(t){return!!t&&"integerValue"in t}function vh(t){return!!t&&"arrayValue"in t}function yh(t){return!!t&&"nullValue"in t}function bh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}var _h=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field($l.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return ch(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===uh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=wh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay($l.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!wh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Th(t){var e=[];return Bl(t.fields||{},function(t,n){var r=new $l([t]);if(wh(n)){var i=Th(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Jl(e)}var Ih=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ql.min(),_h.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,_h.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,_h.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=_h.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=_h.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Eh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sh(t,e,n,r,i,o,s)}function Ah(t){var e=Pl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+dh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vh(e.startAt)),e.endAt&&(n+="|ub:",n+=Vh(e.endAt)),e.h=n}return e.h}function Ch(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ch(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bh(t.startAt,e.startAt)&&Bh(t.endAt,e.endAt)}function xh(t){return ah.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,xi.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Oh(t,n,r):"array-contains"===n?new Ph(t,r):"in"===n?new Lh(t,r):"not-in"===n?new Fh(t,r):"array-contains-any"===n?new Uh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Nh(t,n):new Rh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hh(e,this.value)):null!==e&&uh(this.value)===uh(e)&&this.m(hh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Rl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ah.fromName(r.referenceValue),i}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){var e=ah.comparator(t.key,this.key);return this.m(e)},e}(kh),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dh(0,n),r}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(kh),Rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dh(0,n),r}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(kh);function Dh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ah.fromName(t.referenceValue)})}var Ph=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return vh(e)&&lh(e.arrayValue,this.value)},e}(kh),Lh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lh(this.value.arrayValue,e)},e}(kh),Fh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lh(this.value.arrayValue,e)},e}(kh),Uh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,xi.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return lh(e.value.arrayValue,t)})},e}(kh),Mh=function(t,e){this.position=t,this.before=e};function Vh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return dh(t)}).join(",")}var jh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Gh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ah.comparator(ah.fromName(s.referenceValue),n.key):hh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ch(t.position[n],e.position[n]))return!1;return!0}var Zh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Hh(t,e,n,r,i,o,s,a){return new Zh(t,e,n,r,i,o,s,a)}function zh(t){return new Zh(t)}function Kh(t){return!ih(t.limit)&&"F"===t.limitType}function $h(t){return!ih(t.limit)&&"L"===t.limitType}function Jh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Yh(t){return null!==t.collectionGroup}function Qh(t){var e=Pl(t);if(null===e.p){e.p=[];var n=Wh(e),r=Jh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new jh(n)),e.p.push(new jh($l.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new jh($l.keyField(),u))}}}return e.p}function Xh(t){var e=Pl(t);if(!e.T)if("F"===e.limitType)e.T=Eh(e.path,e.collectionGroup,Qh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Qh(e);r<i.length;r++){var o=i[r];n.push(new jh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Mh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Mh(e.startAt.position,!e.startAt.before):null;e.T=Eh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function tf(t,e,n){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return Ch(Xh(t),Xh(e))&&t.limitType===e.limitType}function nf(t){return Ah(Xh(t))+"|lt:"+t.limitType}function rf(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+dh(e.value);var e}).join(", ")+"]"),ih(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vh(t.startAt)),t.endAt&&(e+=", endAt: "+Vh(t.endAt)),"Target("+e+")"}(Xh(t))+"; limitType="+t.limitType+")"}function of(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ah.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Gh(t.startAt,Qh(t),e)||t.endAt&&Gh(t.endAt,Qh(t),e))}(t,e)}function sf(t){return function(e,n){for(var r=!1,i=0,o=Qh(t);i<o.length;i++){var s=o[i],a=af(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function af(t,e,n){var r=t.field.isKeyField()?ah.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?hh(r,i):Rl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rl()}}function uf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function cf(t){return{integerValue:""+t}}function lf(t,e){return sh(e)?cf(e):uf(t,e)}var hf=function(){this._=void 0};function ff(t,e,n){return t instanceof gf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof mf?vf(t,e):t instanceof yf?bf(t,e):function(t,e){var n=pf(t,e),r=_f(n)+_f(t.A);return mh(n)&&mh(t.A)?cf(r):uf(t.R,r)}(t,e)}function df(t,e,n){return t instanceof mf?vf(t,e):t instanceof yf?bf(t,e):n}function pf(t,e){return t instanceof wf?mh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e}(hf),mf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,xi.ZT)(e,t),e}(hf);function vf(t,e){for(var n=Tf(e),r=function(t){n.some(function(e){return ch(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,xi.ZT)(e,t),e}(hf);function bf(t,e){for(var n=Tf(e),r=function(t){n=n.filter(function(e){return!ch(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,xi.ZT)(e,t),e}(hf);function _f(t){return Xl(t.integerValue||t.doubleValue)}function Tf(t){return vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var If=function(t,e){this.field=t,this.transform=e},Sf=function(t,e){this.version=t,this.transformResults=e},Ef=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Af(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Cf=function(){};function xf(t,e,n){t instanceof Df?function(t,e,n){var r=t.value.clone(),i=Ff(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Pf?function(t,e,n){if(Af(t.precondition,e)){var r=Ff(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Lf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function kf(t,e,n){t instanceof Df?function(t,e,n){if(Af(t.precondition,e)){var r=t.value.clone(),i=Uf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Rf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Pf?function(t,e,n){if(Af(t.precondition,e)){var r=Uf(t.fieldTransforms,n,e),i=e.data;i.setAll(Lf(t)),i.setAll(r),e.convertToFoundDocument(Rf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Af(t.precondition,e)&&e.convertToNoDocument(ql.min())}(t,e)}function Of(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=pf(o.transform,s||null);null!=a&&(null==n&&(n=_h.empty()),n.set(o.field,a))}return n||null}function Nf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ml(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof mf&&e instanceof mf||t instanceof yf&&e instanceof yf?Ml(t.elements,e.elements,ch):t instanceof wf&&e instanceof wf?ch(t.A,e.A):t instanceof gf&&e instanceof gf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Rf(t){return t.isFoundDocument()?t.version:ql.min()}var Df=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,xi.ZT)(e,t),e}(Cf),Pf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,xi.ZT)(e,t),e}(Cf);function Lf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ff(t,e,n){var r=new Map;Dl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,df(s,a,n[i]))}return r}function Uf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ff(a,u,e))}return r}var Mf,Vf,jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,xi.ZT)(e,t),e}(Cf),qf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,xi.ZT)(e,t),e}(Cf),Gf=function(t){this.count=t};function Bf(t){switch(t){case Sl.OK:return Rl();case Sl.CANCELLED:case Sl.UNKNOWN:case Sl.DEADLINE_EXCEEDED:case Sl.RESOURCE_EXHAUSTED:case Sl.INTERNAL:case Sl.UNAVAILABLE:case Sl.UNAUTHENTICATED:return!1;case Sl.INVALID_ARGUMENT:case Sl.NOT_FOUND:case Sl.ALREADY_EXISTS:case Sl.PERMISSION_DENIED:case Sl.FAILED_PRECONDITION:case Sl.ABORTED:case Sl.OUT_OF_RANGE:case Sl.UNIMPLEMENTED:case Sl.DATA_LOSS:return!0;default:return Rl()}}function Zf(t){if(void 0===t)return kl("GRPC error has no .code"),Sl.UNKNOWN;switch(t){case Mf.OK:return Sl.OK;case Mf.CANCELLED:return Sl.CANCELLED;case Mf.UNKNOWN:return Sl.UNKNOWN;case Mf.DEADLINE_EXCEEDED:return Sl.DEADLINE_EXCEEDED;case Mf.RESOURCE_EXHAUSTED:return Sl.RESOURCE_EXHAUSTED;case Mf.INTERNAL:return Sl.INTERNAL;case Mf.UNAVAILABLE:return Sl.UNAVAILABLE;case Mf.UNAUTHENTICATED:return Sl.UNAUTHENTICATED;case Mf.INVALID_ARGUMENT:return Sl.INVALID_ARGUMENT;case Mf.NOT_FOUND:return Sl.NOT_FOUND;case Mf.ALREADY_EXISTS:return Sl.ALREADY_EXISTS;case Mf.PERMISSION_DENIED:return Sl.PERMISSION_DENIED;case Mf.FAILED_PRECONDITION:return Sl.FAILED_PRECONDITION;case Mf.ABORTED:return Sl.ABORTED;case Mf.OUT_OF_RANGE:return Sl.OUT_OF_RANGE;case Mf.UNIMPLEMENTED:return Sl.UNIMPLEMENTED;case Mf.DATA_LOSS:return Sl.DATA_LOSS;default:return Rl()}}(Vf=Mf||(Mf={}))[Vf.OK=0]="OK",Vf[Vf.CANCELLED=1]="CANCELLED",Vf[Vf.UNKNOWN=2]="UNKNOWN",Vf[Vf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vf[Vf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vf[Vf.NOT_FOUND=5]="NOT_FOUND",Vf[Vf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vf[Vf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vf[Vf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vf[Vf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vf[Vf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vf[Vf.ABORTED=10]="ABORTED",Vf[Vf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vf[Vf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vf[Vf.INTERNAL=13]="INTERNAL",Vf[Vf.UNAVAILABLE=14]="UNAVAILABLE",Vf[Vf.DATA_LOSS=15]="DATA_LOSS";var Hf=function(){function t(t,e){this.comparator=t,this.root=e||Kf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new zf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new zf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new zf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new zf(this.root,t,this.comparator,!0)},t}(),zf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Kf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Rl();if(this.right.isRed())throw Rl();var t=this.left.check();if(t!==this.right.check())throw Rl();return t+(this.isRed()?0:1)},t}();Kf.EMPTY=null,Kf.RED=!0,Kf.BLACK=!1,Kf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Rl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Rl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Rl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Rl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Rl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Kf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $f=function(){function t(t){this.comparator=t,this.data=new Hf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Jf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Jf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Jf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Wf=new Hf(ah.comparator);function Yf(){return Wf}var Qf=new Hf(ah.comparator);function Xf(){return Qf}var td=new Hf(ah.comparator);function ed(){return td}var nd=new $f(ah.comparator);function rd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var id=new $f(Ul);function od(){return id}var sd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ql.min(),r,od(),Yf(),rd())},t}(),ad=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Wl.EMPTY_BYTE_STRING,n,rd(),rd(),rd())},t}(),ud=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},cd=function(t,e){this.targetId=t,this.V=e},ld=function(t,e,n,r){void 0===n&&(n=Wl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hd=function(){function t(){this.S=0,this.D=pd(),this.C=Wl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=rd(),e=rd(),n=rd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Rl()}}),new ad(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=pd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),fd=function(){function t(t){this.W=t,this.G=new Map,this.H=Yf(),this.J=dd(),this.Y=new $f(Ul)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Rl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(xh(i))if(0===n){var o=new ah(i.path);this.tt(e,o,Ih.newNoDocument(o,ql.min()))}else Dl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&xh(o.target)){var s=new ah(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ih.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=rd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new sd(t,n,this.Y,this.H,r);return this.H=Yf(),this.J=dd(),this.Y=new $f(Ul),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new hd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $f(Ul),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||xl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new hd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function dd(){return new Hf(ah.comparator)}function pd(){return new Hf(ah.comparator)}var gd={asc:"ASCENDING",desc:"DESCENDING"},md={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vd=function(t,e){this.databaseId=t,this.I=e};function yd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function bd(t,e){return t.I?e.toBase64():e.toUint8Array()}function wd(t,e){return yd(t,e.toTimestamp())}function _d(t){return Dl(!!t),ql.fromTimestamp(function(t){var e=Ql(t);return new jl(e.seconds,e.nanos)}(t))}function Td(t,e){return function(t){return new zl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Id(t){var e=zl.fromString(t);return Dl(Kd(e)),e}function Sd(t,e){return Td(t.databaseId,e.path)}function Ed(t,e){var n=Id(e);if(n.get(1)!==t.databaseId.projectId)throw new El(Sl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new El(Sl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ah(kd(n))}function Ad(t,e){return Td(t.databaseId,e)}function Cd(t){var e=Id(t);return 4===e.length?zl.emptyPath():kd(e)}function xd(t){return new zl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kd(t){return Dl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Od(t,e,n){return{name:Sd(t,e),fields:n.toProto().mapValue.fields}}function Nd(t,e,n){var r=Ed(t,e.name),i=_d(e.updateTime),o=new _h({mapValue:{fields:e.fields}}),s=Ih.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Rd(t,e){var n;if(e instanceof Df)n={update:Od(t,e.key,e.value)};else if(e instanceof jf)n={delete:Sd(t,e.key)};else if(e instanceof Pf)n={update:Od(t,e.key,e.data),updateMask:zd(e.fieldMask)};else{if(!(e instanceof qf))return Rl();n={verify:Sd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof gf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Rl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Rl()}(t,e.precondition)),n}function Dd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ef.updateTime(_d(t.updateTime)):void 0!==t.exists?Ef.exists(t.exists):Ef.none()}(e.currentDocument):Ef.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Dl("REQUEST_TIME"===e.setToServerValue),n=new gf):"appendMissingElements"in e?n=new mf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yf(e.removeAllFromArray.values||[]):"increment"in e?n=new wf(t,e.increment):Rl();var r=$l.fromServerFormat(e.fieldPath);return new If(r,n)}(t,e)}):[];if(e.update){var i=Ed(t,e.update.name),o=new _h({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Jl((t.fieldPaths||[]).map(function(t){return $l.fromServerFormat(t)}))}(e.updateMask);return new Pf(i,o,s,n,r)}return new Df(i,o,n,r)}if(e.delete){var a=Ed(t,e.delete);return new jf(a,n)}if(e.verify){var u=Ed(t,e.verify);return new qf(u,n)}return Rl()}function Pd(t,e){return{documents:[Ad(t,e.path)]}}function Ld(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ad(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ad(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(bh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NAN"}};if(yh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NOT_NAN"}};if(yh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gd(t.field),op:qd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Gd(t.field),direction:jd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ih(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Md(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Md(e.endAt)),n}function Fd(t){var e=Cd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ud(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new jh(Bd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ih(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Vd(n.startAt));var l=null;return n.endAt&&(l=Vd(n.endAt)),Hh(e,i,a,s,u,"F",c,l)}function Ud(t){return t?void 0!==t.unaryFilter?[Hd(t)]:void 0!==t.fieldFilter?[Zd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ud(t)}).reduce(function(t,e){return t.concat(e)}):Rl():[]}function Md(t){return{before:t.before,values:t.position}}function Vd(t){return new Mh(t.values||[],!!t.before)}function jd(t){return gd[t]}function qd(t){return md[t]}function Gd(t){return{fieldPath:t.canonicalString()}}function Bd(t){return $l.fromServerFormat(t.fieldPath)}function Zd(t){return kh.create(Bd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Rl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Hd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Bd(t.unaryFilter.field);return kh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Bd(t.unaryFilter.field);return kh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bd(t.unaryFilter.field);return kh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bd(t.unaryFilter.field);return kh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Rl()}}function zd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Kd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $d(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wd(e)),e=Jd(t.get(n),e);return Wd(e)}function Jd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Wd(t){return t+"\x01\x01"}function Yd(t){var e=t.length;if(Dl(e>=2),2===e)return Dl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),zl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Rl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Rl()}o=s+2}return new zl(r)}var Qd=function(t,e){this.seconds=t,this.nanoseconds=e},Xd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xd.store="owner",Xd.key="owner";var tp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};tp.store="mutationQueues",tp.keyPath="userId";var ep=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ep.store="mutations",ep.keyPath="batchId",ep.userMutationsIndex="userMutationsIndex",ep.userMutationsKeyPath=["userId","batchId"];var np=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$d(e)]},t.key=function(t,e,n){return[t,$d(e),n]},t}();np.store="documentMutations",np.PLACEHOLDER=new np;var rp=function(t,e){this.path=t,this.readTime=e},ip=function(t,e){this.path=t,this.version=e},op=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};op.store="remoteDocuments",op.readTimeIndex="readTimeIndex",op.readTimeIndexPath="readTime",op.collectionReadTimeIndex="collectionReadTimeIndex",op.collectionReadTimeIndexPath=["parentPath","readTime"];var sp=function(t){this.byteSize=t};sp.store="remoteDocumentGlobal",sp.key="remoteDocumentGlobalKey";var ap=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ap.store="targets",ap.keyPath="targetId",ap.queryTargetsIndexName="queryTargetsIndex",ap.queryTargetsKeyPath=["canonicalId","targetId"];var up=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};up.store="targetDocuments",up.keyPath=["targetId","path"],up.documentTargetsIndex="documentTargetsIndex",up.documentTargetsKeyPath=["path","targetId"];var cp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cp.key="targetGlobalKey",cp.store="targetGlobal";var lp=function(t,e){this.collectionId=t,this.parent=e};lp.store="collectionParents",lp.keyPath=["collectionId","parent"];var hp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hp.store="clientMetadata",hp.keyPath="clientId";var fp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fp.store="bundles",fp.keyPath="bundleId";var dp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};dp.store="namedQueries",dp.keyPath="name";var pp=(0,xi.ev)((0,xi.ev)([],(0,xi.ev)((0,xi.ev)([],(0,xi.ev)((0,xi.ev)([],(0,xi.ev)((0,xi.ev)([],[tp.store,ep.store,np.store,op.store,ap.store,Xd.store,cp.store,up.store]),[hp.store])),[sp.store])),[lp.store])),[fp.store,dp.store]),gp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),vp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},yp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Rl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),bp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new vp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Tp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Cp(e.target.error);n.ft.reject(new Tp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Tp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(xl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sp(e)},t}(),wp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,ws.z$)())&&kl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return xl("SimpleDb","Removing database:",t),Ep(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,ws.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n=this;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(xl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Tp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new El(Sl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Tp(t,n))},i.onupgradeneeded=function(t){xl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){xl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,xi.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,xi.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=bp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),yp.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return xl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_p=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ep(this.Pt.delete())},t}(),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this,Sl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,xi.ZT)(e,t),e}(El);function Ip(t){return"IndexedDbTransactionError"===t.name}var Sp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(xl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(xl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ep(n)},t.prototype.add=function(t){return xl("SimpleDb","ADD",this.store.name,t,t),Ep(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ep(this.store.get(t)).next(function(n){return void 0===n&&(n=null),xl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return xl("SimpleDb","DELETE",this.store.name,t),Ep(this.store.delete(t))},t.prototype.count=function(){return xl("SimpleDb","COUNT",this.store.name),Ep(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){xl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new yp(function(n,r){e.onerror=function(t){var e=Cp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new yp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _p(i),s=e(i.primaryKey,i.value,o);if(s instanceof yp){var a=s.catch(function(t){return o.done(),yp.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return yp.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ep(t){return new yp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cp(t.target.error);n(e)}})}var Ap=!1;function Cp(t){var e=wp._t((0,ws.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new El("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ap||(Ap=!0,setTimeout(function(){throw r},0)),r}}return t}var xp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,xi.ZT)(e,t),e}(mp);function kp(t,e){var n=Pl(t);return wp.It(n.Mt,e)}var Op=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&xf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&kf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&kf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ql.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},rd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ml(this.mutations,t.mutations,function(t,e){return Nf(t,e)})&&Ml(this.baseMutations,t.baseMutations,function(t,e){return Nf(t,e)})},t}(),Np=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Dl(e.mutations.length===r.length);for(var i=ed(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Rp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ql.min()),void 0===o&&(o=ql.min()),void 0===s&&(s=Wl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Dp=function(t){this.Lt=t};function Pp(t,e){if(e.document)return Nd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ah.fromSegments(e.noDocument.path),r=Vp(e.noDocument.readTime),i=Ih.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ah.fromSegments(e.unknownDocument.path);return r=Vp(e.unknownDocument.version),Ih.newUnknownDocument(o,r)}return Rl()}function Lp(t,e,n){var r=Fp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Sd(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:yd(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new op(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Mp(e.version);return s=e.hasCommittedMutations,new op(null,new rp(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Mp(e.version);return new op(new ip(c,l),null,null,!0,r,i)}return Rl()}function Fp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Up(t){var e=new jl(t[0],t[1]);return ql.fromTimestamp(e)}function Mp(t){var e=t.toTimestamp();return new Qd(e.seconds,e.nanoseconds)}function Vp(t){var e=new jl(t.seconds,t.nanoseconds);return ql.fromTimestamp(e)}function jp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Dd(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Dd(t.Lt,e)}),o=jl.fromMillis(e.localWriteTimeMs);return new Op(e.batchId,o,n,i)}function qp(t){var e,n,r=Vp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Vp(t.lastLimboFreeSnapshotVersion):ql.min();return void 0!==t.query.documents?(Dl(1===(n=t.query).documents.length),e=Xh(zh(Cd(n.documents[0])))):e=function(t){return Xh(Fd(t))}(t.query),new Rp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wl.fromBase64String(t.resumeToken))}function Gp(t,e){var n,r=Mp(e.snapshotVersion),i=Mp(e.lastLimboFreeSnapshotVersion);n=xh(e.target)?Pd(t.Lt,e.target):Ld(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ap(e.targetId,Ah(e.target),r,o,e.sequenceNumber,i,n)}function Bp(t){var e=Fd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?tf(e,e.limit,"L"):e}var Zp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Hp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Vp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Hp(t).put({bundleId:(n=e).id,createTime:Mp(_d(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return zp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Bp(e.bundledQuery),readTime:Vp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return zp(t).put(function(t){return{name:t.name,readTime:Mp(_d(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Hp(t){return kp(t,fp.store)}function zp(t){return kp(t,dp.store)}var Kp=function(){function t(){this.Bt=new $p}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),yp.resolve()},t.prototype.getCollectionParents=function(t,e){return yp.resolve(this.Bt.getEntries(e))},t}(),$p=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $f(zl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $f(zl.comparator)).toArray()},t}(),Jp=function(){function t(){this.qt=new $p}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:$d(i)};return Wp(t).put(o)}return yp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vl(e),""],!1,!0);return Wp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Yd(o.parent))}return n})},t}();function Wp(t){return kp(t,lp.store)}var Yp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Xp(t,e,n){var r=t.store(ep.store),i=t.store(np.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Dl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=np.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return yp.waitFor(o).next(function(){return c})}function tg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Rl();e=t.noDocument}return JSON.stringify(e).length}Qp.DEFAULT_COLLECTION_PERCENTILE=10,Qp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qp.DEFAULT=new Qp(41943040,Qp.DEFAULT_COLLECTION_PERCENTILE,Qp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qp.DISABLED=new Qp(-1,0,0);var eg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Dl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rg(t).Ot({index:ep.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ig(t),s=rg(t);return s.add({}).next(function(a){Dl("number"==typeof a);for(var u=new Op(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Rd(t.Lt,e)}),i=n.mutations.map(function(e){return Rd(t.Lt,e)});return new ep(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new $f(function(t,e){return Ul(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=np.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,np.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),yp.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return rg(t).get(e).next(function(t){return t?(Dl(t.userId===n.userId),jp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?yp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return rg(t).Ot({index:ep.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Dl(e.batchId>=r),o=jp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rg(t).Ot({index:ep.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rg(t).Nt(ep.userMutationsIndex,n).next(function(t){return t.map(function(t){return jp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=np.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ig(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=Yd(r[1]);if(a===n.userId&&e.path.isEqual(c))return rg(t).get(u).next(function(t){if(!t)throw Rl();Dl(t.userId===n.userId),o.push(jp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $f(Ul),i=[];return e.forEach(function(e){var o=np.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ig(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=Yd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),yp.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=np.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new $f(Ul);return ig(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=Yd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(rg(t).get(e).next(function(t){if(null===t)throw Rl();Dl(t.userId===n.userId),r.push(jp(n.R,t))}))}),yp.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Xp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),yp.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return yp.resolve();var r=IDBKeyRange.lowerBound(np.prefixForUser(e.userId)),i=[];return ig(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Yd(t[1]);i.push(o)}else r.done()}).next(function(){Dl(0===i.length)})})},t.prototype.containsKey=function(t,e){return ng(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return og(t).get(this.userId).next(function(t){return t||new tp(e.userId,-1,"")})},t}();function ng(t,e,n){var r=np.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ig(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function rg(t){return kp(t,ep.store)}function ig(t){return kp(t,np.store)}function og(t){return kp(t,tp.store)}var sg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ag=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new sg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ql.fromTimestamp(new jl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ug(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Dl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ug(t).Ot(function(s,a){var u=qp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return yp.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ug(t).Ot(function(t,n){var r=qp(n);e(r)})},t.prototype.Xt=function(t){return cg(t).get(cp.key).next(function(t){return Dl(null!==t),t})},t.prototype.Zt=function(t,e){return cg(t).put(cp.key,e)},t.prototype.te=function(t,e){return ug(t).put(Gp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ah(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ug(t).Ot({range:r,index:ap.queryTargetsIndexName},function(t,n,r){var o=qp(n);Ch(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=lg(t);return e.forEach(function(e){var s=$d(e.path);i.push(o.put(new up(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),yp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=lg(t);return yp.forEach(e,function(e){var o=$d(e.path);return yp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=lg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=lg(t),i=rd();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Yd(t[1]),o=new ah(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=$d(e.path),r=IDBKeyRange.bound([n],[Vl(n)],!1,!0),i=0;return lg(t).Ot({index:up.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ug(t).get(e).next(function(t){return t?qp(t):null})},t}();function ug(t){return kp(t,ap.store)}function cg(t){return kp(t,cp.store)}function lg(t){return kp(t,up.store)}function hg(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){if(t.code!==Sl.FAILED_PRECONDITION||t.message!==gp)throw t;return xl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fg(t,e){var n=t[1],r=e[1],i=Ul(t[0],e[0]);return 0===i?Ul(n,r):i}var dg=function(){function t(t){this.ne=t,this.buffer=new $f(fg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;xl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,xi.mG)(e,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ip(e=n.sent())?(xl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),gg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return yp.resolve(Il.o);var r=new dg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xl("LruGarbageCollector","Garbage collection skipped; disabled"),yp.resolve(Yp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(xl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(xl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Cl()<=_s.in.DEBUG&&xl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),yp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),mg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new gg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return vg(t,n)},t.prototype.removeReference=function(t,e,n){return vg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return vg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return og(t).$t(function(r){return ng(t,r,e).next(function(t){return t&&(n=!0),yp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),lg(t).delete([0,$d(s.path)])})});i.push(u)}}).next(function(){return yp.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return vg(t,e)},t.prototype.we=function(t,e){var n,r=lg(t),i=Il.o;return r.Ot({index:up.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Il.o&&e(new ah(Yd(n)),i),i=s,n=o):i=Il.o}).next(function(){i!==Il.o&&e(new ah(Yd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function vg(t,e){return lg(t).put(function(t,e){return new up(0,$d(t.path),e)}(e,t.currentSequenceNumber))}var yg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Zl(this.inner)},t}(),bg=function(){function t(){this.changes=new yg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ql.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ih.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?yp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ig(t).put(Sg(e),n)},t.prototype.removeEntry=function(t,e){var n=Ig(t),r=Sg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ig(t).get(Sg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Ig(t).get(Sg(e)).next(function(t){return{document:n.ye(e,t),size:tg(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Yf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Yf(),i=new Hf(ah.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,tg(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return yp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ig(t).Ot({range:r},function(t,e,r){for(var s=ah.fromSegments(t);o&&ah.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Yf(),o=e.path.length+1,s={};if(n.isEqual(ql.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Fp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=op.collectionReadTimeIndex}return Ig(t).Ot(s,function(t,n,s){if(t.length===o){var a=Pp(r.R,n);e.path.isPrefixOf(a.key.path)?of(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new _g(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Tg(t).get(sp.key).next(function(t){return Dl(!!t),t})},t.prototype.me=function(t,e){return Tg(t).put(sp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Pp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ql.min()))return n}return Ih.newInvalidDocument(t)},t}(),_g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new yg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,xi.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new $f(function(t,e){return Ul(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Lp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=tg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Lp(e.Ie.R,Ih.newNoDocument(o,ql.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),yp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(bg);function Tg(t){return kp(t,sp.store)}function Ig(t){return kp(t,op.store)}function Sg(t){return t.path.toArray()}var Eg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Dl(n<r&&n>=0&&r<=11);var o=new bp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xd.store)}(t),function(t){t.createObjectStore(tp.store,{keyPath:tp.keyPath}),t.createObjectStore(ep.store,{keyPath:ep.keyPath,autoIncrement:!0}).createIndex(ep.userMutationsIndex,ep.userMutationsKeyPath,{unique:!0}),t.createObjectStore(np.store)}(t),Ag(t),function(t){t.createObjectStore(op.store)}(t));var s=yp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(up.store),t.deleteObjectStore(ap.store),t.deleteObjectStore(cp.store)}(t),Ag(t)),s=s.next(function(){return function(t){var e=t.store(cp.store),n=new cp(0,0,ql.min().toTimestamp(),0);return e.put(cp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(ep.store).Nt().next(function(n){t.deleteObjectStore(ep.store),t.createObjectStore(ep.store,{keyPath:ep.keyPath,autoIncrement:!0}).createIndex(ep.userMutationsIndex,ep.userMutationsKeyPath,{unique:!0});var r=e.store(ep.store),i=n.map(function(t){return r.put(t)});return yp.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(hp.store,{keyPath:hp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(sp.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(op.store);e.createIndex(op.readTimeIndex,op.readTimeIndexPath,{unique:!1}),e.createIndex(op.collectionReadTimeIndex,op.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(fp.store,{keyPath:fp.keyPath})}(t),function(t){t.createObjectStore(dp.store,{keyPath:dp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(op.store).Ot(function(t,n){e+=tg(n)}).next(function(){var n=new sp(e);return t.store(sp.store).put(sp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(tp.store),r=t.store(ep.store);return n.Nt().next(function(n){return yp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ep.userMutationsIndex,i).next(function(r){return yp.forEach(r,function(r){Dl(r.userId===n.userId);var i=jp(e.R,r);return Xp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(up.store),n=t.store(op.store);return t.store(cp.store).get(cp.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new zl(n),s=function(t){return[0,$d(t)]}(o);r.push(e.get(s).next(function(n){return n?yp.resolve():function(n){return e.put(new up(0,$d(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return yp.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(lp.store,{keyPath:lp.keyPath});var n=e.store(lp.store),r=new $p,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:$d(i)})}};return e.store(op.store).Ot({kt:!0},function(t,e){var n=new zl(t);return i(n.popLast())}).next(function(){return e.store(np.store).Ot({kt:!0},function(t,e){var n=Yd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ap.store);return n.Ot(function(t,r){var i=qp(r),o=Gp(e.R,i);return n.put(o)})},t}();function Ag(t){t.createObjectStore(up.store,{keyPath:up.keyPath}).createIndex(up.documentTargetsIndex,up.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ap.store,{keyPath:ap.keyPath}).createIndex(ap.queryTargetsIndexName,ap.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cp.store)}var Cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new El(Sl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mg(this,i),this.Le=n+"main",this.R=new Dp(u),this.Be=new wp(this.Le,11,new Eg(this.R)),this.qe=new ag(this.referenceDelegate,this.R),this.Ut=new Jp,this.Ue=function(t,e){return new wg(t,e)}(this.R,this.Ut),this.Qe=new Zp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&kl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new El(Sl.FAILED_PRECONDITION,Cg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Il(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,xi.mG)(e,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,xi.mG)(e,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,xi.mG)(e,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Og(e).put(new hp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ip(e))return xl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return xl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return kg(t).get(Xd.key).next(function(t){return yp.resolve(e.tn(t))})},t.prototype.en=function(t){return Og(t).delete(this.clientId)},t.prototype.nn=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=kp(t,hp.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return yp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?yp.resolve(!0):kg(t).get(Xd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new El(Sl.FAILED_PRECONDITION,Cg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Og(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&xl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t=this;return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xd.store,hp.store],function(e){var n=new xp(e,Il.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Og(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return eg.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return xl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",pp,function(o){return r=new xp(o,i.Ne?i.Ne.next():Il.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw kl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new El(Sl.FAILED_PRECONDITION,gp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return kg(t).get(Xd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new El(Sl.FAILED_PRECONDITION,Cg)})},t.prototype.Ze=function(t){var e=new Xd(this.clientId,this.allowTabSynchronization,Date.now());return kg(t).put(Xd.key,e)},t.yt=function(){return wp.yt()},t.prototype.Xe=function(t){var e=this,n=kg(t);return n.get(Xd.key).next(function(t){return e.tn(t)?(xl("IndexedDbPersistence","Releasing primary lease."),n.delete(Xd.key)):yp.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(kl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return xl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return kl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){kl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function kg(t){return kp(t,Xd.store)}function Og(t){return kp(t,hp.store)}function Ng(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Rg=function(t,e){this.progress=t,this.wn=e},Dg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ah.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Yh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ah(e)).next(function(t){var e=Xf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Xf();return this.Ut.getCollectionParents(t,i).next(function(s){return yp.forEach(s,function(s){var a=function(t,e){return new Zh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ih.newInvalidDocument(c),r=r.insert(c,l)),kf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){of(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=rd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Pf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Pg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=rd(),i=rd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Lg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ql.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Kh(e)||$h(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Cl()<=_s.in.DEBUG&&xl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rf(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new $f(sf(t));return e.forEach(function(e,r){of(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Cl()<=_s.in.DEBUG&&xl("QueryEngine","Using full collection scan to execute query:",rf(e)),this.Sn.getDocumentsMatchingQuery(t,e,ql.min())},t}(),Fg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Hf(Ul),this.kn=new yg(function(t){return Ah(t)},Ch),this.On=ql.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Dg(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Ug(t,e,n,r){return new Fg(t,e,n,r)}function Mg(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:return n=Pl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Dg(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=rd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Vg(t,e){var n=Pl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=yp.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Dl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function jg(t){var e=Pl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function qg(t,e){var n=Pl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Dl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Yf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Gg(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ql.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return yp.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Gg(t,e,n,r,i){var o=rd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Yf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(ql.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):xl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Bg(t,e){var n=Pl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Zg(t,e){var n=Pl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?yp.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Rp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Hg(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:r=Pl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ip(s=a.sent()))throw s;return xl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function zg(t,e,n){var r=Pl(t),i=ql.min(),o=rd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Pl(t),i=r.kn.get(n);return void 0!==i?yp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Xh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ql.min(),n?o:rd())}).next(function(t){return{documents:t,Bn:o}})})}function Kg(t,e){var n=Pl(t),r=Pl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function $g(t){var e=Pl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Pl(t),i=Yf(),o=Fp(n),s=Ig(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:op.readTimeIndex,range:a},function(t,e){var n=Pp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Up(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Jg(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){return[2,(e=Pl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ig(t),n=ql.min();return e.Ot({index:op.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Up(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Wg(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,xi.Jh)(this,function(p){switch(p.label){case 0:for(i=Pl(t),o=rd(),s=Yf(),a=ed(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Zg(i,function(t){return Xh(zh(zl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Gg(t,f,s,ql.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Yg(t,e,n){return void 0===n&&(n=rd()),(0,xi.mG)(this,void 0,void 0,function(){var r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return[4,Zg(t,Xh(Bp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Pl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=_d(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Wl.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Qg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return yp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:_d(n.createTime)}),yp.resolve()},t.prototype.getNamedQuery=function(t,e){return yp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Bp(t.bundledQuery),readTime:_d(t.readTime)}}(e)),yp.resolve()},t}(),Xg=function(){function t(){this.Wn=new $f(tm.Gn),this.zn=new $f(tm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new tm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new tm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ah(new zl([])),r=new tm(n,t),i=new tm(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ah(new zl([])),n=new tm(e,t),r=new tm(e,t+1),i=rd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new tm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),tm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ah.comparator(t.key,e.key)||Ul(t.ns,e.ns)},t.Hn=function(t,e){return Ul(t.ns,e.ns)||ah.comparator(t.key,e.key)},t}(),em=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $f(tm.Gn)}return t.prototype.checkEmpty=function(t){return yp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Op(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new tm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return yp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return yp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return yp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return yp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return yp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new tm(e,0),i=new tm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),yp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $f(Ul);return e.forEach(function(t){var e=new tm(t,0),i=new tm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),yp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ah.isDocumentKey(i)||(i=i.child(""));var o=new tm(new ah(i),0),s=new $f(Ul);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),yp.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Dl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return yp.forEach(e.mutations,function(i){var o=new tm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new tm(e,0),r=this.rs.firstAfterOrEqual(n);return yp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return yp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),nm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Hf(ah.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return yp.resolve(n?n.document.clone():Ih.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Yf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ih.newInvalidDocument(t))}),yp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Yf(),i=new ah(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||of(e,u)&&(r=r.insert(u.key,u.clone()))}return yp.resolve(r)},t.prototype.fs=function(t,e){return yp.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new rm(this)},t.prototype.getSize=function(t){return yp.resolve(this.size)},t}(),rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,xi.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),yp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(bg),im=function(){function t(t){this.persistence=t,this.ds=new yg(function(t){return Ah(t)},Ch),this.lastRemoteSnapshotVersion=ql.min(),this.highestTargetId=0,this.ws=0,this._s=new Xg,this.targetCount=0,this.ys=sg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),yp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return yp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return yp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),yp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),yp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new sg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,yp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),yp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,yp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),yp.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return yp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return yp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),yp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),yp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),yp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return yp.resolve(n)},t.prototype.containsKey=function(t,e){return yp.resolve(this._s.containsKey(e))},t}(),om=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Il(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new im(this),this.Ut=new Kp,this.Ue=function(t,e){return new nm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Dp(e),this.Qe=new Qg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new em(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;xl("MemoryPersistence","Starting transaction:",t);var i=new sm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return yp.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),sm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,xi.ZT)(e,t),e}(mp),am=function(){function t(t){this.persistence=t,this.As=new Xg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Rl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),yp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),yp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),yp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yp.forEach(this.vs,function(r){var i=ah.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return yp.or([function(){return yp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),um=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function cm(t,e){return"firestore_clients_"+t+"_"+e}function lm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hm(t,e){return"firestore_targets_"+t+"_"+e}um.UNAUTHENTICATED=new um(null),um.GOOGLE_CREDENTIALS=new um("google-credentials-uid"),um.FIRST_PARTY=new um("first-party-uid");var fm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new El(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(kl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new El(i.error.code,i.error.message)),o?new t(e,i.state,r):(kl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=od(),s=0;i&&s<r.activeTargetIds.length;++s)i=sh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(kl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),gm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(kl("SharedClientState","Failed to parse online state: "+e),null)},t}(),mm=function(){function t(){this.activeTargetIds=od()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),vm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Hf(Ul),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=cm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new mm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,xi.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(cm(this.persistenceKey,r)))&&(o=pm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hm(this.persistenceKey,t));if(n){var r=dm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return xl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){xl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){xl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(xl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void kl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,xi.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,xi.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Il.o;if(null!=t)try{var n=JSON.parse(t);Dl("number"==typeof n),e=n}catch(t){kl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Il.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fm(this.currentUser,t,e,n),i=lm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=lm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=hm(this.persistenceKey,t),i=new dm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return pm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fm.Vs(new um(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return dm.Vs(r,e)},t.prototype.js=function(t){return gm.Vs(t)},t.prototype.ii=function(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(xl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=od();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),ym=function(){function t(){this.li=new mm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new mm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),bm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){xl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){xl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Im=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return(0,xi.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Tl;s.listenOnce(bl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case yl.NO_ERROR:var e=s.getResponseJson();xl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yl.TIMEOUT:xl("Connection",'RPC "'+t+'" timed out'),o(new El(Sl.DEADLINE_EXCEEDED,"Request time out"));break;case yl.HTTP_ERROR:var n=s.getStatus();if(xl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Sl).indexOf(e)>=0?e:Sl.UNKNOWN}(r.status);o(new El(a,r.message))}else o(new El(Sl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new El(Sl.UNAVAILABLE,"Connection failed."));break;default:Rl()}}finally{xl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new dl,i=mu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),(0,ws.uI)()||(0,ws.b$)()||(0,ws.d)()||(0,ws.w1)()||(0,ws.Mn)()||(0,ws.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");xl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Tm({Ei:function(t){c?xl("Connection","Not sending because WebChannel is closed:",t):(u||(xl("Connection","Opening WebChannel transport."),a.open(),u=!0),xl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,_l.EventType.OPEN,function(){c||xl("Connection","WebChannel transport opened.")}),h(a,_l.EventType.CLOSE,function(){c||(c=!0,xl("Connection","WebChannel transport closed"),l.Vi())}),h(a,_l.EventType.ERROR,function(t){c||(c=!0,Ol("Connection","WebChannel transport errored:",t),l.Vi(new El(Sl.UNAVAILABLE,"The operation could not be completed")))}),h(a,_l.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Dl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){xl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Mf[t];if(void 0!==e)return Zf(e)}(i),s=r.message;void 0===o&&(o=Sl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new El(o,s)),a.close()}else xl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,wl.STAT_EVENT,function(t){10===t.stat?xl("Connection","Detected buffering proxy"):11===t.stat&&xl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);xl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return xl("RestConnection","Received: ",t),t},function(e){throw Ol("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+_m[t]},t}());function Sm(){return"undefined"!=typeof window?window:null}function Em(){return"undefined"!=typeof document?document:null}function Am(t){return new vd(t,!0)}var Cm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&xl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),xm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Sl.RESOURCE_EXHAUSTED?(kl(e.toString()),kl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Sl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new El(Sl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,xi.mG)(t,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return xl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(xl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),km=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,xi.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Rl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Dl(void 0===e||"string"==typeof e),Wl.fromBase64String(e||"")):(Dl(void 0===e||e instanceof Uint8Array),Wl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Sl.UNKNOWN:Zf(t.code);return new El(e,t.message||"")}(a);n=new ld(r,i,o,s||null)}else if("documentChange"in e){i=Ed(t,(r=e.documentChange).document.name),o=_d(r.document.updateTime);var a=new _h({mapValue:{fields:r.document.fields}}),u=(s=Ih.newFoundDocument(i,o,a),r.targetIds||[]);n=new ud(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ed(t,(r=e.documentDelete).document),o=r.readTime?_d(r.readTime):ql.min(),a=Ih.newNoDocument(i,o),n=new ud([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ed(t,(r=e.documentRemove).document),n=new ud([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Rl();var c=e.filter;i=new Gf(r=c.count||0),n=new cd(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ql.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ql.min():e.readTime?_d(e.readTime):ql.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=xd(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=xh(r)?{documents:Pd(t,r)}:{query:Ld(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=bd(t,e.resumeToken):e.snapshotVersion.compareTo(ql.min())>0&&(n.readTime=yd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=xd(this.R),e.removeTarget=t,this.cr(e)},e}(xm),Om=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,xi.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Dl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Dl(void 0!==e),t.map(function(t){return function(t,e){var n=_d(t.updateTime?t.updateTime:e);return n.isEqual(ql.min())&&(n=_d(e)),new Sf(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=_d(t.commitTime);return this.listener.Tr(n,e)}return Dl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=xd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Rd(e.R,t)})};this.cr(n)},e}(xm),Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,xi.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new El(Sl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Sl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El(Sl.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Sl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El(Sl.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Rm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(kl(e),this.Vr=!1):xl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Dm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,xi.mG)(o,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return Gm(this)?(xl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return(e=Pl(t)).$r.add(4),[4,Lm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Pm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Rm(n,r)};function Pm(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:if(!Gm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lm(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Fm(t,e){var n=Pl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),qm(n)?jm(n):rv(n).er()&&Mm(n,e))}function Um(t,e){var n=Pl(t),r=rv(n);n.Or.delete(e),r.er()&&Vm(n,e),0===n.Or.size&&(r.er()?r.ir():Gm(n)&&n.Br.set("Unknown"))}function Mm(t,e){t.qr.U(e.targetId),rv(t).mr(e)}function Vm(t,e){t.qr.U(e),rv(t).yr(e)}function jm(t){t.qr=new fd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),rv(t).start(),t.Br.Sr()}function qm(t){return Gm(t)&&!rv(t).tr()&&t.Or.size>0}function Gm(t){return 0===Pl(t).$r.size}function Bm(t){t.qr=void 0}function Zm(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){return t.Or.forEach(function(e,n){Mm(t,e)}),[2]})})}function Hm(t,e){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(n){return Bm(t),qm(t)?(t.Br.Nr(e),jm(t)):t.Br.set("Unknown"),[2]})})}function zm(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ld&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),xl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Km(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ud?t.qr.X(e):e instanceof cd?t.qr.rt(e):t.qr.et(e),n.isEqual(ql.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,jg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Wl.EMPTY_BYTE_STRING,n.snapshotVersion)),Vm(t,e);var r=new Rp(n.target,e,1,n.sequenceNumber);Mm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return xl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Km(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Km(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r=this;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:if(!Ip(e))throw e;return t.$r.add(1),[4,Lm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return jg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,xi.mG)(r,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return xl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Pm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $m(t,e){return e().catch(function(n){return Km(t,n,e)})}function Jm(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:e=Pl(t),n=iv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Gm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Bg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=iv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Km(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wm(e)&&Ym(e),[2]}})})}function Wm(t){return Gm(t)&&!iv(t).tr()&&t.kr.length>0}function Ym(t){iv(t).start()}function Qm(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){return iv(t).Ar(),[2]})})}function Xm(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n,r;return(0,xi.Jh)(this,function(i){for(e=iv(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function tv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Np.from(r,e,n),[4,$m(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Jm(t)];case 2:return o.sent(),[2]}})})}function ev(t,e){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e&&iv(t).pr?[4,function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return Bf(r=e.code)&&r!==Sl.ABORTED?(n=t.kr.shift(),iv(t).sr(),[4,$m(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Jm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wm(t)&&Ym(t),[2]}})})}function nv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return n=Pl(t),e?(n.$r.delete(2),[4,Pm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Lm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rv(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Pl(t);return r.br(),new km(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zm.bind(null,t),Ri:Hm.bind(null,t),_r:zm.bind(null,t)}),t.Mr.push(function(n){return(0,xi.mG)(e,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qm(t)?jm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Bm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function iv(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Pl(t);return r.br(),new Om(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qm.bind(null,t),Ri:ev.bind(null,t),Ir:Xm.bind(null,t),Tr:tv.bind(null,t)}),t.Mr.push(function(n){return(0,xi.mG)(e,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Jm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(xl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var ov=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new El(Sl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function sv(t,e){if(kl("AsyncQueue",e+": "+t),Ip(t))return new El(Sl.UNAVAILABLE,e+": "+t);throw t}var av=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ah.comparator(e.key,n.key)}:function(t,e){return ah.comparator(t.key,e.key)},this.keyedMap=Xf(),this.sortedSet=new Hf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uv=function(){function t(){this.Kr=new Hf(ah.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Rl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),cv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,av.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),lv=function(){this.Wr=void 0,this.listeners=[]},hv=function(){this.queries=new yg(function(t){return nf(t)},ef),this.onlineState="Unknown",this.Gr=new Set};function fv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,xi.Jh)(this,function(c){switch(c.label){case 0:if(n=Pl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=sv(a,"Initialization of query '"+rf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&mv(n),[2]}})})}function dv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,xi.Jh)(this,function(a){return n=Pl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pv(t,e){for(var n=Pl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&mv(n)}function gv(t,e,n){var r=Pl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function mv(t){t.Gr.forEach(function(t){t.next()})}var vv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new cv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),yv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),bv=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ed(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Nd(this.R,t.document,!1):Ih.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return _d(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new bv(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||rd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return[4,Wg(this.localStore,new bv(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Yg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Rg(Object.assign({},this.progress),t))]}})})}}();var wv=function(t){this.key=t},_v=function(t){this.key=t},Tv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=rd(),this.mutatedKeys=rd(),this.lo=sf(t),this.fo=new av(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Kh(this.query)&&i.size===this.query.limit?i.last():null,c=$h(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=of(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Kh(this.query)||$h(this.query))for(;s.size>this.query.limit;){var l=Kh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new cv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=rd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new _v(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new wv(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=rd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Iv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sv=function(t){this.key=t,this.bo=!1},Ev=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new yg(function(t){return nf(t)},ef),this.Vo=new Map,this.So=new Set,this.Do=new Hf(ah.comparator),this.Co=new Map,this.No=new Xg,this.xo={},this.Fo=new Map,this.ko=sg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Av(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:return n=ey(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Zg(n.localStore,Xh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Cv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Fm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Cv(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,xi.Jh)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,zg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(jv(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,zg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Tv(e,i.Bn),s=o._o(i.documents),a=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),jv(t,n,u.To),c=new Iv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function xv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return n=Pl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ef(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Um(n.remoteStore,r.targetId),Mv(n,r.targetId)}).catch(hg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Mv(n,r.targetId),[4,Hg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function kv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:r=ny(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Pl(t),i=jl.now(),o=e.reduce(function(t,e){return t.add(e.key)},rd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Of(c,n.get(c.key));null!=l&&s.push(new Pf(c.key,l,Th(l.toProto().mapValue),Ef.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Hf(Ul)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Bv(r,i.changes)];case 3:return a.sent(),[4,Jm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=sv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Ov(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:n=Pl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Dl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Dl(r.bo):t.removedDocuments.size>0&&(Dl(r.bo),r.bo=!1))}),[4,Bv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Nv(t,e,n){var r=Pl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Pl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&mv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,xi.Jh)(this,function(c){switch(c.label){case 0:return(r=Pl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Hf(ah.comparator)).insert(o,Ih.newNoDocument(o,ql.min())),a=rd().add(o),u=new sd(ql.min(),new Map,new $f(Ul),s,a),[4,Ov(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Gv(r),[3,4];case 2:return[4,Hg(r.localStore,e,!1).then(function(){return Mv(r,e,n)}).catch(hg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Dv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:n=Pl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vg(n.localStore,e)];case 2:return i=o.sent(),Uv(n,r,null),Fv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Bv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,hg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Pv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:r=Pl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Pl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Dl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Uv(r,e,n),Fv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Bv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,hg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Lv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:Gm((n=Pl(t)).remoteStore)||xl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Pl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=sv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Fv(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Uv(t,e,n){var r=Pl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Mv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Vv(t,e)})}function Vv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Um(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Gv(t))}function jv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wv?(t.No.addReference(o.key,e),qv(t,o)):o instanceof _v?(xl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Vv(t,o.key)):Rl()}}function qv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(xl("SyncEngine","New document in limbo: "+n),t.So.add(r),Gv(t))}function Gv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ah(zl.fromString(e)),r=t.ko.next();t.Co.set(r,new Sv(n)),t.Do=t.Do.insert(n,r),Fm(t.remoteStore,new Rp(Xh(zh(n.path)),r,2,Il.o))}}function Bv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:return r=Pl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Pg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,xi.Jh)(this,function(l){switch(l.label){case 0:n=Pl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return yp.forEach(e,function(e){return yp.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return yp.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ip(r=l.sent()))throw r;return xl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Zv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return(n=Pl(t)).currentUser.isEqual(e)?[3,3]:(xl("SyncEngine","User change. New user:",e.toKey()),[4,Mg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new El(Sl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Bv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Hv(t,e){var n=Pl(t),r=n.Co.get(e);if(r&&r.bo)return rd().add(r.key);var i=rd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function zv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return[4,zg((n=Pl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&jv(n,e.targetId,i.To),i)]}})})}function Kv(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){return[2,$g((e=Pl(t)).localStore).then(function(t){return Bv(e,t)})]})})}function $v(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Pl(t),r=Pl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):yp.resolve(null)})})}((i=Pl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Jm(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uv(i,e,r||null),Fv(i,e),function(t,e){Pl(Pl(t)._n).Gt(e)}(i.localStore,e)):Rl(),s.label=4;case 4:return[4,Bv(i,o)];case 5:return s.sent(),[3,7];case 6:xl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Jv(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,xi.Jh)(this,function(c){switch(c.label){case 0:return ey(n=Pl(t)),ny(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Wv(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,nv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Fm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Mv(n,e),Hg(n.localStore,e,!0)}),Um(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Wv(n,a)];case 5:return c.sent(),function(t){var e=Pl(t);e.Co.forEach(function(t,n){Um(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Hf(ah.comparator)}(n),n.Oo=!1,[4,nv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Wv(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,xi.Jh)(this,function(g){switch(g.label){case 0:n=Pl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Zg(n.localStore,Xh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,zv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Kg(n.localStore,a)];case 8:return p=g.sent(),[4,Zg(n.localStore,p)];case 9:return u=g.sent(),[4,Cv(n,Yv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Yv(t){return Hh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qv(t){var e=Pl(t);return Pl(Pl(e.localStore).persistence).fn()}function Xv(t,e,n,r){return(0,xi.mG)(this,void 0,void 0,function(){var i,o,s;return(0,xi.Jh)(this,function(a){switch(a.label){case 0:return(i=Pl(t)).Oo?(xl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$g(i.localStore)];case 3:return o=a.sent(),s=sd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Bv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Hg(i.localStore,e,!0)];case 6:return a.sent(),Mv(i,e,r),[3,8];case 7:Rl(),a.label=8;case 8:return[2]}})})}function ty(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,xi.Jh)(this,function(f){switch(f.label){case 0:if(!(r=ey(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(xl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Kg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Zg(r.localStore,a)];case 3:return u=f.sent(),[4,Cv(r,Yv(a),u.targetId,!1)];case 4:f.sent(),Fm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Hg(r.localStore,t,!1).then(function(){Um(r.remoteStore,t),Mv(r,t)}).catch(hg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ey(t){var e=Pl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ov.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rv.bind(null,e),e.vo._r=pv.bind(null,e.eventManager),e.vo.Mo=gv.bind(null,e.eventManager),e}function ny(t){var e=Pl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pv.bind(null,e),e}var ry=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return this.R=Am(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Ug(this.persistence,new Lg,t.initialUser,this.R)},t.prototype.qo=function(t){return new om(am.bs,this.R)},t.prototype.Bo=function(t){return new ym},t.prototype.terminate=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,xi.ZT)(e,t),e.prototype.initialize=function(e){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Jg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ny(this.Ko.syncEngine)];case 4:return n.sent(),[4,Jm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Ug(this.persistence,new Lg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new pg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ng(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qp.withCacheSize(this.cacheSizeBytes):Qp.DEFAULT;return new xg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sm(),Em(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ym},e}(ry),oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,xi.ZT)(e,t),e.prototype.initialize=function(e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r=this;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof vm?(this.sharedClientState.syncEngine={ui:$v.bind(null,n),ai:Xv.bind(null,n),hi:ty.bind(null,n),fn:Qv.bind(null,n),ci:Kv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,xi.mG)(r,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return[4,Jv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Sm();if(!vm.yt(e))throw new El(Sl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ng(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(iy),sy=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n=this;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Nv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Zv.bind(null,this.syncEngine),[4,nv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new hv},t.prototype.createDatastore=function(t){var e=Am(t.databaseInfo.databaseId),n=new Im(t.databaseInfo);return function(t,e,n){return new Nm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Nv(s.syncEngine,t,0)},o=wm.yt()?new wm:new bm,new Dm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ev(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e=Pl(t),xl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Lm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),ay=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),uy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new vp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new yv(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n=this;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new El(Sl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,xi.Jh)(this,function(u){switch(u.label){case 0:return n=Pl(t),r=xd(n.R)+"/documents",i={documents:e.map(function(t){return Sd(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Dl(!!e.found);var n=Ed(t,e.found.name),r=_d(e.found.updateTime),i=new _h({mapValue:{fields:e.found.fields}});return Ih.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Dl(!!e.missing),Dl(!!e.readTime);var n=Ed(t,e.missing),r=_d(e.readTime);return Ih.newNoDocument(n,r)}(t,e):Rl()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Dl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new jf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e=this;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ah.fromPath(n);e.mutations.push(new qf(r,e.precondition(r)))}),[4,function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return n=Pl(t),r=xd(n.R)+"/documents",i={writes:e.map(function(t){return Rd(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Rl();e=ql.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new El(Sl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ef.updateTime(e):Ef.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ql.min()))throw new El(Sl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ef.updateTime(e)}return Ef.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),cy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Cm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,xi.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,xi.Jh)(this,function(r){return t=new uy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ih(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bf(e)}return!1},t}(),ly=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=um.UNAUTHENTICATED,this.clientId=Fl.u(),this.credentialListener=function(){},this.receivedInitialUser=new vp,this.credentials.setChangeListener(function(t){xl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new El(Sl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new vp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,xi.mG)(t,void 0,void 0,function(){var t,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=sv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function hy(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),xl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return(0,xi.mG)(i,void 0,void 0,function(){return(0,xi.Jh)(this,function(t){switch(t.label){case 0:return[4,Mg(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function fy(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,dy(t)];case 1:return n=i.sent(),xl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return(n=Pl(t)).asyncQueue.verifyOperationInProgress(),xl("RemoteStore","RemoteStore received new credentials"),r=Gm(n),n.$r.add(3),[4,Lm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Pm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function dy(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(xl("FirestoreClient","Using default OfflineComponentProvider"),[4,hy(t,new ry)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function py(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(xl("FirestoreClient","Using default OnlineComponentProvider"),[4,fy(t,new sy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gy(t){return dy(t).then(function(t){return t.persistence})}function my(t){return dy(t).then(function(t){return t.localStore})}function vy(t){return py(t).then(function(t){return t.remoteStore})}function yy(t){return py(t).then(function(t){return t.syncEngine})}function by(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return[4,py(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Av.bind(null,e.syncEngine),n.onUnlisten=xv.bind(null,e.syncEngine),n)]}})})}function wy(t,e,n){var r=this;void 0===n&&(n={});var i=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(r,void 0,void 0,function(){var r;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ay({next:function(o){e.enqueueAndForget(function(){return dv(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new El(Sl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new El(Sl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new vv(zh(n.path),o,{includeMetadataChanges:!0,so:!0});return fv(t,s)},[4,by(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function _y(t,e,n){var r=this;void 0===n&&(n={});var i=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(r,void 0,void 0,function(){var r;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ay({next:function(n){e.enqueueAndForget(function(){return dv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new El(Sl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new vv(n,o,{includeMetadataChanges:!0,so:!0});return fv(t,s)},[4,by(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Ty=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Iy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sy=new Map,Ey=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ay=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(um.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Cy=function(){function t(t){var e=this;this.oc=null,this.currentUser=um.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(xl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Dl("string"==typeof n.accessToken),new Ey(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Dl(null===t||"string"==typeof t),new um(t)},t}(),xy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=um.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),ky=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new xy(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(um.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Oy(t,e,n){if(!n)throw new El(Sl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ny(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new El(Sl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ry(t,e,n,r){if(!0===e&&!0===r)throw new El(Sl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dy(t){if(!ah.isDocumentKey(t))throw new El(Sl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Py(t){if(ah.isDocumentKey(t))throw new El(Sl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ly(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Rl()}function Fy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new El(Sl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ly(t);throw new El(Sl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Uy(t,e){if(e<=0)throw new El(Sl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var My=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new El(Sl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new El(Sl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ry("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1,t instanceof Iy?(this._databaseId=t,this._credentials=new Ay):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new El(Sl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iy(t.options.projectId)}(t),this._credentials=new Cy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new El(Sl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new El(Sl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ay;switch(t.type){case"gapi":var e=t.client;return Dl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ky(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new El(Sl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Sy.get(this))&&(xl("ComponentProvider","Removing Datastore"),Sy.delete(this),t.terminate()),Promise.resolve();var t},t}(),jy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gy(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),qy=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zh(r))||this)._path=r,i.type="collection",i}return(0,xi.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new jy(this.firestore,null,new ah(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qy);function By(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ws.m9)(t),Oy("collection","path",e),t instanceof Vy)return Py(n=zl.fromString.apply(zl,(0,xi.ev)([e],r))),new Gy(t,null,n);if(!(t instanceof jy||t instanceof Gy))throw new El(Sl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Py(n=zl.fromString.apply(zl,(0,xi.ev)([t.path],r)).child(zl.fromString(e))),new Gy(t.firestore,null,n)}function Zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ws.m9)(t),1===arguments.length&&(e=Fl.u()),Oy("doc","path",e),t instanceof Vy)return Dy(n=zl.fromString.apply(zl,(0,xi.ev)([e],r))),new jy(t,null,new ah(n));if(!(t instanceof jy||t instanceof Gy))throw new El(Sl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dy(n=t._path.child(zl.fromString.apply(zl,(0,xi.ev)([e],r)))),new jy(t.firestore,t instanceof Gy?t._converter:null,new ah(n))}function Hy(t,e){return t=(0,ws.m9)(t),e=(0,ws.m9)(e),(t instanceof jy||t instanceof Gy)&&(e instanceof jy||e instanceof Gy)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function zy(t,e){return t=(0,ws.m9)(t),e=(0,ws.m9)(e),t instanceof qy&&e instanceof qy&&t.firestore===e.firestore&&ef(t._query,e._query)&&t._converter===e._converter}var Ky=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Cm(this,"async_queue_retry"),this.Ec=function(){var e=Em();e&&xl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e=this;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ip(t=n.sent()))throw t;return xl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,kl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=ov.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Rl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t;return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function $y(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new vp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Ky,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,xi.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Yy(this),this._firestoreClient.terminate()},e}(Vy);function Wy(t){return t._firestoreClient||Yy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ty(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ly(t._credentials,t._queue,r)}function Qy(t,e,n){var r=this,i=new vp;return t.asyncQueue.enqueue(function(){return(0,xi.mG)(r,void 0,void 0,function(){var r;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,hy(t,n)];case 1:return o.sent(),[4,fy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Sl.FAILED_PRECONDITION||t.code===Sl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Xy(t){if(t._initialized||t._terminated)throw new El(Sl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new El(Sl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $l(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),eb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Wl.fromBase64String(e))}catch(e){throw new El(Sl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Wl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),nb=function(t){this._methodName=t},rb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new El(Sl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new El(Sl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ul(this._lat,t._lat)||Ul(this._long,t._long)},t}(),ib=/^__.*__$/,ob=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Pf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Df(t,this.data,e,this.fieldTransforms)},t}(),sb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Pf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rl()}}var ub=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return xb(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ab(this.Dc)&&ib.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),cb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Am(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new ub({Dc:t,methodName:e,Lc:n,path:$l.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lb(t){var e=t._freezeSettings(),n=Am(t._databaseId);return new cb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Sb("Data must be an object, but it was:",s,r);var a,u,c=Tb(r,s);if(o.merge)a=new Jl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Eb(e,f[h],n);if(!s.contains(d))throw new El(Sl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");kb(l,d)||l.push(d)}a=new Jl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new ob(new _h(c),a,u)}var fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(nb);function db(t,e,n){return new ub({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new If(t.path,new gf)},e.prototype.isEqual=function(t){return t instanceof e},e}(nb),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return(0,xi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=db(this,t,!0),n=this.qc.map(function(t){return _b(t,e)}),r=new mf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(nb),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return(0,xi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=db(this,t,!0),n=this.qc.map(function(t){return _b(t,e)}),r=new yf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(nb),vb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,xi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new wf(t.R,lf(t.R,this.Uc));return new If(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(nb);function yb(t,e,n,r){var i=t.Bc(1,e,n);Sb("Data must be an object, but it was:",i,r);var o=[],s=_h.empty();Bl(r,function(t,r){var a=Cb(e,t,n);r=(0,ws.m9)(r);var u=i.kc(a);if(r instanceof fb)o.push(a);else{var c=_b(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Jl(o);return new sb(s,a,i.fieldTransforms)}function bb(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Eb(e,r,n)],u=[i];if(o.length%2!=0)throw new El(Sl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Eb(e,o[c])),u.push(o[c+1]);for(var l=[],h=_h.empty(),f=a.length-1;f>=0;--f)if(!kb(l,a[f])){var d=a[f],p=u[f];p=(0,ws.m9)(p);var g=s.kc(d);if(p instanceof fb)l.push(d);else{var m=_b(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new Jl(l);return new sb(h,v,s.fieldTransforms)}function wb(t,e,n,r){return void 0===r&&(r=!1),_b(n,t.Bc(r?4:3,e))}function _b(t,e){if(Ib(t=(0,ws.m9)(t)))return Sb("Unsupported field value:",e,t),Tb(t,e);if(t instanceof nb)return function(t,e){if(!ab(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=_b(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,ws.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=jl.fromDate(t);return{timestampValue:yd(e.R,n)}}if(t instanceof jl)return n=new jl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:yd(e.R,n)};if(t instanceof rb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eb)return{bytesValue:bd(e.R,t._byteString)};if(t instanceof jy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Td(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Ly(t))}(t,e)}function Tb(t,e){var n={};return Zl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,function(t,r){var i=_b(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ib(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jl||t instanceof rb||t instanceof eb||t instanceof jy||t instanceof nb)}function Sb(t,e,n){if(!Ib(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ly(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Eb(t,e,n){if((e=(0,ws.m9)(e))instanceof tb)return e._internalPath;if("string"==typeof e)return Cb(t,e);throw xb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ab=new RegExp("[~\\*/\\[\\]]");function Cb(t,e,n){if(e.search(Ab)>=0)throw xb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(tb.bind.apply(tb,(0,xi.ev)([void 0],e.split(".")))))._internalPath}catch(Ms){throw xb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new El(Sl.INVALID_ARGUMENT,(a+=". ")+t+u)}function kb(t,e){return t.some(function(t){return t.isEqual(e)})}var Ob=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new jy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Rb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Nb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ob);function Rb(t,e){return"string"==typeof e?Cb(t,e):e instanceof tb?e._internalPath:e._delegate._internalPath}var Db=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Pb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,xi.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Rb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ob),Lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Pb),Fb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Db(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Lb(n._firestore,n._userDataWriter,r.key,r,new Db(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new El(Sl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Lb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Lb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ub(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ub(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rl()}}function Mb(t,e){return t instanceof Pb&&e instanceof Pb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fb&&e instanceof Fb&&t._firestore===e._firestore&&zy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Vb(t){if($h(t)&&0===t.explicitOrderBy.length)throw new El(Sl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jb=function(){};function qb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return(0,xi.ZT)(e,t),e.prototype._apply=function(t){var e=lb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new El(Sl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($b(r,t,l[c]));a={arrayValue:{values:u}}}else a=$b(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jb(s,o),a=wb(n,"where",s,"in"===o||"not-in"===o);var h=kh.create(i,o,a);return function(t,e){if(e.g()){var n=Wh(t);if(null!==n&&!n.isEqual(e.field))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jh(t);null!==r&&Wb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new El(Sl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new qy(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(jb),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return(0,xi.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new El(Sl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new El(Sl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jh(e,n);return function(t,e){if(null===Jh(t)){var n=Wh(t);null!==n&&Wb(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new qy(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Zh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(jb),Zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return(0,xi.ZT)(e,t),e.prototype._apply=function(t){return new qy(t.firestore,t._converter,tf(t._query,this.Gc,this.zc))},e}(jb),Hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,xi.ZT)(e,t),e.prototype._apply=function(t){var e=Kb(t,this.type,this.Hc,this.Jc);return new qy(t.firestore,t._converter,function(t,e){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(jb),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,xi.ZT)(e,t),e.prototype._apply=function(t){var e=Kb(t,this.type,this.Hc,this.Jc);return new qy(t.firestore,t._converter,function(t,e){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(jb);function Kb(t,e,n,r){if(n[0]=(0,ws.m9)(n[0]),n[0]instanceof Ob)return function(t,e,n,r,i){if(!r)throw new El(Sl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Qh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(gh(e,r.key));else{var c=r.data.field(u.field);if(eh(c))throw new El(Sl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new El(Sl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new El(Sl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new El(Sl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yh(t)&&-1!==c.indexOf("/"))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(zl.fromString(c));if(!ah.isDocumentKey(l))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ah(l);a.push(gh(e,h))}else{var f=wb(n,r,c);a.push(f)}}return new Mh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function $b(t,e,n){if("string"==typeof(n=(0,ws.m9)(n))){if(""===n)throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yh(e)&&-1!==n.indexOf("/"))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zl.fromString(n));if(!ah.isDocumentKey(r))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gh(t,new ah(r))}if(n instanceof jy)return gh(t,n._key);throw new El(Sl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ly(n)+".")}function Jb(t,e){if(!Array.isArray(t)||0===t.length)throw new El(Sl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new El(Sl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wb(t,e,n){if(!n.isEqual(e))throw new El(Sl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Yb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(th(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Rl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Bl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new rb(Xl(t.latitude),Xl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=nh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ql(t);return new jl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=zl.fromString(t);Dl(Kd(n));var r=new Iy(n.get(1),n.get(3)),i=new ah(n.popFirst(5));return r.isEqual(e)||kl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Qb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xi.ZT)(e,t),e.prototype.convertBytes=function(t){return new eb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new jy(this.firestore,null,e)},e}(Yb),tw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ew(t,this._firestore),i=Qb(r._converter,e,n),o=hb(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ef.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ew(t,this._firestore);return o="string"==typeof(e=(0,ws.m9)(e))||e instanceof tb?bb(this._dataReader,"WriteBatch.update",s._key,e,n,r):yb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ef.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ew(t,this._firestore);return this._mutations=this._mutations.concat(new jf(e._key,Ef.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new El(Sl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ew(t,e){if((t=(0,ws.m9)(t)).firestore!==e)throw new El(Sl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xi.ZT)(e,t),e.prototype.convertBytes=function(t){return new eb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new jy(this.firestore,null,e)},e}(Yb);function rw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Fy(t,jy);var o=Fy(t.firestore,Jy),s=lb(o);return ow(o,[("string"==typeof(e=(0,ws.m9)(e))||e instanceof tb?bb(s,"updateDoc",t._key,e,n,r):yb(s,"updateDoc",t._key,e)).toMutation(t._key,Ef.exists(!0))])}function iw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,ws.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||$y(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if($y(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof jy)c=Fy(t.firestore,Jy),l=zh(t._key.path),u={next:function(e){i[a]&&i[a](sw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Fy(t,qy);c=Fy(d.firestore,Jy),l=d._query;var p=new nw(c);u={next:function(t){i[a]&&i[a](new Fb(c,p,d,t))},error:i[a+1],complete:i[a+2]},Vb(t._query)}return function(t,e,n,r){var i=this,o=new ay(r),s=new vv(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(i,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e=fv,[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(i,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e=dv,[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Wy(c),l,h,u)}function ow(t,e){return function(t,e){var n=this,r=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var n;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return n=kv,[4,yy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Wy(t),e)}function sw(t,e,n){var r=n.docs.get(e._key),i=new nw(t);return new Pb(t,i,e._key,r,new Db(n.hasPendingWrites,n.fromCache),e._converter)}var aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,xi.ZT)(e,t),e.prototype.get=function(e){var n=this,r=ew(e,this._firestore),i=new nw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Pb(n._firestore,i,r._key,t._document,new Db(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lb(t)}return t.prototype.get=function(t){var e=this,n=ew(t,this._firestore),r=new Xb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Rl();var i=t[0];if(i.isFoundDocument())return new Ob(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Ob(e._firestore,r,n._key,null,n._converter);throw Rl()})},t.prototype.set=function(t,e,n){var r=ew(t,this._firestore),i=Qb(r._converter,e,n),o=hb(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ew(t,this._firestore);return o="string"==typeof(e=(0,ws.m9)(e))||e instanceof tb?bb(this._dataReader,"Transaction.update",s._key,e,n,r):yb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ew(t,this._firestore);return this._transaction.delete(e._key),this},t}());function uw(){if("undefined"==typeof Uint8Array)throw new El(Sl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cw(){if("undefined"==typeof atob)throw new El(Sl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return cw(),new t(eb.fromBase64String(e))},t.fromUint8Array=function(e){return uw(),new t(eb.fromUint8Array(e))},t.prototype.toBase64=function(){return cw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return uw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Xy(t=Fy(t,Jy));var n=Wy(t),r=t._freezeSettings(),i=new sy;return Qy(n,i,new iy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Xy(t=Fy(t,Jy));var e=Wy(t),n=t._freezeSettings(),r=new sy;return Qy(e,r,new oy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new El(Sl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new vp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,xi.mG)(e,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,xi.mG)(this,void 0,void 0,function(){return(0,xi.Jh)(this,function(e){switch(e.label){case 0:return wp.yt()?[4,wp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ng(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),fw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Iy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Fy(t,Vy))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ol("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,xi.mG)(e,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return[4,gy(t)];case 1:return e=r.sent(),[4,vy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Pl(t);return e.$r.delete(0),Pm(e)}(n))]}})})})}(Wy(Fy(this._delegate,Jy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,xi.mG)(e,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return[4,gy(t)];case 1:return e=r.sent(),[4,vy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return(e=Pl(t)).$r.add(0),[4,Lm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Wy(Fy(this._delegate,Jy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ry("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(e,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return e=Lv,[4,yy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Wy(Fy(this._delegate,Jy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ay(e);return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Pl(t).Gr.add(e),e.next()},[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Pl(t).Gr.delete(e)},[4,by(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Wy(t=Fy(t,Jy)),$y(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new El(Sl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Aw(this,By(this._delegate,t))}catch(t){throw yw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new vw(this,Zy(this._delegate,t))}catch(t){throw yw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Iw(this,function(t,e){if(t=Fy(t,Vy),Oy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new El(Sl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qy(t,null,function(t){return new Zh(zl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw yw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var n;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return py(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new cy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Wy(t),function(n){return e(new aw(t,n))})}(this._delegate,function(n){return t(new pw(e,n))})},t.prototype.batch=function(){var t=this;return Wy(this._delegate),new gw(new tw(this._delegate,function(e){return ow(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new El(Sl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new El(Sl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),dw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xi.ZT)(e,t),e.prototype.convertBytes=function(t){return new lw(new eb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return vw.Zc(e,this.firestore,null)},e}(Yb),pw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new dw(t)}return t.prototype.get=function(t){var e=this,n=Cw(t);return this._delegate.get(n).then(function(t){return new _w(e._firestore,new Pb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Cw(t);return n?(Ny("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,xi.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Cw(t);return this._delegate.delete(e),this},t}(),gw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Cw(t);return n?(Ny("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,xi.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Cw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),mw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Lb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new dw(e),n),i.set(n,o)),o},t}();mw.eu=new WeakMap;var vw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dw(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new El(Sl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new jy(n._delegate,r,new ah(e)))},t.Zc=function(e,n,r){return new t(n,new jy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Aw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Aw(this.firestore,By(this._delegate,t))}catch(t){throw yw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,ws.m9)(t))instanceof jy&&Hy(this._delegate,t)},t.prototype.set=function(t,e){e=Ny("DocumentReference.set",e);try{return function(t,e,n){t=Fy(t,jy);var r=Fy(t.firestore,Jy),i=Qb(t._converter,e,n);return ow(r,[hb(lb(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ef.none())])}(this._delegate,t,e)}catch(t){throw yw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rw(this._delegate,t):rw.apply(void 0,(0,xi.ev)([this._delegate,t,e],n))}catch(t){throw yw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ow(Fy((t=this._delegate).firestore,Jy),[new jf(t._key,Ef.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bw(e),i=ww(e,function(e){return new _w(t.firestore,new Pb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return iw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fy(t,jy);var e=Fy(t.firestore,Jy),n=Wy(e),r=new nw(e);return function(t,e){var n=this,r=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var n;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new El(Sl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Pb(e,r,t._key,n,new Db(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fy(t,jy);var e=Fy(t.firestore,Jy);return wy(Wy(e),t._key,{source:"server"}).then(function(n){return sw(e,t,n)})}(this._delegate):function(t){t=Fy(t,jy);var e=Fy(t.firestore,Jy);return wy(Wy(e),t._key).then(function(n){return sw(e,t,n)})}(this._delegate)).then(function(t){return new _w(e.firestore,new Pb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mw.tu(this.firestore,e):null))},t}();function yw(t,e,n){return t.message=t.message.replace(e,n),t}function bw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$y(r))return r}return{}}function ww(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$y(t[0])?t[0]:$y(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _w=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new vw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Mb(this._delegate,t._delegate)},t}(),Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xi.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(_w),Iw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,qb(this._delegate,function(t,e,n){var r=e,i=Rb("where",t);return new Gb(i,r,n)}(e,n,r)))}catch(e){throw yw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,qb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Rb("orderBy",t);return new Bb(r,n)}(e,n)))}catch(e){throw yw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,qb(this._delegate,function(t){return Uy("limit",t),new Zb("limit",t,"F")}(e)))}catch(e){throw yw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,qb(this._delegate,function(t){return Uy("limitToLast",t),new Zb("limitToLast",t,"L")}(e)))}catch(e){throw yw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw yw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw yw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw yw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw yw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fy(t,qy);var e=Fy(t.firestore,Jy),n=Wy(e),r=new nw(e);return function(t,e){var n=this,r=new vp;return t.asyncQueue.enqueueAndForget(function(){return(0,xi.mG)(n,void 0,void 0,function(){var n;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,xi.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,zg(t,e,!0)];case 1:return a=u.sent(),r=new Tv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=sv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Fb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fy(t,qy);var e=Fy(t.firestore,Jy),n=Wy(e),r=new nw(e);return _y(n,t._query,{source:"server"}).then(function(n){return new Fb(e,r,t,n)})}(this._delegate):function(t){t=Fy(t,qy);var e=Fy(t.firestore,Jy),n=Wy(e),r=new nw(e);return Vb(t._query),_y(n,t._query).then(function(n){return new Fb(e,r,t,n)})}(this._delegate)).then(function(t){return new Ew(e.firestore,new Fb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bw(e),i=ww(e,function(e){return new Ew(t.firestore,new Fb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return iw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mw.tu(this.firestore,e):null))},t}(),Sw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Tw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ew=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Iw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Tw(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Sw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Tw(n._firestore,r))})},t.prototype.isEqual=function(t){return Mb(this._delegate,t._delegate)},t}(),Aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,xi.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new vw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new vw(this.firestore,void 0===t?Zy(this._delegate):Zy(this._delegate,t))}catch(t){throw yw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Fy(t.firestore,Jy),r=Zy(t),i=Qb(t._converter,e);return ow(n,[hb(lb(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Ef.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new vw(e.firestore,t)})},e.prototype.isEqual=function(t){return Hy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mw.tu(this.firestore,t):null))},e}(Iw);function Cw(t){return Fy(t,jy)}var xw,kw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(tb.bind.apply(tb,(0,xi.ev)([void 0],t)))}return t.documentId=function(){return new t($l.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,ws.m9)(t))instanceof tb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ow=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new pb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new fb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new vb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Nw=n(6034),Rw={Firestore:fw,GeoPoint:rb,Timestamp:jl,Blob:lw,Transaction:pw,WriteBatch:gw,DocumentReference:vw,DocumentSnapshot:_w,Query:Iw,QueryDocumentSnapshot:Tw,QuerySnapshot:Ew,CollectionReference:Aw,FieldPath:kw,FieldValue:Ow,setLogLevel:function(t){Al.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Dw(t,e){return function(t,e=ds.z){return new Mt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Pw(t,e){return Dw(t,e).pipe((0,Wt.U)(t=>({payload:t,type:"query"})))}function Lw(t,e){return Pw(t,e).pipe(oe(void 0),ps(),(0,Wt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Fw(t,e,n){return Lw(t,n).pipe(se((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Uw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Uw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Uw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new vs(void 0,void 0)),(0,Wt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Uw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Mw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Nw.wA("firestore",function(t){return function(t,e){return new fw(t,new Jy(t,e),new hw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Rw)))})(xw=bs.Z),xw.registerVersion("@firebase/firestore","2.2.5");class Vw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Lw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Wt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(oe(void 0),ps(),ce(([t,e])=>e.length>0||!t),(0,Wt.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(se((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Mw(t);return Fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Ct.D)(this.query.get(t)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new jw(this.ref.doc(t),this.afs)}}class jw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zw(n,e);return new Vw(r,i,this.afs)}snapshotChanges(){return function(t,e){return Dw(t,e).pipe(oe(void 0),ps(),(0,Wt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Wt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ct.D)(this.ref.get(t)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}}class qw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Lw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ce(t=>t.length>0),this.afs.keepUnstableUntilFirst):Lw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(se((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Mw(t);return Fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Ct.D)(this.query.get(t)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}}const Gw=new r.OlP("angularfire2.enableFirestorePersistence"),Bw=new r.OlP("angularfire2.firestore.persistenceSettings"),Zw=new r.OlP("angularfire2.firestore.settings"),Hw=new r.OlP("angularfire2.firestore.use-emulator");function zw(t,e=(t=>t)){return{query:e(t),ref:t}}let Kw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new rs.HU(o),this.keepUnstableUntilFirst=(0,rs.ss)(this.schedulers);const c=(0,rs.on)(t,o,e);!Ko.Z.auth&&u&&(0,rs.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,rs.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!J(i)){const e=()=>{try{return(0,Ct.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(xw){return"undefined"!=typeof console&&console.warn(xw),(0,xt.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,xt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Vw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new jw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rs.Dh),r.LFG(rs.xv,8),r.LFG(Gw,8),r.LFG(Zw,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Bw,8),r.LFG(Hw,8),r.LFG(is,8))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(rs.Dh),(0,r.LFG)(rs.xv,8),(0,r.LFG)(Gw,8),(0,r.LFG)(Zw,8),(0,r.LFG)(r.Lbi),(0,r.LFG)(r.R0b),(0,r.LFG)(Bw,8),(0,r.LFG)(Hw,8),(0,r.LFG)(is,8))},token:t,providedIn:"any"}),t})(),$w=(()=>{class t{constructor(t,e){this.firestore=t,this.router=e,this.objecjSorce=new Nt({}),this.data=[],this.$getObjecjtSorce=this.objecjSorce.asObservable()}getCollections(t){return this.firestore.collection(t).snapshotChanges()}crearDoc(t,e,n){return this.firestore.collection(t).doc(n).set(e)}getDoc(t,e){return this.firestore.collection(t).doc(e).valueChanges()}deleteDoc(t,e){return this.firestore.collection(t).doc(e).delete()}getUser(){return this.firestore.collection("usuarios").snapshotChanges()}getId(){return this.firestore.createId()}createUser(t){return this.firestore.collection("usuarios").add(t)}sendObjectSorce(t){this.objecjSorce.next(t)}createArticulo(t,e){return this.firestore.collection(t).add(e)}updateArticulo(t,e,n){return this.firestore.collection(t).doc(e).update(n)}getMochila(){return this.firestore.collection("Mochila").snapshotChanges()}createMochila(t){return this.firestore.collection("Mochila").add(t)}updateMochila(t,e){return this.firestore.collection("Mochila").doc(t).update(e)}eliminarMochila(t){return this.firestore.collection("Mochila").doc(t).delete()}agregarUrl(t){return this.firestore.collection("Mochila").doc(t.id).update(t.url)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Kw),r.LFG(si))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jw=function(){return["/register"]};let Ww=(()=>{class t{constructor(t,e,n){this.authServ=t,this.router=e,this.firebaseServ=n,this.loginForm=new ko({email:new xo(""),password:new xo("")})}ngOnInit(){}onLogin(){return(0,xi.mG)(this,void 0,void 0,function*(){const{email:t,password:e}=this.loginForm.value;if("Chinthia"==t&&"Chinthia"==e)this.firebaseServ.sendObjectSorce(!0),this.router.navigate(["crud","admin"]);else try{(yield this.authServ.login(t,e))&&this.router.navigate(["Pedidos"])}catch(n){console.log(n)}})}onGoogleLogin(){try{this.authServ.loginGoogle()}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fs),r.Y36(si),r.Y36($w))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:22,vars:3,consts:[[1,"row",2,"margin-top","2.3%"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h1",4),r._uU(5,"Inicia Sesion"),r.qZA(),r.TgZ(6,"form",5),r.NdJ("ngSubmit",function(){return e.onLogin()}),r.TgZ(7,"div",6),r.TgZ(8,"label",7),r._uU(9,"Correo"),r.qZA(),r._UZ(10,"input",8),r.qZA(),r.TgZ(11,"div",6),r.TgZ(12,"label",9),r._uU(13,"Contrase\xf1a"),r.qZA(),r._UZ(14,"input",10),r.qZA(),r.TgZ(15,"button",11),r._uU(16,"Login"),r.qZA(),r.qZA(),r.TgZ(17,"div",12),r.TgZ(18,"p"),r._uU(19,"Crea una Cuenta "),r.TgZ(20,"a",13),r._uU(21," Registrar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("formGroup",e.loginForm),r.xp6(14),r.Q6J("routerLink",r.DdM(2,Jw)))},directives:[Po,ao,jo,Li,so,Go,ai],styles:[".btn-google[_ngcontent-%COMP%]{background-color:#dd4b39;color:#fff;width:100%}"]}),t})();const Yw=function(){return["/login"]};let Qw=(()=>{class t{constructor(t,e,n){this.autServ=t,this.router=e,this.fireServ=n,this.usuario={nombre:"",uid:""},this.registerForm=new ko({email:new xo(""),password:new xo(""),nombre:new xo(""),apellidos:new xo("")})}ngOnInit(){}onRegister(){return(0,xi.mG)(this,void 0,void 0,function*(){const{email:t,password:e}=this.registerForm.value,{nombre:n,apellidos:r}=this.registerForm.value;try{const i=yield this.autServ.register(t,e);i&&(i.user.updateProfile({displayName:n+" "+r}),this.usuario={nombre:n+" "+r,uid:i.user.uid},this.fireServ.crearDoc("Usuarios",this.usuario,this.usuario.uid),this.router.navigate(["Inicio"]))}catch(i){console.log(i)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fs),r.Y36(si),r.Y36($w))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-register"]],features:[r._Bn([fs])],decls:22,vars:3,consts:[[1,"row",2,"margin-bottom","6.5%"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h1",4),r._uU(5,"Registro"),r.qZA(),r.TgZ(6,"form",5),r.NdJ("ngSubmit",function(){return e.onRegister()}),r.TgZ(7,"div",6),r.TgZ(8,"label",7),r._uU(9,"Correo"),r.qZA(),r._UZ(10,"input",8),r.qZA(),r.TgZ(11,"div",6),r.TgZ(12,"label",9),r._uU(13,"Contrase\xf1a"),r.qZA(),r._UZ(14,"input",10),r.qZA(),r.TgZ(15,"button",11),r._uU(16,"Register"),r.qZA(),r.qZA(),r.TgZ(17,"div",12),r.TgZ(18,"p"),r._uU(19,"\xbfYa tienes una cuenta? "),r.TgZ(20,"a",13),r._uU(21," Inicia Sesion"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("formGroup",e.registerForm),r.xp6(14),r.Q6J("routerLink",r.DdM(2,Yw)))},directives:[Po,ao,jo,Li,so,Go,ai],styles:[""]}),t})();function Xw(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"div"),r.TgZ(2,"div",3),r.TgZ(3,"a",4),r.NdJ("click",function(){r.CHM(t);const n=e.$implicit;return r.oxw().verMochila(n)}),r._UZ(4,"img",5),r.qZA(),r.TgZ(5,"div",6),r.TgZ(6,"p",7),r._uU(7),r.TgZ(8,"strong"),r._uU(9),r.ALo(10,"number"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(4),r.Q6J("src",t.url,r.LSH),r.xp6(3),r.hij(" ",t.descripcion," por: "),r.xp6(2),r.hij("$ ",r.lcZ(10,3,t.precio),"")}}let t_=(()=>{class t{constructor(t,e){this.firebaseServ=t,this.router=e,this.data=[]}ngOnInit(){this.loadData()}loadData(){this.firebaseServ.getMochila().subscribe(t=>{this.data=t.map(t=>({tiposMochila:t.payload.doc.data().tiposMochila,genero:t.payload.doc.data().genero,descripcion:t.payload.doc.data().descripcion,color:t.payload.doc.data().color,precio:t.payload.doc.data().precio,medidas:t.payload.doc.data().medidas,material:t.payload.doc.data().material,cantidad:t.payload.doc.data().cantidad,calificacion:t.payload.doc.data().calificacion,url:t.payload.doc.data().url,idFirebase:t.payload.doc.id}))})}verMochila(t){this.firebaseServ.sendObjectSorce(t),this.router.navigate(["detalles",t.idFirebase])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($w),r.Y36(si))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:2,vars:1,consts:[[1,"row","container-lg-fluid","mb-5",2,"margin","0"],["class","col-md-2","style","margin-left: 3em; max-height: 23rem;",4,"ngFor","ngForOf"],[1,"col-md-2",2,"margin-left","3em","max-height","23rem"],[1,"card","border-0",2,"color","black","width","15rem","height","25rem"],["type","button",1,"",3,"click"],[1,"card-img-top",2,"width","15rem","height","15rem",3,"src"],[1,"card-body",2,"text-align","center"],[1,"card-text",2,"text-transform","capitalize","font-family","Gotham-Bold',Arial,sans-serif;"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,Xw,11,5,"div",1),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngForOf",e.data))},directives:[F],pipes:[K],encapsulation:2}),t})();var e_=n(9105);function n_(t,e,n,r){return(0,e_.m)(n)&&(r=n,n=void 0),r?n_(t,e,n).pipe((0,Wt.U)(t=>(0,Dt.k)(t)?r(...t):r(t))):new Mt.y(r=>{r_(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function r_(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)r_(t[o],e,n,r,i)}r.add(o)}var i_=n(6561);function o_(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class s_{call(t,e){return e.subscribe(new a_(t))}}class a_ extends Lt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Vt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var u_=n(8640);new Mt.y(u_.Z);var c_=n(377);function l_(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,jt.n)(t,void 0).lift(new h_(e))}class h_{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new f_(t,this.resultSelector))}}class f_ extends Pt.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,Dt.k)(t)?e.push(new p_(t)):e.push("function"==typeof t[c_.hZ]?new d_(t[c_.hZ]()):new g_(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class d_{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class p_{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[c_.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class g_ extends Yt.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[c_.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,Yt.ft)(this.observable,new Yt.IY(this))}}function m_(t){return e=>e.lift(new v_(t))}class v_{constructor(t){this.notifier=t}call(t,e){const n=new y_(t),r=(0,Yt.ft)(this.notifier,new Yt.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class y_ extends Yt.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function b_(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new w_(t,n))}}class w_{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new __(t,this.observables,this.project))}}class __ extends Lt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Vt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n(1593),n(8819);const T_=["*"],I_=["dialog"];function S_(t){return null!=t}function E_(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const A_={animation:!0,transitionTimerDelayMs:5};let C_=(()=>{class t{constructor(){this.animation=A_.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const x_=()=>{},{transitionTimerDelayMs:k_}=A_,O_=new Map,N_=(t,e,n,r)=>{let i=r.context||{};const o=O_.get(e);if(o)switch(r.runningTransition){case"continue":return Kt.E;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),O_.delete(e)}const s=n(e,r.animation,i)||x_;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),(0,xt.of)(void 0).pipe(function(t){return e=>new Mt.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new kt.xQ,u=new kt.xQ,c=a.pipe(function(...t){return e=>zt(e,(0,xt.of)(...t))}(!0));O_.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=n_(e,"transitionend").pipe(m_(c),ce(({target:t})=>t===e));(function(...t){if(1===t.length){if(!(0,Dt.k)(t[0]))return t[0];t=t[0]}return(0,jt.n)(t,void 0).lift(new s_)})(function(t=0,e,n){let r=-1;return(0,i_.k)(e)?r=Number(e)<1?1:Number(e):(0,Rt.K)(e)&&(n=e),(0,Rt.K)(n)||(n=ds.P),new Mt.y(e=>{const i=(0,i_.k)(t)?t:+t-n.now();return n.schedule(o_,i,{index:0,period:r,subscriber:e})})}(l+k_).pipe(m_(c)),n,u).pipe(m_(c)).subscribe(()=>{O_.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let R_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),D_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),P_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),L_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var U_=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(U_||(U_={})),U_))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const M_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function V_(t){const e=Array.from(t.querySelectorAll(M_)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,v=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=v&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let j_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$,Zo]]}),t})(),q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["",8,"navbar"]]}),t})(),G_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),B_=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(C_))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(C_))},token:t,providedIn:"root"}),t})();class Z_{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const H_=()=>{};let z_=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):H_}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(s))},token:t,providedIn:"root"}),t})(),K_=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ne(1)).subscribe(()=>{N_(this._zone,this._el.nativeElement,(t,e)=>{e&&E_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return N_(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class $_{close(t){}dismiss(t){}}class J_{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new kt.xQ,this._dismissed=new kt.xQ,this._hidden=new kt.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(m_(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(m_(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,xt.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),l_(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var W_=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(W_||(W_={})),W_))();let Y_=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new kt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new kt.xQ,this.hidden=new kt.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=l_(N_(this._zone,t,()=>t.classList.remove("show"),e),N_(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};l_(N_(this._zone,this._elRef.nativeElement,(t,e)=>{e&&E_(t),t.classList.add("show")},t),N_(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{n_(t,"keydown").pipe(m_(this._closed$),ce(t=>t.which===U_.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(W_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;n_(this._dialogEl.nativeElement,"mousedown").pipe(m_(this._closed$),(0,ke.b)(()=>e=!1),Qt(()=>n_(t,"mouseup").pipe(m_(this._closed$),ne(1))),ce(({target:e})=>t===e)).subscribe(()=>{e=!0}),n_(t,"click").pipe(m_(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(W_.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=V_(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&N_(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gf(I_,3),2&t){let t;r.iGM(t=r.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:T_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&t&&r.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Q_=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new kt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=n_(e,"focusin").pipe(m_(n),(0,Wt.U)(t=>t.target));n_(e,"keydown").pipe(m_(n),ce(t=>t.which===U_.Tab),b_(t)).subscribe(([t,n])=>{const[r,i]=V_(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&n_(e,"click").pipe(m_(n),b_(t),(0,Wt.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:S_(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new $_,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new J_(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(K_).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Y_).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{S_(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{S_(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Z_([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Z_([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Z_([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:$_,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Z_([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(s),r.LFG(z_),r.LFG(r.FYo),r.LFG(r.R0b))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r.z2F),(0,r.LFG)(r.gxx),(0,r.LFG)(s),(0,r.LFG)(z_),(0,r.LFG)(r.FYo),(0,r.LFG)(r.R0b))},token:t,providedIn:"root"}),t})(),X_=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(Q_),r.LFG(B_))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r._Vd),(0,r.LFG)(r.gxx),(0,r.LFG)(Q_),(0,r.LFG)(B_))},token:t,providedIn:"root"}),t})(),tT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[X_]}),t})(),eT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),nT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),rT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),iT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),oT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),sT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),aT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})(),uT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let cT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$]]}),t})();const lT=[R_,D_,P_,L_,F_,j_,G_,tT,eT,nT,rT,iT,oT,sT,aT,uT,cT];let hT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[lT,R_,D_,P_,L_,F_,j_,G_,tT,eT,nT,rT,iT,oT,sT,aT,uT,cT]}),t})();function fT(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){return r.CHM(n),r.oxw(3),r.MAs(1).previous()})("click",function(){return r.CHM(n),r.oxw(3),r.MAs(1).previous()}),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()}if(2&t){var i=r.oxw(3);r.uIk("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.xp6(1),r.hij(" ",i.previousLabel," "),r.xp6(2),r.Oqu(i.screenReaderPageLabel)}}function dT(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()),2&t){var n=r.oxw(3);r.xp6(1),r.hij(" ",n.previousLabel," "),r.xp6(2),r.Oqu(n.screenReaderPageLabel)}}function pT(t,e){if(1&t&&(r.TgZ(0,"li",8),r.YNc(1,fT,4,3,"a",9),r.YNc(2,dT,4,2,"span",10),r.qZA()),2&t){r.oxw(2);var n=r.MAs(1);r.ekj("disabled",n.isFirstPage()),r.xp6(1),r.Q6J("ngIf",1<n.getCurrent()),r.xp6(1),r.Q6J("ngIf",n.isFirstPage())}}function gT(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){r.CHM(n);var t=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(t.value)})("click",function(){r.CHM(n);var t=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(t.value)}),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA(),r.qZA()}if(2&t){var i=r.oxw().$implicit,o=r.oxw(2);r.xp6(2),r.hij("",o.screenReaderPageLabel," "),r.xp6(2),r.Oqu("..."===i.label?i.label:r.xi3(5,2,i.label,""))}}function mT(t,e){if(1&t&&(r.ynx(0),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA(),r.BQk()),2&t){var n=r.oxw().$implicit,i=r.oxw(2);r.xp6(2),r.hij("",i.screenReaderCurrentLabel," "),r.xp6(2),r.Oqu("..."===n.label?n.label:r.xi3(5,2,n.label,""))}}function vT(t,e){if(1&t&&(r.TgZ(0,"li"),r.YNc(1,gT,6,5,"a",9),r.YNc(2,mT,6,5,"ng-container",10),r.qZA()),2&t){var n=e.$implicit;r.oxw(2);var i=r.MAs(1);r.ekj("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.xp6(1),r.Q6J("ngIf",i.getCurrent()!==n.value),r.xp6(1),r.Q6J("ngIf",i.getCurrent()===n.value)}}function yT(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){return r.CHM(n),r.oxw(3),r.MAs(1).next()})("click",function(){return r.CHM(n),r.oxw(3),r.MAs(1).next()}),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()}if(2&t){var i=r.oxw(3);r.uIk("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.xp6(1),r.hij(" ",i.nextLabel," "),r.xp6(2),r.Oqu(i.screenReaderPageLabel)}}function bT(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()),2&t){var n=r.oxw(3);r.xp6(1),r.hij(" ",n.nextLabel," "),r.xp6(2),r.Oqu(n.screenReaderPageLabel)}}function wT(t,e){if(1&t&&(r.TgZ(0,"li",13),r.YNc(1,yT,4,3,"a",9),r.YNc(2,bT,4,2,"span",10),r.qZA()),2&t){r.oxw(2);var n=r.MAs(1);r.ekj("disabled",n.isLastPage()),r.xp6(1),r.Q6J("ngIf",!n.isLastPage()),r.xp6(1),r.Q6J("ngIf",n.isLastPage())}}function _T(t,e){if(1&t&&(r.TgZ(0,"ul",3),r.YNc(1,pT,3,4,"li",4),r.TgZ(2,"li",5),r._uU(3),r.qZA(),r.YNc(4,vT,3,6,"li",6),r.YNc(5,wT,3,4,"li",7),r.qZA()),2&t){var n=r.oxw(),i=r.MAs(1);r.ekj("responsive",n.responsive),r.uIk("aria-label",n.screenReaderPaginationLabel),r.xp6(1),r.Q6J("ngIf",n.directionLinks),r.xp6(2),r.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),r.xp6(1),r.Q6J("ngForOf",i.pages),r.xp6(1),r.Q6J("ngIf",n.directionLinks)}}var TT=function(){function t(){this.change=new r.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),IT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ST=Number.MAX_SAFE_INTEGER,ET=(function(){function t(t){this.service=t,this.state={}}t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||ST),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]})},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([IT("design:paramtypes",[TT])],t)).\u0275fac=function(e){return new(e||t)(r.Y36(TT))},t.\u0275pipe=r.Yjl({name:"paginate",type:t,pure:!1})}(),function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),AT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function CT(t){return!!t&&"false"!==t}var xT=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=CT(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=CT(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=CT(t)},enumerable:!0,configurable:!0}),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"id",void 0),ET([(0,r.IIB)(),AT("design:type",Number)],t.prototype,"maxSize",void 0),ET([(0,r.IIB)(),AT("design:type",Boolean),AT("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),ET([(0,r.IIB)(),AT("design:type",Boolean),AT("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),ET([(0,r.IIB)(),AT("design:type",Boolean),AT("design:paramtypes",[Boolean])],t.prototype,"responsive",null),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"previousLabel",void 0),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"nextLabel",void 0),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),ET([(0,r.IIB)(),AT("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),ET([(0,r.r_U)(),AT("design:type",r.vpe)],t.prototype,"pageChange",void 0),ET([(0,r.r_U)(),AT("design:type",r.vpe)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.TgZ(0,"pagination-template",0,1),r.NdJ("pageChange",function(t){return e.pageChange.emit(t)})("pageBoundsCorrection",function(t){return e.pageBoundsCorrection.emit(t)}),r.YNc(2,_T,6,8,"ul",2),r.qZA()),2&t){var n=r.MAs(1);r.Q6J("id",e.id)("maxSize",e.maxSize),r.xp6(2),r.Q6J("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[NT,M,F]},pipes:function(){return[K]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),kT=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},OT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},NT=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.ceil(n/e),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},kT([(0,r.IIB)(),OT("design:type",String)],t.prototype,"id",void 0),kT([(0,r.IIB)(),OT("design:type",Number)],t.prototype,"maxSize",void 0),kT([(0,r.r_U)(),OT("design:type",r.vpe)],t.prototype,"pageChange",void 0),kT([(0,r.r_U)(),OT("design:type",r.vpe)],t.prototype,"pageBoundsCorrection",void 0),(t=kT([OT("design:paramtypes",[TT,r.sBO])],t)).\u0275fac=function(e){return new(e||t)(r.Y36(TT),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.TTD]}),t}(),RT=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[TT],imports:[[$]]}),t}();function DT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr",7),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td",8),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td",8),r._uU(10),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"button",9),r.NdJ("click",function(){r.CHM(t);const n=e.$implicit;return r.oxw().eliminar(n)}),r._uU(13,"Eliminar"),r.qZA(),r.TgZ(14,"button",10),r.NdJ("click",function(){r.CHM(t);const n=e.$implicit,i=r.oxw(),o=r.MAs(23);return i.editar(o,n)}),r._uU(15,"Editar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.empresa),r.xp6(2),r.Oqu(t.rfc),r.xp6(2),r.AsE("",t.nom_prov," ",t.app_prov,""),r.xp6(2),r.Oqu(t.telefono),r.xp6(2),r.HOy("",t.calle,", ",t.colonia,", ",t.municipio,", ",t.ciudad,"")}}function PT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",30),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).guardarProveedor()}),r._uU(1,"Guardar"),r.qZA()}}function LT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",31),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).actualizarProveedor()}),r._uU(1,"Actualizar"),r.qZA()}}function FT(t,e){if(1&t&&(r.TgZ(0,"div",11),r.TgZ(1,"h4",12),r._uU(2,"Crear/Actualizar Producto"),r.qZA(),r.TgZ(3,"button",13),r.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),r.TgZ(4,"span",14),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",15),r.TgZ(7,"form"),r.TgZ(8,"div",16),r.TgZ(9,"form",17),r.TgZ(10,"div",16),r.TgZ(11,"strong"),r.TgZ(12,"label",8),r._uU(13,"empresa"),r.qZA(),r.qZA(),r._UZ(14,"input",18),r.qZA(),r.TgZ(15,"div",16),r.TgZ(16,"strong"),r.TgZ(17,"label"),r._uU(18,"RFC"),r.qZA(),r.qZA(),r._UZ(19,"input",19),r.qZA(),r.TgZ(20,"div",16),r.TgZ(21,"strong"),r.TgZ(22,"label",8),r._uU(23,"Nombre"),r.qZA(),r.qZA(),r._UZ(24,"input",20),r.TgZ(25,"strong"),r.TgZ(26,"label",8),r._uU(27,"Apellidos"),r.qZA(),r.qZA(),r._UZ(28,"input",21),r.qZA(),r.TgZ(29,"div",16),r.TgZ(30,"strong"),r.TgZ(31,"label",8),r._uU(32,"telefono"),r.qZA(),r.qZA(),r._UZ(33,"input",22),r.qZA(),r.TgZ(34,"div",16),r.TgZ(35,"strong"),r.TgZ(36,"label",8),r._uU(37,"calle"),r.qZA(),r.qZA(),r._UZ(38,"input",23),r.qZA(),r.TgZ(39,"div",16),r.TgZ(40,"strong"),r.TgZ(41,"label",8),r._uU(42,"colonia"),r.qZA(),r.qZA(),r._UZ(43,"input",24),r.qZA(),r.TgZ(44,"div",16),r.TgZ(45,"strong"),r.TgZ(46,"label",8),r._uU(47,"municipio"),r.qZA(),r.qZA(),r._UZ(48,"input",25),r.qZA(),r.TgZ(49,"div",16),r.TgZ(50,"strong"),r.TgZ(51,"label",8),r._uU(52,"ciudad"),r.qZA(),r.qZA(),r._UZ(53,"input",26),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"div",27),r.YNc(55,PT,2,0,"button",28),r.YNc(56,LT,2,0,"button",29),r.qZA()),2&t){const t=r.oxw();r.xp6(9),r.Q6J("formGroup",t.proveedorForm),r.xp6(46),r.Q6J("ngIf",0==t.updSave),r.xp6(1),r.Q6J("ngIf",1==t.updSave)}}function UT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr",7),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.ALo(7,"number"),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.ALo(10,"number"),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"button",8),r.NdJ("click",function(){r.CHM(t);const n=e.$implicit;return r.oxw().eliminar(n)}),r._uU(13,"Eliminar"),r.qZA(),r.TgZ(14,"button",9),r.NdJ("click",function(){r.CHM(t);const n=e.$implicit,i=r.oxw(),o=r.MAs(21);return i.editar(o,n)}),r._uU(15,"Editar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.proveedor),r.xp6(2),r.Oqu(t.producto),r.xp6(2),r.hij("$",r.lcZ(7,4,t.costo),""),r.xp6(3),r.Oqu(r.lcZ(10,6,t.stock))}}function MT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).guardarProducto()}),r._uU(1,"Guardar"),r.qZA()}}function VT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",26),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).actualizarProducto()}),r._uU(1,"Actualizar"),r.qZA()}}function jT(t,e){if(1&t&&(r.TgZ(0,"div",10),r.TgZ(1,"h4",11),r._uU(2,"Crear/Actualizar Producto"),r.qZA(),r.TgZ(3,"button",12),r.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),r.TgZ(4,"span",13),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",14),r.TgZ(7,"form"),r.TgZ(8,"div",15),r.TgZ(9,"form",16),r.TgZ(10,"div",15),r.TgZ(11,"strong"),r.TgZ(12,"label",17),r._uU(13,"Proveedor"),r.qZA(),r.qZA(),r._UZ(14,"input",18),r.qZA(),r.TgZ(15,"div",15),r.TgZ(16,"strong"),r.TgZ(17,"label",17),r._uU(18,"Producto"),r.qZA(),r.qZA(),r._UZ(19,"input",19),r.qZA(),r.TgZ(20,"div",15),r.TgZ(21,"strong"),r.TgZ(22,"label",17),r._uU(23,"Costo"),r.qZA(),r.qZA(),r._UZ(24,"input",20),r.qZA(),r.TgZ(25,"div",15),r.TgZ(26,"strong"),r.TgZ(27,"label",17),r._uU(28,"Stock"),r.qZA(),r.qZA(),r._UZ(29,"input",21),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",22),r.YNc(31,MT,2,0,"button",23),r.YNc(32,VT,2,0,"button",24),r.qZA()),2&t){const t=r.oxw();r.xp6(9),r.Q6J("formGroup",t.productoForm),r.xp6(22),r.Q6J("ngIf",0==t.updSave),r.xp6(1),r.Q6J("ngIf",1==t.updSave)}}const qT=[{path:"proveedor",component:(()=>{class t{constructor(t,e,n,r,i,o){this.authServ=t,this.firebaseService=e,this.fb=n,this.modalService=r,this.fibaseService=i,this.router=o,this.user$=this.authServ.afServ.user,this.collection={data:[]},this.path="Proveedores/",this.closeResult=""}ngOnDestroy(){}ngOnInit(){this.authServ.getUserCurrent().subscribe(t=>{t?this.firebaseService.getDoc("Usuarios",t.uid).subscribe(t=>{this.usuario=t,this.loadData()}):(this.router.navigate(["login"]),console.log("No estas logueado"))})}loadData(){this.idFirebaseUpdate="",this.config={itemsPerPage:10,currentPage:1,totalItems:this.collection.data.length},this.proveedorForm=this.fb.group({empresa:["",qi.required],rfc:["",qi.required],nom_prov:["",qi.required],app_prov:["",qi.required],telefono:["",qi.required],calle:["",qi.required],colonia:["",qi.required],municipio:["",qi.required],ciudad:["",qi.required]}),this.fibaseService.getCollections(this.path).subscribe(t=>{this.collection.data=t.map(t=>({empresa:t.payload.doc.data().empresa,rfc:t.payload.doc.data().rfc,nom_prov:t.payload.doc.data().nom_prov,app_prov:t.payload.doc.data().app_prov,telefono:t.payload.doc.data().telefono,calle:t.payload.doc.data().calle,colonia:t.payload.doc.data().colonia,municipio:t.payload.doc.data().municipio,ciudad:t.payload.doc.data().ciudad,idFirebase:t.payload.doc.id})),console.log(this.collection.data)},t=>{console.error(t)})}pageChanged(t){this.config.currentPage=t}eliminar(t){this.fibaseService.deleteDoc(this.path,t.idFirebase)}guardarProveedor(){this.fibaseService.createArticulo(this.path,this.proveedorForm.value).then(t=>{this.proveedorForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}actualizarProveedor(){null!=this.idFirebaseUpdate&&(console.log(this.path,this.idFirebaseUpdate),this.fibaseService.updateArticulo(this.path,this.idFirebaseUpdate,this.proveedorForm.value).then(()=>{this.proveedorForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)}))}editar(t,e){this.updSave=!0,this.idFirebaseUpdate=e.idFirebase,this.proveedorForm.setValue({empresa:e.empresa,rfc:e.rfc,nom_prov:e.nom_prov,app_prov:e.app_prov,telefono:e.telefono,calle:e.calle,colonia:e.colonia,municipio:e.municipio,ciudad:e.ciudad}),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}nuevo(t){this.updSave=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===W_.ESC?(this.proveedorForm.reset(),"by pressing ESC"):t===W_.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fs),r.Y36($w),r.Y36(zo),r.Y36(X_),r.Y36($w),r.Y36(si))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-distribuidores"]],decls:24,vars:1,consts:[[2,"text-align","center","margin","3rem"],["type","button",1,"btn","btn-primary",2,"margin-bottom","1.5rem",3,"click"],[1,"table","table-hover"],[1,"table-primary"],["class","table-dark",4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],[1,"table-dark"],[2,"text-transform","capitalize"],["type","button",1,"btn","btn-danger",2,"margin-right","1rem",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","text","formControlName","empresa",1,"form-control"],["type","text","formControlName","rfc",1,"form-control"],["type","text","formControlName","nom_prov",1,"form-control"],["type","text","formControlName","app_prov",1,"form-control"],["type","text","formControlName","telefono",1,"form-control"],["type","text","formControlName","calle",1,"form-control"],["type","text","formControlName","colonia",1,"form-control"],["type","text","formControlName","municipio",1,"form-control"],["type","text","formControlName","ciudad",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",0),r.TgZ(2,"button",1),r.NdJ("click",function(){r.CHM(t);const n=r.MAs(23);return e.nuevo(n)}),r._uU(3,"A\xf1adir Nuevo Proveedor"),r.qZA(),r.TgZ(4,"table",2),r.TgZ(5,"thead"),r.TgZ(6,"tr",3),r.TgZ(7,"th"),r._uU(8,"Empresa"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"RFC"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Nombre"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Telefono"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Direccion"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Operiaciones"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"tbody"),r.YNc(20,DT,16,9,"tr",4),r.qZA(),r.qZA(),r.TgZ(21,"pagination-controls",5),r.NdJ("pageChange",function(t){return e.pageChanged(t)}),r.qZA(),r.YNc(22,FT,57,3,"ng-template",null,6,r.W1O),r.qZA(),r.qZA()}2&t&&(r.xp6(20),r.Q6J("ngForOf",e.collection.data))},directives:[F,xT,Po,ao,Do,jo,Li,so,Go,M],styles:[""]}),t})()},{path:"producto",component:(()=>{class t{constructor(t,e,n,r,i,o){this.authServ=t,this.firebaseService=e,this.fb=n,this.modalService=r,this.fibaseService=i,this.router=o,this.user$=this.authServ.afServ.user,this.collection={data:[]},this.path="Productos/",this.closeResult=""}ngOnDestroy(){}ngOnInit(){this.authServ.getUserCurrent().subscribe(t=>{t?this.firebaseService.getDoc("Usuarios",t.uid).subscribe(t=>{this.usuario=t,this.loadData()}):(this.router.navigate(["login"]),console.log("No estas logueado"))})}loadData(){this.idFirebaseUpdate="",this.config={itemsPerPage:10,currentPage:1,totalItems:this.collection.data.length},this.productoForm=this.fb.group({proveedor:["",qi.required],producto:["",qi.required],costo:["",qi.required],stock:["",qi.required]}),this.fibaseService.getCollections(this.path).subscribe(t=>{this.collection.data=t.map(t=>({proveedor:t.payload.doc.data().proveedor,producto:t.payload.doc.data().producto,costo:t.payload.doc.data().costo,stock:t.payload.doc.data().stock,idFirebase:t.payload.doc.id})),console.log(this.collection.data)},t=>{console.error(t)})}pageChanged(t){this.config.currentPage=t}eliminar(t){this.fibaseService.deleteDoc(this.path,t.idFirebase)}guardarProducto(){this.fibaseService.createArticulo(this.path,this.productoForm.value).then(t=>{this.productoForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}actualizarProducto(){null!=this.idFirebaseUpdate&&(console.log(this.path,this.idFirebaseUpdate),this.fibaseService.updateArticulo(this.path,this.idFirebaseUpdate,this.productoForm.value).then(()=>{this.productoForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)}))}editar(t,e){this.updSave=!0,this.idFirebaseUpdate=e.idFirebase,this.productoForm.setValue({proveedor:e.proveedor,producto:e.producto,costo:e.costo,stock:e.stock}),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}nuevo(t){this.updSave=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===W_.ESC?(this.productoForm.reset(),"by pressing ESC"):t===W_.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fs),r.Y36($w),r.Y36(zo),r.Y36(X_),r.Y36($w),r.Y36(si))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-productos"]],decls:22,vars:1,consts:[[2,"text-align","center","margin","3rem"],["type","button",1,"btn","btn-primary",2,"margin-bottom","1.5rem",3,"click"],[1,"table","table-hover"],[1,"table-primary"],["class","table-dark",4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],[1,"table-dark"],["type","button",1,"btn","btn-danger",2,"margin-right","1rem",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["for",""],["type","text","formControlName","proveedor",1,"form-control"],["type","text","formControlName","producto",1,"form-control"],["type","number","formControlName","costo",1,"form-control"],["type","number","formControlName","stock",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",0),r.TgZ(2,"button",1),r.NdJ("click",function(){r.CHM(t);const n=r.MAs(21);return e.nuevo(n)}),r._uU(3,"A\xf1adir Nuevo Producto"),r.qZA(),r.TgZ(4,"table",2),r.TgZ(5,"thead"),r.TgZ(6,"tr",3),r.TgZ(7,"th"),r._uU(8,"Proveedor"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Producto"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Costo"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Stock"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Operiaciones"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"tbody"),r.YNc(18,UT,16,8,"tr",4),r.qZA(),r.qZA(),r.TgZ(19,"pagination-controls",5),r.NdJ("pageChange",function(t){return e.pageChanged(t)}),r.qZA(),r.YNc(20,jT,33,3,"ng-template",null,6,r.W1O),r.qZA(),r.qZA()}2&t&&(r.xp6(18),r.Q6J("ngForOf",e.collection.data))},directives:[F,xT,Po,ao,Do,jo,Li,so,Go,Fo,M],pipes:[K],styles:[""]}),t})()},{path:"Inicio",component:t_},{path:"login",component:Ww},{path:"register",component:Qw},{path:"**",pathMatch:"full",redirectTo:"producto"}];let GT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[bi.forRoot(qT)],bi]}),t})();const BT=function(){return["/"]};function ZT(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",7),r.TgZ(1,"a",10),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).onLogout()}),r._uU(2,"Logout"),r.qZA(),r.qZA()}2&t&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,BT)))}const HT=function(){return["proveedor"]},zT=function(){return["productos"]};function KT(t,e){if(1&t&&(r.TgZ(0,"ul",6),r.TgZ(1,"li",7),r.TgZ(2,"a",8),r._uU(3,"Proveedores"),r.qZA(),r.qZA(),r.TgZ(4,"li",7),r.TgZ(5,"a",8),r._uU(6,"Productos"),r.qZA(),r.qZA(),r.YNc(7,ZT,3,2,"li",9),r.qZA()),2&t){const t=e.ngIf;r.xp6(2),r.Q6J("routerLink",r.DdM(3,HT)),r.xp6(3),r.Q6J("routerLink",r.DdM(4,zT)),r.xp6(2),r.Q6J("ngIf",t)}}const $T=function(){return["login"]},JT=function(){return["register"]};function WT(t,e){1&t&&(r.TgZ(0,"ul",11),r.TgZ(1,"li",7),r.TgZ(2,"a",8),r._uU(3,"Iniciar Sesion"),r.qZA(),r.qZA(),r.TgZ(4,"li",7),r.TgZ(5,"a",8),r._uU(6,"Registrate"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("routerLink",r.DdM(2,$T)),r.xp6(3),r.Q6J("routerLink",r.DdM(3,JT)))}let YT=(()=>{class t{constructor(t,e){this.authServ=t,this.router=e,this.user$=this.authServ.afServ.user}ngOnInit(){}onLogout(){return(0,xi.mG)(this,void 0,void 0,function*(){try{yield this.authServ.logout(),this.router.navigate(["login"])}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fs),r.Y36(si))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-navbar"]],decls:8,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["type","button","data-toggle","collapse","data-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],["class","navbar-nav mx-auto mr-3",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto","mr-3"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["class","nav-item",4,"ngIf"],[1,"nav-link",3,"routerLink","click"],[1,"navbar-nav","mx-auto"]],template:function(t,e){if(1&t&&(r.TgZ(0,"nav",0),r.TgZ(1,"button",1),r._UZ(2,"span",2),r.qZA(),r.TgZ(3,"div",3),r.YNc(4,KT,8,5,"ul",4),r.ALo(5,"async"),r.YNc(6,WT,7,4,"ng-template",null,5,r.W1O),r.qZA(),r.qZA()),2&t){const t=r.MAs(7);r.xp6(4),r.Q6J("ngIf",r.lcZ(5,2,e.user$))("ngIfElse",t)}},directives:[q_,M,ai],pipes:[z],styles:[""]}),t})(),QT=(()=>{class t{constructor(){this.title="Tienda"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r._UZ(0,"app-navbar"),r._UZ(1,"router-outlet"))},directives:[YT,ci],styles:[""]}),t})();class XT{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new tI(t,this.dueTime,this.scheduler))}}class tI extends Pt.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(eI,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function eI(t){t.debouncedNext()}var nI="firebasestorage.googleapis.com",rI=function(t){function e(n,r){var i=t.call(this,iI(n),"Firebase Storage: "+r+" ("+iI(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,xi.ZT)(e,t),e.prototype._codeEquals=function(t){return iI(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ws.ZR);function iI(t){return"storage/"+t}function oI(){return new rI("unknown","An unknown error occurred, please check the error payload for server response.")}function sI(){return new rI("canceled","User canceled the upload/download.")}function aI(){return new rI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function uI(t){return new rI("invalid-argument",t)}function cI(){return new rI("app-deleted","The Firebase app was deleted.")}function lI(t){return new rI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hI(t,e){return new rI("invalid-format","String does not match format '"+t+"': "+e)}function fI(t){throw new rI("internal-error","Internal error: "+t)}var dI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pI=function(t,e){this.data=t,this.contentType=e||null};function gI(t,e){switch(t){case dI.RAW:return new pI(mI(e));case dI.BASE64:case dI.BASE64URL:return new pI(vI(t,e));case dI.DATA_URL:return new pI((n=new yI(e)).base64?vI(dI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(xw){throw hI(dI.DATA_URL,"Malformed data URL.")}return mI(e)}(n.rest),new yI(e).contentType)}var n;throw oI()}function mI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function vI(t,e){switch(t){case dI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw hI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case dI.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw hI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(xw){throw hI(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var yI=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw hI(dI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},bI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wI(t){switch(t){case"running":case"pausing":case"canceling":return bI.RUNNING;case"paused":return bI.PAUSED;case"success":return bI.SUCCESS;case"canceled":return bI.CANCELED;case"error":default:return bI.ERROR}}var _I=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(_I||(_I={})),_I))(),TI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_I.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=_I.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=_I.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw fI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw fI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw fI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(xw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw fI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),II=function(){function t(){}return t.prototype.createXhrIo=function(){return new TI},t}(),SI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(xw){return new t(e,"")}if(""===r.path)return r;throw new rI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===nI?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new rI("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),EI=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function AI(t){return"string"==typeof t||t instanceof String}function CI(t){return xI()&&t instanceof Blob}function xI(){return"undefined"!=typeof Blob}function kI(t,e,n,r){if(r<e)throw uI("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw uI("Invalid value for '"+t+"'. Expected "+n+" or less.")}function OI(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function NI(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var RI=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(xw){o(xw)}else null!==s?((r=oI()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?cI():sI():new rI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new DI(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new DI(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===_I.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new DI(s,n))}else{var a=n.getErrorCode()===_I.ABORT;e(!1,new DI(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,xi.ev)([null,t],e));else{var r;u()||s?l.call.apply(l,(0,xi.ev)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),DI=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function PI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function LI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=PI();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(xI())return new Blob(t);throw new rI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var FI=function(){function t(t,e){var n=0,r="";CI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(CI(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xI()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(LI.apply(null,r))}var i=e.map(function(t){return AI(t)?gI(dI.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function UI(t){var e;try{e=JSON.parse(t)}catch(xw){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function MI(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function VI(t,e){return e}var jI=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||VI},qI=null;function GI(){if(qI)return qI;var t=[];t.push(new jI("bucket")),t.push(new jI("generation")),t.push(new jI("metageneration")),t.push(new jI("name","fullPath",!0));var e=new jI("name");e.xform=function(t,e){return function(t){return!AI(t)||t.length<2?t:MI(t)}(e)},t.push(e);var n=new jI("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new jI("timeCreated")),t.push(new jI("updated")),t.push(new jI("md5Hash",null,!0)),t.push(new jI("cacheControl",null,!0)),t.push(new jI("contentDisposition",null,!0)),t.push(new jI("contentEncoding",null,!0)),t.push(new jI("contentLanguage",null,!0)),t.push(new jI("contentType",null,!0)),t.push(new jI("metadata","customMetadata",!0)),qI=t}function BI(t,e,n){var r=UI(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new SI(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function ZI(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var HI=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function zI(t){if(!t)throw oI()}function KI(t,e){return function(n,r){var i=BI(t,r,e);return zI(null!==i),i}}function $I(t){return function(e,n){var r;return(r=401===e.getStatus()?new rI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new rI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new rI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function JI(t){var e=$I(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new rI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function WI(t,e,n){var r=OI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new HI(r,"GET",KI(t,n),i);return o.errorHandler=JI(e),o}function YI(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var QI=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function XI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(xw){zI(!1)}return zI(!!n&&-1!==(e||["active"]).indexOf(n)),n}var tS=262144,eS=function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function nS(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var rS=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=GI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=YI(e,r,i),a={name:s.fullPath},u=OI(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=ZI(s,n),h=new HI(u,"POST",function(t){var e;XI(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(xw){zI(!1)}return zI(AI(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=$I(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new HI(n,"POST",function(t){var e=XI(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(xw){zI(!1)}n||zI(!1);var i=Number(n);return zI(!isNaN(i)),new QI(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=$I(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=tS*this._chunkMultiplier,n=new QI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new QI(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new rI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw aI();var p=new HI(n,"POST",function(t,n){var i,s=XI(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?KI(e,o)(t,n):null,new QI(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=$I(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(xw){return t._error=xw,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){tS*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=WI(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=YI(e,r,i),c=ZI(u,n),l=FI.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw aI();var h={name:u.fullPath},f=OI(o,t.host),d=t.maxUploadRetryTime,p=new HI(f,"POST",KI(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=$I(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=sI(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=wI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new eS(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(wI(this._state)){case bI.SUCCESS:nS(this._resolve.bind(null,this.snapshot))();break;case bI.CANCELED:case bI.ERROR:nS(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(wI(this._state)){case bI.RUNNING:case bI.PAUSED:t.next&&nS(t.next.bind(t,this.snapshot))();break;case bI.SUCCESS:t.complete&&nS(t.complete.bind(t))();break;case bI.CANCELED:case bI.ERROR:t.error&&nS(t.error.bind(t,this._error))();break;default:t.error&&nS(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),iS=function(){function t(t,e){this._service=t,this._location=e instanceof SI?e:SI.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new SI(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return MI(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new SI(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw lI(t)},t}();function oS(t){var e={prefixes:[],items:[]};return sS(t,e).then(function(){return e})}function sS(t,e,n){return(0,xi.mG)(this,void 0,void 0,function(){var r,i,o;return(0,xi.Jh)(this,function(s){switch(s.label){case 0:return[4,aS(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,sS(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function aS(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xi.Jh)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&kI("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=OI(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new HI(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=UI(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new SI(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new SI(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return zI(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=$I(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function uS(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new SI(t._location.bucket,n);return new iS(t.storage,r)}function cS(t){return/^[A-Za-z]+:\/\//.test(t)}function lS(t,e){if(t instanceof dS){var n=t;if(null==n._bucket)throw new rI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new iS(n,n._bucket);return null!=e?lS(r,e):r}if(void 0!==e){if(e.includes(".."))throw uI('`path` param cannot contain ".."');return uS(t,e)}return t}function hS(t,e){if(e&&cS(e)){if(t instanceof dS)return new iS(t,e);throw uI("To use ref(service, url), the first argument must be a Storage instance.")}return lS(t,e)}function fS(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:SI.makeFromBucketSpec(n,t)}var dS=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=nI,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?SI.makeFromBucketSpec(r,this._host):fS(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?SI.makeFromBucketSpec(this._url,t):fS(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){kI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){kI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,xi.mG)(this,void 0,void 0,function(){var t,e;return(0,xi.Jh)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new iS(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new EI(cI());var r=function(t,e,n,r,i){var o=NI(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new RI(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function pS(t,e){return hS(t=(0,ws.m9)(t),e)}var gS,mS,vS=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),yS=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new vS(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new vS(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new vS(t,i,i._ref))}:{next:e.next?function(t){return e.next(new vS(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),bS=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new wS(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new wS(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),wS=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return uS(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new yS(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new rS(t,new FI(e),n)}(t=(0,ws.m9)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=dI.RAW),this._throwIfRoot("putString");var r=gI(e,t),i=(0,xi.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yS(new rS(this._delegate,new FI(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return oS(t=(0,ws.m9)(t))}(this._delegate).then(function(e){return new bS(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return aS(t=(0,ws.m9)(t),e)}(this._delegate,t||void 0).then(function(t){return new bS(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=WI(t.storage,t._location,GI()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=(0,ws.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,xi.mG)(this,void 0,void 0,function(){var n,r;return(0,xi.Jh)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=OI(e.fullServerUrl(),t.host),o=ZI(n,r),s=t.maxOperationRetryTime,a=new HI(i,"PATCH",KI(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=JI(e),a}(t.storage,t._location,e,GI()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t=(0,ws.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=OI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new HI(r,"GET",function(t,e){return function(n,r){var i=BI(t,r,e);return zI(null!==i),function(t,e,n){var r=UI(e);if(null===r)return null;if(!AI(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return OI("/b/"+o(t.bucket)+"/o/"+o(r),n)+NI({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=JI(e),o}(t.storage,t._location,GI()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new rI("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,ws.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,xi.mG)(this,void 0,void 0,function(){var e,n;return(0,xi.Jh)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=OI(e.fullServerUrl(),t.host),r=new HI(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=JI(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=(0,ws.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw lI(t)},t}(),_S=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(cS(t))throw uI("ref() expected a child path but got a URL, use refFromURL instead.");return new wS(pS(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!cS(t))throw uI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{SI.makeFromUrl(t,this._delegate.host)}catch(xw){throw uI("refFromUrl() expected a valid full URL but got an invalid one.")}return new wS(pS(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function TS(t){const e=function(t){return new Mt.y(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=ds.P){return n=>n.lift(new XT(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Wt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function IS(t,e,n){return{getDownloadURL:()=>(0,xt.of)(void 0).pipe((0,Jo.QV)(e.outsideAngular),Qt(()=>t.getDownloadURL()),n),getMetadata:()=>(0,xt.of)(void 0).pipe((0,Jo.QV)(e.outsideAngular),Qt(()=>t.getMetadata()),n),delete:()=>(0,Ct.D)(t.delete()),child:r=>IS(t.child(r),e,n),updateMetadata:e=>(0,Ct.D)(t.updateMetadata(e)),put:(e,n)=>TS(t.put(e,n)),putString:(e,n,r)=>TS(t.putString(e,n,r)),listAll:()=>(0,Ct.D)(t.listAll())}}mS={TaskState:bI,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:dI,Storage:dS,Reference:wS},(gS=bs.Z).INTERNAL.registerComponent(new Nw.wA("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new _S(r,new dS(r,i,new II,n,bs.Z.SDK_VERSION))},"PUBLIC").setServiceProps(mS).setMultipleInstances(!0)),gS.registerVersion("@firebase/storage","0.5.1");const SS=new r.OlP("angularfire2.storageBucket"),ES=new r.OlP("angularfire2.storage.maxUploadRetryTime"),AS=new r.OlP("angularfire2.storage.maxOperationRetryTime");let CS=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new rs.HU(i),this.keepUnstableUntilFirst=(0,rs.ss)(this.schedulers);const a=(0,rs.on)(t,i,e);this.storage=(0,rs.sI)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return IS(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return IS(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return IS(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rs.Dh),r.LFG(rs.xv,8),r.LFG(SS,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ES,8),r.LFG(AS,8))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(rs.Dh),(0,r.LFG)(rs.xv,8),(0,r.LFG)(SS,8),(0,r.LFG)(r.Lbi),(0,r.LFG)(r.R0b),(0,r.LFG)(ES,8),(0,r.LFG)(AS,8))},token:t,providedIn:"any"}),t})(),xS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),kS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[CS],imports:[xS]}),t})();const OS={apiKey:"AIzaSyDof8t7hbHlZN_oHcDOnYb9za5I_Nf7D7A",authDomain:"mochulas-44b2e.firebaseapp.com",projectId:"mochulas-44b2e",storageBucket:"mochulas-44b2e.appspot.com",messagingSenderId:"842751910599",appId:"1:842751910599:web:bd582d291854b89de754e2"};let NS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[QT]}),t.\u0275inj=r.cJS({providers:[{provide:SS,useValue:"gs://claudia-32bd6.appspot.com"}],imports:[[At,GT,rs.hO.initializeApp(OS),hs,kS,Zo,Ho,hT,RT]]}),t})();St().bootstrapModule(NS).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=9575)}]);